d3=function(){function e(e){return e!=null&&!isNaN(e)}function t(e){return e.length}function n(e){var t=1;while(e*t%1)t*=10;return t}function r(e,t){try{for(var n in t){Object.defineProperty(e.prototype,n,{value:t[n],enumerable:false})}}catch(r){e.prototype=t}}function i(){}function s(){}function o(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function u(){}function a(e){function t(){var t=n,r=-1,i=t.length,s;while(++r<i)if(s=t[r].on)s.apply(this,arguments);return e}var n=[],r=new i;t.on=function(t,i){var s=r.get(t),o;if(arguments.length<2)return s&&s.on;if(s){s.on=null;n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1));r.remove(t)}if(i)n.push(r.set(t,{on:i}));return e};return t}function f(){fo.event.stopPropagation();fo.event.preventDefault()}function l(){var e=fo.event,t;while(t=e.sourceEvent)e=t;return e}function c(e,t){function n(){e.on(t,null)}e.on(t,function(){f();n()},true);setTimeout(n,0)}function h(e){var t=new u,n=0,r=arguments.length;while(++n<r)t[arguments[n]]=a(t);t.of=function(n,r){return function(i){try{var s=i.sourceEvent=fo.event;i.target=e;fo.event=i;t[i.type].apply(n,r)}finally{fo.event=s}}};return t}function p(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(bo<0&&(co.scrollX||co.scrollY)){n=fo.select(lo.body).append("svg").style("position","absolute").style("top",0).style("left",0);var i=n[0][0].getScreenCTM();bo=!(i.f||i.e);n.remove()}if(bo){r.x=t.pageX;r.y=t.pageY}else{r.x=t.clientX;r.y=t.clientY}r=r.matrixTransform(e.getScreenCTM().inverse());return[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function d(e){var t=-1,n=e.length,r=[];while(++t<n)r.push(e[t]);return r}function v(e){return Array.prototype.slice.call(e)}function m(e){So(e,Lo);return e}function g(e){return function(){return xo(e,this)}}function y(e){return function(){return To(e,this)}}function w(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function s(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);if(n==null)this.removeAttribute(e);else this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);if(n==null)this.removeAttributeNS(e.space,e.local);else this.setAttributeNS(e.space,e.local,n)}e=fo.ns.qualify(e);return t==null?e.local?r:n:typeof t==="function"?e.local?u:o:e.local?s:i}function E(e){return e.trim().replace(/\s+/g," ")}function S(e){return new RegExp("(?:^|\\s+)"+fo.requote(e)+"(?:\\s+|$)","g")}function x(e,t){function n(){var n=-1;while(++n<i)e[n](this,t)}function r(){var n=-1,r=t.apply(this,arguments);while(++n<i)e[n](this,r)}e=e.trim().split(/\s+/).map(T);var i=e.length;return typeof t==="function"?r:n}function T(e){var t=S(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";if(r){t.lastIndex=0;if(!t.test(i))n.setAttribute("class",E(i+" "+e))}else{n.setAttribute("class",E(i.replace(t," ")))}}}function N(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);if(r==null)this.style.removeProperty(e);else this.style.setProperty(e,r,n)}return t==null?r:typeof t==="function"?s:i}function C(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);if(n==null)delete this[e];else this[e]=n}return t==null?n:typeof t==="function"?i:r}function k(e){return{__data__:e}}function L(e){return function(){return ko(this,e)}}function A(e){if(!arguments.length)e=fo.ascending;return function(t,n){return!t-!n||e(t.__data__,n.__data__)}}function O(){}function M(e,t,n){function r(){var t=this[o];if(t){this.removeEventListener(e,t,t.$);delete this[o]}}function i(){var i=a(t,wo(arguments));r.call(this);this.addEventListener(e,this[o]=i,i.$=n);i._=t}function s(){var t=new RegExp("^__on([^.]+)"+fo.requote(e)+"$"),n;for(var r in this){if(n=r.match(t)){var i=this[r];this.removeEventListener(n[1],i,i.$);delete this[r]}}}var o="__on"+e,u=e.indexOf("."),a=_;if(u>0)e=e.substring(0,u);var f=Mo.get(e);if(f)e=f,a=D;return u?t?i:r:t?O:s}function _(e,t){return function(n){var r=fo.event;fo.event=n;t[0]=this.__data__;try{e.apply(this,t)}finally{fo.event=r}}}function D(e,t){var n=_(e,t);return function(e){var t=this,r=e.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){n.call(t,e)}}}function P(e,t){for(var n=0,r=e.length;n<r;n++){for(var i=e[n],s=0,o=i.length,u;s<o;s++){if(u=i[s])t(u,s,n)}}return e}function H(e){So(e,_o);return e}function B(){}function j(e,t,n){return new F(e,t,n)}function F(e,t,n){this.h=e;this.s=t;this.l=n}function I(e,t,n){function r(e){if(e>360)e-=360;else if(e<0)e+=360;if(e<60)return s+(o-s)*e/60;if(e<180)return o;if(e<240)return s+(o-s)*(240-e)/60;return s}function i(e){return Math.round(r(e)*255)}var s,o;e=e%360;if(e<0)e+=360;t=t<0?0:t>1?1:t;n=n<0?0:n>1?1:n;o=n<=.5?n*(1+t):n+t-n*t;s=2*n-o;return nt(i(e+120),i(e),i(e-120))}function q(e){return e>0?1:e<0?-1:0}function R(e){return Math.acos(Math.max(-1,Math.min(1,e)))}function U(e){return e>1?Fo/2:e<-1?-Fo/2:Math.asin(e)}function z(e){return(Math.exp(e)-Math.exp(-e))/2}function W(e){return(Math.exp(e)+Math.exp(-e))/2}function X(e){return(e=Math.sin(e/2))*e}function V(e,t,n){return new $(e,t,n)}function $(e,t,n){this.h=e;this.c=t;this.l=n}function J(e,t,n){return K(n,Math.cos(e*=qo)*t,Math.sin(e)*t)}function K(e,t,n){return new Q(e,t,n)}function Q(e,t,n){this.l=e;this.a=t;this.b=n}function G(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;i=Z(i)*Wo;r=Z(r)*Xo;s=Z(s)*Vo;return nt(tt(3.2404542*i-1.5371385*r-.4985314*s),tt(-.969266*i+1.8760108*r+.041556*s),tt(.0556434*i-.2040259*r+1.0572252*s))}function Y(e,t,n){return V(Math.atan2(n,t)*Ro,Math.sqrt(t*t+n*n),e)}function Z(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function et(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function tt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function nt(e,t,n){return new rt(e,t,n)}function rt(e,t,n){this.r=e;this.g=t;this.b=n}function it(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function st(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split(",");switch(o[1]){case"hsl":{return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100)};case"rgb":{return t(ft(u[0]),ft(u[1]),ft(u[2]))}}}if(a=Ko.get(e))return t(a.r,a.g,a.b);if(e!=null&&e.charAt(0)==="#"){if(e.length===4){r=e.charAt(1);r+=r;i=e.charAt(2);i+=i;s=e.charAt(3);s+=s}else if(e.length===7){r=e.substring(1,3);i=e.substring(3,5);s=e.substring(5,7)}r=parseInt(r,16);i=parseInt(i,16);s=parseInt(s,16)}return t(r,i,s)}function ot(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;if(s){u=a<.5?s/(i+r):s/(2-i-r);if(e==i)o=(t-n)/s+(t<n?6:0);else if(t==i)o=(n-e)/s+2;else o=(e-t)/s+4;o*=60}else{u=o=0}return j(o,u,a)}function ut(e,t,n){e=at(e);t=at(t);n=at(n);var r=et((.4124564*e+.3575761*t+.1804375*n)/Wo),i=et((.2126729*e+.7151522*t+.072175*n)/Xo),s=et((.0193339*e+.119192*t+.9503041*n)/Vo);return K(116*i-16,500*(r-i),200*(i-s))}function at(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ft(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function lt(e){return typeof e==="function"?e:function(){return e}}function ct(e){return e}function ht(e){return e.length===1?function(t,n){e(t==null?n:null)}:e}function pt(e,t){function n(e,n,s){if(arguments.length<3)s=n,n=null;var o=fo.xhr(e,t,s);o.row=function(e){return arguments.length?o.response((n=e)==null?r:i(e)):n};return o.row(n)}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(u).join(e)}function u(e){return a.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var a=new RegExp('["'+e+"\n]"),f=e.charCodeAt(0);n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})};n.parseRows=function(e,t){function n(){if(u>=o)return i;if(c)return c=false,r;var t=u;if(e.charCodeAt(t)===34){var n=t;while(n++<o){if(e.charCodeAt(n)===34){if(e.charCodeAt(n+1)!==34)break;++n}}u=n+2;var s=e.charCodeAt(n+1);if(s===13){c=true;if(e.charCodeAt(n+2)===10)++u}else if(s===10){c=true}return e.substring(t+1,n).replace(/""/g,'"')}while(u<o){var s=e.charCodeAt(u++),a=1;if(s===10)c=true;else if(s===13){c=true;if(e.charCodeAt(u)===10)++u,++a}else if(s!==f)continue;return e.substring(t,u-a)}return e.substring(t)}var r={},i={},s=[],o=e.length,u=0,a=0,l,c;while((l=n())!==i){var h=[];while(l!==r&&l!==i){h.push(l);l=n()}if(t&&!(h=t(h,a++)))continue;s.push(h)}return s};n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new s,i=[];t.forEach(function(e){for(var t in e){if(!r.has(t)){i.push(r.add(t))}}});return[i.map(u).join(e)].concat(t.map(function(t){return i.map(function(e){return u(t[e])}).join(e)})).join("\n")};n.formatRows=function(e){return e.map(o).join("\n")};return n}function dt(){var e,t=Date.now(),n=Yo;while(n){e=t-n.then;if(e>=n.delay)n.flush=n.callback(e);n=n.next}var r=vt()-t;if(r>24){if(isFinite(r)){clearTimeout(eu);eu=setTimeout(dt,r)}Zo=0}else{Zo=1;tu(dt)}}function vt(){var e=null,t=Yo,n=Infinity;while(t){if(t.flush){delete Go[t.callback.id];t=e?e.next=t.next:Yo=t.next}else{n=Math.min(n,t.then+t.delay);t=(e=t).next}}return n}function mt(e,t){var n=Math.pow(10,Math.abs(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function gt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function yt(e){return e+""}function bt(e,t){if(e&&cu.hasOwnProperty(e.type)){cu[e.type](e,t)}}function wt(e,t,n){var r=-1,i=e.length-n,s;t.lineStart();while(++r<i)s=e[r],t.point(s[0],s[1]);t.lineEnd()}function Et(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)wt(e[n],t,1);t.polygonEnd()}function St(){function e(e,t){e*=qo;t=t*qo/2+Fo/4;var n=e-r,o=Math.cos(t),u=Math.sin(t),a=s*u,f=pu,l=du,c=i*o+a*Math.cos(n),h=a*Math.sin(n);pu=f*c-l*h;du=l*c+f*h;r=e,i=o,s=u}var t,n,r,i,s;vu.point=function(o,u){vu.point=e;r=(t=o)*qo,i=Math.cos(u=(n=u)*qo/2+Fo/4),s=Math.sin(u)};vu.lineEnd=function(){e(t,n)}}function xt(e){function t(e,t){if(e<r)r=e;if(e>s)s=e;if(t<i)i=t;if(t>o)o=t}function n(){u.point=u.lineEnd=O}var r,i,s,o;var u={point:t,lineStart:O,lineEnd:O,polygonStart:function(){u.lineEnd=n},polygonEnd:function(){u.point=t}};return function(t){o=s=-(r=i=Infinity);fo.geo.stream(t,e(u));return[[r,i],[s,o]]}}function Tt(e,t){if(mu)return;++gu;e*=qo;var n=Math.cos(t*=qo);yu+=(n*Math.cos(e)-yu)/gu;bu+=(n*Math.sin(e)-bu)/gu;wu+=(Math.sin(t)-wu)/gu}function Nt(){var e,t;mu=1;Ct();mu=2;var n=Eu.point;Eu.point=function(r,i){n(e=r,t=i)};Eu.lineEnd=function(){Eu.point(e,t);kt();Eu.lineEnd=kt}}function Ct(){function e(e,i){e*=qo;var s=Math.cos(i*=qo),o=s*Math.cos(e),u=s*Math.sin(e),a=Math.sin(i),f=Math.atan2(Math.sqrt((f=n*a-r*u)*f+(f=r*o-t*a)*f+(f=t*u-n*o)*f),t*o+n*u+r*a);gu+=f;yu+=f*(t+(t=o));bu+=f*(n+(n=u));wu+=f*(r+(r=a))}var t,n,r;if(mu>1)return;if(mu<1){mu=1;gu=yu=bu=wu=0}Eu.point=function(i,s){i*=qo;var o=Math.cos(s*=qo);t=o*Math.cos(i);n=o*Math.sin(i);r=Math.sin(s);Eu.point=e}}function kt(){Eu.point=Tt}function Lt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function At(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ot(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Mt(e,t){e[0]+=t[0];e[1]+=t[1];e[2]+=t[2]}function _t(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Dt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t;e[1]/=t;e[2]/=t}function Pt(){return true}function Ht(e){return[Math.atan2(e[1],e[0]),Math.asin(Math.max(-1,Math.min(1,e[2])))]}function Bt(e,t){return Math.abs(e[0]-t[0])<Io&&Math.abs(e[1]-t[1])<Io}function jt(e,t,n,r,i){var s=[],o=[];e.forEach(function(e){if((t=e.length-1)<=0)return;var t,n=e[0],r=e[t];if(Bt(n,r)){i.lineStart();for(var u=0;u<t;++u)i.point((n=e[u])[0],n[1]);i.lineEnd();return}var a={point:n,points:e,other:null,visited:false,entry:true,subject:true},f={point:n,points:[n],other:a,visited:false,entry:false,subject:false};a.other=f;s.push(a);o.push(f);a={point:r,points:[r],other:null,visited:false,entry:false,subject:true};f={point:r,points:[r],other:a,visited:false,entry:true,subject:false};a.other=f;s.push(a);o.push(f)});o.sort(t);Ft(s);Ft(o);if(!s.length)return;if(n)for(var u=1,a=!n(o[0].point),f=o.length;u<f;++u){o[u].entry=a=!a}var l=s[0],c,h,p;while(1){c=l;while(c.visited)if((c=c.next)===l)return;h=c.points;i.lineStart();do{c.visited=c.other.visited=true;if(c.entry){if(c.subject){for(var u=0;u<h.length;u++)i.point((p=h[u])[0],p[1])}else{r(c.point,c.next.point,1,i)}c=c.next}else{if(c.subject){h=c.prev.points;for(var u=h.length;--u>=0;)i.point((p=h[u])[0],p[1])}else{r(c.point,c.prev.point,-1,i)}c=c.prev}c=c.other;h=c.points}while(!c.visited);i.lineEnd()}}function Ft(e){if(!(t=e.length))return;var t,n=0,r=e[0],i;while(++n<t){r.next=i=e[n];i.prev=r;r=i}r.next=i=e[0];i.prev=r}function It(e,t,n){return function(r){function i(t,n){if(e(t,n))r.point(t,n)}function s(e,t){c.point(e,t)}function o(){h.point=s;c.lineStart()}function u(){h.point=i;c.lineEnd()}function a(e,t){y.point(e,t);b.push([e,t])}function f(){y.lineStart();b=[]}function l(){a(b[0][0],b[0][1]);y.lineEnd();var e=y.clean(),t=g.buffer(),n,i=t.length;if(!i){m=true;v+=Ut(b,-1);b=null;return}b=null;if(e&1){n=t[0];d+=Ut(n,1);var i=n.length-1,s=-1,o;r.lineStart();while(++s<i)r.point((o=n[s])[0],o[1]);r.lineEnd();return}if(i>1&&e&2)t.push(t.pop().concat(t.shift()));p.push(t.filter(qt))}var c=t(r);var h={point:i,lineStart:o,lineEnd:u,polygonStart:function(){h.point=a;h.lineStart=f;h.lineEnd=l;m=false;v=d=0;p=[];r.polygonStart()},polygonEnd:function(){h.point=i;h.lineStart=o;h.lineEnd=u;p=fo.merge(p);if(p.length){jt(p,zt,null,n,r)}else if(d<-Io||m&&v<-Io){r.lineStart();n(null,null,1,r);r.lineEnd()}r.polygonEnd();p=null},sphere:function(){r.polygonStart();r.lineStart();n(null,null,1,r);r.lineEnd();r.polygonEnd()}};var p,d,v,m;var g=Rt(),y=t(g),b;return h}}function qt(e){return e.length>1}function Rt(){var e=[],t;return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:O,buffer:function(){var n=e;e=[];t=null;return n},rejoin:function(){if(e.length>1)e.push(e.pop().concat(e.shift()))}}}function Ut(e,t){if(!(n=e.length))return 0;var n,r=0,i=0,s=e[0],o=s[0],u=s[1],a=Math.cos(u),f=Math.atan2(t*Math.sin(o)*a,Math.sin(u)),l=1-t*Math.cos(o)*a,c=f,h,p;while(++r<n){s=e[r];a=Math.cos(u=s[1]);h=Math.atan2(t*Math.sin(o=s[0])*a,Math.sin(u));p=1-t*Math.cos(o)*a;if(Math.abs(l-2)<Io&&Math.abs(p-2)<Io)continue;if(Math.abs(p)<Io||Math.abs(l)<Io){}else if(Math.abs(Math.abs(h-f)-Fo)<Io){if(p+l>2)i+=4*(h-f)}else if(Math.abs(l-2)<Io)i+=4*(h-c);else i+=((3*Fo+h-f)%(2*Fo)-Fo)*(l+p);c=f,f=h,l=p}return i}function zt(e,t){return((e=e.point)[0]<0?e[1]-Fo/2-Io:Fo/2-e[1])-((t=t.point)[0]<0?t[1]-Fo/2-Io:Fo/2-t[1])}function Wt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart();i=1},point:function(s,o){var u=s>0?Fo:-Fo,a=Math.abs(s-t);if(Math.abs(a-Fo)<Io){e.point(t,n=(n+o)/2>0?Fo/2:-Fo/2);e.point(r,n);e.lineEnd();e.lineStart();e.point(u,n);e.point(s,n);i=0}else if(r!==u&&a>=Fo){if(Math.abs(t-r)<Io)t-=r*Io;if(Math.abs(s-u)<Io)s-=u*Io;n=Xt(t,n,s,o);e.point(r,n);e.lineEnd();e.lineStart();e.point(u,n);i=0}e.point(t=s,n=o);r=u},lineEnd:function(){e.lineEnd();t=n=NaN},clean:function(){return 2-i}}}function Xt(e,t,n,r){var i,s,o=Math.sin(e-n);return Math.abs(o)>Io?Math.atan((Math.sin(t)*(s=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*s*o)):(t+r)/2}function Vt(e,t,n,r){var i;if(e==null){i=n*Fo/2;r.point(-Fo,i);r.point(0,i);r.point(Fo,i);r.point(Fo,0);r.point(Fo,-i);r.point(0,-i);r.point(-Fo,-i);r.point(-Fo,0);r.point(-Fo,i)}else if(Math.abs(e[0]-t[0])>Io){var s=(e[0]<t[0]?1:-1)*Fo;i=n*s/2;r.point(-s,i);r.point(0,i);r.point(s,i)}else{r.point(t[0],t[1])}}function $t(e){function t(e,t){return Math.cos(e)*Math.cos(t)>s}function n(e){var n,s,a,f,l;return{lineStart:function(){f=a=false;l=1},point:function(c,h){var p=[c,h],d,v=t(c,h),m=o?v?0:i(c,h):v?i(c+(c<0?Fo:-Fo),h):0;if(!n&&(f=a=v))e.lineStart();if(v!==a){d=r(n,p);if(Bt(n,d)||Bt(p,d)){p[0]+=Io;p[1]+=Io;v=t(p[0],p[1])}}if(v!==a){l=0;if(v){e.lineStart();d=r(p,n);e.point(d[0],d[1])}else{d=r(n,p);e.point(d[0],d[1]);e.lineEnd()}n=d}else if(u&&n&&o^v){var g;if(!(m&s)&&(g=r(p,n,true))){l=0;if(o){e.lineStart();e.point(g[0][0],g[0][1]);e.point(g[1][0],g[1][1]);e.lineEnd()}else{e.point(g[1][0],g[1][1]);e.lineEnd();e.lineStart();e.point(g[0][0],g[0][1])}}}if(v&&(!n||!Bt(n,p))){e.point(p[0],p[1])}n=p,a=v,s=m},lineEnd:function(){if(a)e.lineEnd();n=null},clean:function(){return l|(f&&a)<<1}}}function r(e,t,n){var r=Lt(e),i=Lt(t);var o=[1,0,0],u=Ot(r,i),a=At(u,u),f=u[0],l=a-f*f;if(!l)return!n&&e;var c=s*a/l,h=-s*f/l,p=Ot(o,u),d=_t(o,c),v=_t(u,h);Mt(d,v);var m=p,g=At(d,m),y=At(m,m),b=g*g-y*(At(d,d)-1);if(b<0)return;var w=Math.sqrt(b),E=_t(m,(-g-w)/y);Mt(E,d);E=Ht(E);if(!n)return E;var S=e[0],x=t[0],T=e[1],N=t[1],C;if(x<S)C=S,S=x,x=C;var k=x-S,L=Math.abs(k-Fo)<Io,A=L||k<Io;if(!L&&N<T)C=T,T=N,N=C;if(A?L?T+N>0^E[1]<(Math.abs(E[0]-S)<Io?T:N):T<=E[1]&&E[1]<=N:k>Fo^(S<=E[0]&&E[0]<=x)){var O=_t(m,(-g+w)/y);Mt(O,d);return[E,Ht(O)]}}function i(t,n){var r=o?e:Fo-e,i=0;if(t<-r)i|=1;else if(t>r)i|=2;if(n<-r)i|=4;else if(n>r)i|=8;return i}var s=Math.cos(e),o=s>0,u=Math.abs(s)>Io,a=un(e,6*qo);return It(t,n,a)}function Jt(e,t,n,r){function i(r,i){return Math.abs(r[0]-e)<Io?i>0?0:3:Math.abs(r[0]-n)<Io?i>0?2:1:Math.abs(r[1]-t)<Io?i>0?1:0:i>0?3:2}function s(e,t){return o(e.point,t.point)}function o(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:n===0?t[1]-e[1]:n===1?e[0]-t[0]:n===2?e[1]-t[1]:t[0]-e[0]}function u(i,s){var o=s[0]-i[0],u=s[1]-i[1],a=[0,1];if(Math.abs(o)<Io&&Math.abs(u)<Io)return e<=i[0]&&i[0]<=n&&t<=i[1]&&i[1]<=r;if(Kt(e-i[0],o,a)&&Kt(i[0]-n,-o,a)&&Kt(t-i[1],u,a)&&Kt(i[1]-r,-u,a)){if(a[1]<1){s[0]=i[0]+a[1]*o;s[1]=i[1]+a[1]*u}if(a[0]>0){i[0]+=a[0]*o;i[1]+=a[0]*u}return true}return false}return function(a){function f(s){var o=i(s,-1),u=l([o===0||o===3?e:n,o>1?r:t]);return u}function l(e){var t=0,n=S.length,r=e[1];for(var i=0;i<n;++i){for(var s=1,o=S[i],u=o.length,a=o[0];s<u;++s){b=o[s];if(a[1]<=r){if(b[1]>r&&c(a,b,e)>0)++t}else{if(b[1]<=r&&c(a,b,e)<0)--t}a=b}}return t!==0}function c(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function h(s,u,a,f){var l=0,c=0;if(s==null||(l=i(s,a))!==(c=i(u,a))||o(s,u)<0^a>0){do{f.point(l===0||l===3?e:n,l>1?r:t)}while((l=(l+a+4)%4)!==c)}else{f.point(u[0],u[1])}}function p(i,s){return e<=i&&i<=n&&t<=s&&s<=r}function d(e,t){if(p(e,t))a.point(e,t)}function v(){T.point=g;if(S)S.push(x=[]);M=true;O=false;L=A=NaN}function m(){if(E){g(N,C);if(k&&O)w.rejoin();E.push(w.buffer())}T.point=d;if(O)a.lineEnd()}function g(e,t){e=Math.max(-xu,Math.min(xu,e));t=Math.max(-xu,Math.min(xu,t));var n=p(e,t);if(S)x.push([e,t]);if(M){N=e,C=t,k=n;M=false;if(n){a.lineStart();a.point(e,t)}}else{if(n&&O)a.point(e,t);else{var r=[L,A],i=[e,t];if(u(r,i)){if(!O){a.lineStart();a.point(r[0],r[1])}a.point(i[0],i[1]);if(!n)a.lineEnd()}else{a.lineStart();a.point(e,t)}}}L=e,A=t,O=n}var y=a,w=Rt(),E,S,x;var T={point:d,lineStart:v,lineEnd:m,polygonStart:function(){a=w;E=[];S=[]},polygonEnd:function(){a=y;if((E=fo.merge(E)).length){a.polygonStart();jt(E,s,f,h,a);a.polygonEnd()}else if(l([e,t])){a.polygonStart(),a.lineStart();h(null,null,1,a);a.lineEnd(),a.polygonEnd()}E=S=x=null}};var N,C,k,L,A,O,M;return T}}function Kt(e,t,n){if(Math.abs(t)<Io)return e<=0;var r=e/t;if(t>0){if(r>n[1])return false;if(r>n[0])n[0]=r}else{if(r<n[0])return false;if(r<n[1])n[1]=r}return true}function Qt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}if(e.invert&&t.invert)n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])};return n}function Gt(e){function t(t){function r(n,r){n=e(n,r);t.point(n[0],n[1])}function s(){l=NaN;v.point=o;t.lineStart()}function o(r,s){var o=Lt([r,s]),u=e(r,s);n(l,c,f,h,p,d,l=u[0],c=u[1],f=r,h=o[0],p=o[1],d=o[2],i,t);t.point(l,c)}function u(){v.point=r;t.lineEnd()}function a(){var e,r,a,m,g,y,b;s();v.point=function(t,n){o(e=t,r=n),a=l,m=c,g=h,y=p,b=d;v.point=o};v.lineEnd=function(){n(l,c,f,h,p,d,a,m,e,g,y,b,i,t);v.lineEnd=u;u()}}var f,l,c,h,p,d;var v={point:r,lineStart:s,lineEnd:u,polygonStart:function(){t.polygonStart();v.lineStart=a},polygonEnd:function(){t.polygonEnd();v.lineStart=s}};return v}function n(t,i,s,o,u,a,f,l,c,h,p,d,v,m){var g=f-t,y=l-i,b=g*g+y*y;if(b>4*r&&v--){var w=o+h,E=u+p,S=a+d,x=Math.sqrt(w*w+E*E+S*S),T=Math.asin(S/=x),N=Math.abs(Math.abs(S)-1)<Io?(s+c)/2:Math.atan2(E,w),C=e(N,T),k=C[0],L=C[1],A=k-t,O=L-i,M=y*A-g*O;if(M*M/b>r||Math.abs((g*A+y*O)/b-.5)>.3){n(t,i,s,o,u,a,k,L,N,w/=x,E/=x,S,v,m);m.point(k,L);n(k,L,N,w,E,S,f,l,c,h,p,d,v,m)}}}var r=.5,i=16;t.precision=function(e){if(!arguments.length)return Math.sqrt(r);i=(r=e*e)>0&&16;return t};return t}function Yt(e){return Zt(function(){return e})()}function Zt(e){function t(e){e=o(e[0]*qo,e[1]*qo);return[e[0]*a+m,g-e[1]*a]}function n(e){e=o.invert((e[0]-m)/a,(g-e[1])/a);return e&&[e[0]*Ro,e[1]*Ro]}function r(){o=Qt(s=nn(p,d,v),i);var e=i(c,h);m=f-e[0]*a;g=l+e[1]*a;return t}var i,s,o,u=Gt(function(e,t){e=i(e,t);return[e[0]*a+m,g-e[1]*a]}),a=150,f=480,l=250,c=0,h=0,p=0,d=0,v=0,m,g,y=Su,b=ct,w=null,E=null;t.stream=function(e){return en(s,y(u(b(e))))};t.clipAngle=function(e){if(!arguments.length)return w;y=e==null?(w=e,Su):$t((w=+e)*qo);return t};t.clipExtent=function(e){if(!arguments.length)return E;E=e;b=e==null?ct:Jt(e[0][0],e[0][1],e[1][0],e[1][1]);return t};t.scale=function(e){if(!arguments.length)return a;a=+e;return r()};t.translate=function(e){if(!arguments.length)return[f,l];f=+e[0];l=+e[1];return r()};t.center=function(e){if(!arguments.length)return[c*Ro,h*Ro];c=e[0]%360*qo;h=e[1]%360*qo;return r()};t.rotate=function(e){if(!arguments.length)return[p*Ro,d*Ro,v*Ro];p=e[0]%360*qo;d=e[1]%360*qo;v=e.length>2?e[2]%360*qo:0;return r()};fo.rebind(t,u,"precision");return function(){i=e.apply(this,arguments);t.invert=i.invert&&n;return r()}}function en(e,t){return{point:function(n,r){r=e(n*qo,r*qo),n=r[0];t.point(n>Fo?n-2*Fo:n<-Fo?n+2*Fo:n,r[1])},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function tn(e,t){return[e,t]}function nn(e,t,n){return e?t||n?Qt(sn(e),on(t,n)):sn(e):t||n?on(t,n):tn}function rn(e){return function(t,n){return t+=e,[t>Fo?t-2*Fo:t<-Fo?t+2*Fo:t,n]}}function sn(e){var t=rn(e);t.invert=rn(-e);return t}function on(e,t){function n(e,t){var n=Math.cos(t),u=Math.cos(e)*n,a=Math.sin(e)*n,f=Math.sin(t),l=f*r+u*i;return[Math.atan2(a*s-l*o,u*r-f*i),Math.asin(Math.max(-1,Math.min(1,l*s+a*o)))]}var r=Math.cos(e),i=Math.sin(e),s=Math.cos(t),o=Math.sin(t);n.invert=function(e,t){var n=Math.cos(t),u=Math.cos(e)*n,a=Math.sin(e)*n,f=Math.sin(t),l=f*s-a*o;return[Math.atan2(a*s+f*o,u*r+l*i),Math.asin(Math.max(-1,Math.min(1,l*r-u*i)))]};return n}function un(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,s,o,u){if(i!=null){i=an(n,i);s=an(n,s);if(o>0?i<s:i>s)i+=o*2*Fo}else{i=e+o*2*Fo;s=e}var a;for(var f=o*t,l=i;o>0?l>s:l<s;l-=f){u.point((a=Ht([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],a[1])}}}function an(e,t){var n=Lt(t);n[0]-=e;Dt(n);var r=R(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Io)%(2*Math.PI)}function fn(e,t,n){var r=fo.range(e,t-Io,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function ln(e,t,n){var r=fo.range(e,t-Io,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function cn(e){return e.source}function hn(e){return e.target}function pn(e,t,n,r){var i=Math.cos(t),s=Math.sin(t),o=Math.cos(r),u=Math.sin(r),a=i*Math.cos(e),f=i*Math.sin(e),l=o*Math.cos(n),c=o*Math.sin(n),h=2*Math.asin(Math.sqrt(X(r-t)+i*o*X(n-e))),p=1/Math.sin(h);var d=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*a+t*l,i=n*f+t*c,o=n*s+t*u;return[Math.atan2(i,r)*Ro,Math.atan2(o,Math.sqrt(r*r+i*i))*Ro]}:function(){return[e*Ro,t*Ro]};d.distance=h;return d}function dn(){function e(e,i){var s=Math.sin(i*=qo),o=Math.cos(i),u=Math.abs((e*=qo)-t),a=Math.cos(u);Tu+=Math.atan2(Math.sqrt((u=o*Math.sin(u))*u+(u=r*s-n*o*a)*u),n*s+r*o*a);t=e,n=s,r=o}var t,n,r;Nu.point=function(i,s){t=i*qo,n=Math.sin(s*=qo),r=Math.cos(s);Nu.point=e};Nu.lineEnd=function(){Nu.point=Nu.lineEnd=O}}function vn(e){var t=0,n=Fo/3,r=Zt(e),i=r(t,n);i.parallels=function(e){if(!arguments.length)return[t/Fo*180,n/Fo*180];return r(t=e[0]*Fo/180,n=e[1]*Fo/180)};return i}function mn(e,t){function n(e,t){var n=Math.sqrt(s-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,s=1+r*(2*i-r),o=Math.sqrt(s)/i;n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,Math.asin((s-(e*e+n*n)*i*i)/(2*i))]};return n}function gn(e,t){var n=e(t[0]),r=e([.5*(t[0][0]+t[1][0]),t[0][1]]),i=e([t[1][0],t[0][1]]),s=e(t[1]);var o=r[1]-n[1],u=r[0]-n[0],a=i[1]-r[1],f=i[0]-r[0];var l=o/u,c=a/f;var h=.5*(l*c*(n[1]-i[1])+c*(n[0]+r[0])-l*(r[0]+i[0]))/(c-l),p=(.5*(n[0]+r[0])-h)/l+.5*(n[1]+r[1]);var d=s[0]-h,v=s[1]-p,m=n[0]-h,g=n[1]-p,y=d*d+v*v,b=m*m+g*g;var w=Math.atan2(v,d),E=Math.atan2(g,m);return function(t){var n=t[0]-h,r=t[1]-p,i=n*n+r*r,s=Math.atan2(r,n);if(y<i&&i<b&&w<s&&s<E)return e.invert(t)}}function yn(){function e(e,t){ku+=i*e-r*t;r=e,i=t}var t,n,r,i;Lu.point=function(s,o){Lu.point=e;t=r=s,n=i=o};Lu.lineEnd=function(){e(t,n)}}function bn(){function e(e,t){o.push("M",e,",",t,s)}function t(e,t){o.push("M",e,",",t);u.point=n}function n(e,t){o.push("L",e,",",t)}function r(){u.point=e}function i(){o.push("Z")}var s=Nn(4.5),o=[];var u={point:e,lineStart:function(){u.point=t},lineEnd:r,polygonStart:function(){u.lineEnd=i},polygonEnd:function(){u.lineEnd=r;u.point=e},pointRadius:function(e){s=Nn(e);return u},result:function(){if(o.length){var e=o.join("");o=[];return e}}};return u}function wn(e,t){if(mu)return;yu+=e;bu+=t;++wu}function En(){function e(e,r){var i=e-t,s=r-n,o=Math.sqrt(i*i+s*s);yu+=o*(t+e)/2;bu+=o*(n+r)/2;wu+=o;t=e,n=r}var t,n;if(mu!==1){if(mu<1){mu=1;yu=bu=wu=0}else return}Au.point=function(r,i){Au.point=e;t=r,n=i}}function Sn(){Au.point=wn}function xn(){function e(e,t){var n=i*e-r*t;yu+=n*(r+e);bu+=n*(i+t);wu+=n*3;r=e,i=t}var t,n,r,i;if(mu<2){mu=2;yu=bu=wu=0}Au.point=function(s,o){Au.point=e;t=r=s,n=i=o};Au.lineEnd=function(){e(t,n)}}function Tn(e){function t(t,n){e.moveTo(t,n);e.arc(t,n,o,0,2*Fo)}function n(t,n){e.moveTo(t,n);u.point=r}function r(t,n){e.lineTo(t,n)}function i(){u.point=t}function s(){e.closePath()}var o=4.5;var u={point:t,lineStart:function(){u.point=n},lineEnd:i,polygonStart:function(){u.lineEnd=s},polygonEnd:function(){u.lineEnd=i;u.point=t},pointRadius:function(e){o=e;return u},result:O};return u}function Nn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+ +2*e+"z"}function Cn(e){var t=Gt(function(t,n){return e([t*Ro,n*Ro])});return function(e){e=t(e);return{point:function(t,n){e.point(t*qo,n*qo)},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}}function kn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),s=e(r*i);return[s*i*Math.sin(t),s*Math.sin(n)]}n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*s,r*o),Math.asin(r&&n*s/r)]};return n}function Ln(e,t){function n(e,t){var n=Math.abs(Math.abs(t)-Fo/2)<Io?0:o/Math.pow(i(t),s);return[n*Math.sin(s*e),o-n*Math.cos(s*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Fo/4+e/2)},s=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),o=r*Math.pow(i(e),s)/s;if(!s)return On;n.invert=function(e,t){var n=o-t,r=q(s)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/s,2*Math.atan(Math.pow(o/r,1/s))-Fo/2]};return n}function An(e,t){function n(e,t){var n=s-t;return[n*Math.sin(i*e),s-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),s=r/i+e;if(Math.abs(i)<Io)return tn;n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/i,s-q(i)*Math.sqrt(e*e+n*n)]};return n}function On(e,t){return[e,Math.log(Math.tan(Fo/4+t/2))]}function Mn(e){var t=Yt(e),n=t.scale,r=t.translate,i=t.clipExtent,s;t.scale=function(){var e=n.apply(t,arguments);return e===t?s?t.clipExtent(null):t:e};t.translate=function(){var e=r.apply(t,arguments);return e===t?s?t.clipExtent(null):t:e};t.clipExtent=function(e){var o=i.apply(t,arguments);if(o===t){if(s=e==null){var u=Fo*n(),a=r();i([[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]])}}else if(s){o=null}return o};return t.clipExtent(null)}function _n(e,t){var n=Math.cos(t)*Math.sin(e);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(t),Math.cos(e))]}function Dn(e){function t(t){function o(){a.push("M",s(e(f),u))}var a=[],f=[],l=-1,c=t.length,h,p=lt(n),d=lt(r);while(++l<c){if(i.call(this,h=t[l],l)){f.push([+p.call(this,h,l),+d.call(this,h,l)])}else if(f.length){o();f=[]}}if(f.length)o();return a.length?a.join(""):null}var n=Pn,r=Hn,i=Pt,s=Bn,o=s.key,u=.7;t.x=function(e){if(!arguments.length)return n;n=e;return t};t.y=function(e){if(!arguments.length)return r;r=e;return t};t.defined=function(e){if(!arguments.length)return i;i=e;return t};t.interpolate=function(e){if(!arguments.length)return o;if(typeof e==="function")o=s=e;else o=(s=Hu.get(e)||Bn).key;return t};t.tension=function(e){if(!arguments.length)return u;u=e;return t};return t}function Pn(e){return e[0]}function Hn(e){return e[1]}function Bn(e){return e.join("L")}function jn(e){return Bn(e)+"Z"}function Fn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function In(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function qn(e,t){return e.length<4?Bn(e):e[1]+zn(e.slice(1,e.length-1),Wn(e,t))}function Rn(e,t){return e.length<3?Bn(e):e[0]+zn((e.push(e[0]),e),Wn([e[e.length-2]].concat(e,[e[1]]),t))}function Un(e,t){return e.length<3?Bn(e):e[0]+zn(e,Wn(e,t))}function zn(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2){return Bn(e)}var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;if(n){r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1];i=e[1];a=2}if(t.length>1){u=t[1];s=e[a];a++;r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++){s=e[a];u=t[f];r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function Wn(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a){i=s;s=o;o=e[u];n.push([r*(o[0]-i[0]),r*(o[1]-i[1])])}return n}function Xn(e){if(e.length<3)return Bn(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s];Qn(a,o,u);while(++t<n){r=e[t];o.shift();o.push(r[0]);u.shift();u.push(r[1]);Qn(a,o,u)}t=-1;while(++t<2){o.shift();o.push(r[0]);u.shift();u.push(r[1]);Qn(a,o,u)}return a.join("")}function Vn(e){if(e.length<4)return Bn(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3){i=e[n];s.push(i[0]);o.push(i[1])}t.push(Kn(Fu,s)+","+Kn(Fu,o));--n;while(++n<r){i=e[n];s.shift();s.push(i[0]);o.shift();o.push(i[1]);Qn(t,s,o)}return t.join("")}function $n(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4){s=e[n%r];o.push(s[0]);u.push(s[1])}t=[Kn(Fu,o),",",Kn(Fu,u)];--n;while(++n<i){s=e[n%r];o.shift();o.push(s[0]);u.shift();u.push(s[1]);Qn(t,o,u)}return t.join("")}function Jn(e,t){var n=e.length-1;if(n){var r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n){a=e[u];f=u/n;a[0]=t*a[0]+(1-t)*(r+f*s);a[1]=t*a[1]+(1-t)*(i+f*o)}}return Xn(e)}function Kn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Qn(e,t,n){e.push("C",Kn(Bu,t),",",Kn(Bu,n),",",Kn(ju,t),",",Kn(ju,n),",",Kn(Fu,t),",",Kn(Fu,n))}function Gn(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Yn(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=Gn(i,s);while(++t<n){r[t]=(o+(o=Gn(i=s,s=e[t+1])))/2}r[t]=o;return r}function Zn(e){var t=[],n,r,i,s,o=Yn(e),u=-1,a=e.length-1;while(++u<a){n=Gn(e[u],e[u+1]);if(Math.abs(n)<1e-6){o[u]=o[u+1]=0}else{r=o[u]/n;i=o[u+1]/n;s=r*r+i*i;if(s>9){s=n*3/Math.sqrt(s);o[u]=s*r;o[u+1]=s*i}}}u=-1;while(++u<=a){s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u]));t.push([s||0,o[u]*s||0])}return t}function er(e){return e.length<3?Bn(e):e[0]+zn(e,Zn(e))}function tr(e,t,n,r){var i,s,o,u,a,f,l;i=r[e];s=i[0];o=i[1];i=r[t];u=i[0];a=i[1];i=r[n];f=i[0];l=i[1];return(l-o)*(u-s)-(a-o)*(f-s)>0}function nr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function rr(e,t,n,r){var i=e[0],s=n[0],o=t[0]-i,u=r[0]-s,a=e[1],f=n[1],l=t[1]-a,c=r[1]-f,h=(u*(a-f)-c*(i-s))/(c*o-u*l);return[i+h*o,a+h*l]}function ir(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null};var r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l");r.rightEnd=r.createHalfEdge(null,"l");r.leftEnd.r=r.rightEnd;r.rightEnd.l=r.leftEnd;r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e;t.r=e.r;e.r.l=t;e.r=t},leftBound:function(e){var t=r.leftEnd;do{t=t.r}while(t!=r.rightEnd&&i.rightOf(t,e));t=t.l;return t},del:function(e){e.l.r=e.r;e.r.l=e.l;e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[Iu[e.side]]}};var i={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}};var r=t.x-e.x,i=t.y-e.y,s=r>0?r:-r,o=i>0?i:-i;n.c=e.x*r+e.y*i+(r*r+i*i)*.5;if(s>o){n.a=1;n.b=i/r;n.c/=r}else{n.b=1;n.a=r/i;n.c/=i}return n},intersect:function(e,t){var n=e.edge,r=t.edge;if(!n||!r||n.region.r==r.region.r){return null}var i=n.a*r.b-n.b*r.a;if(Math.abs(i)<1e-10){return null}var s=(n.c*r.b-r.c*n.b)/i,o=(r.c*n.a-n.c*r.a)/i,u=n.region.r,a=r.region.r,f,l;if(u.y<a.y||u.y==a.y&&u.x<a.x){f=e;l=n}else{f=t;l=r}var c=s>=l.region.r.x;if(c&&f.side==="l"||!c&&f.side==="r"){return null}return{x:s,y:o}},rightOf:function(e,t){var n=e.edge,r=n.region.r,i=t.x>r.x;if(i&&e.side==="l"){return 1}if(!i&&e.side==="r"){return 0}if(n.a===1){var s=t.y-r.y,o=t.x-r.x,u=0,a=0;if(!i&&n.b<0||i&&n.b>=0){a=u=s>=n.b*o}else{a=t.x+t.y*n.b>n.c;if(n.b<0){a=!a}if(!a){u=1}}if(!u){var f=r.x-n.region.l.x;a=n.b*(o*o-s*s)<f*s*(1+2*o/f+n.b*n.b);if(n.b<0){a=!a}}}else{var l=n.c-n.a*t.x,c=t.y-l,h=t.x-r.x,p=l-r.y;a=c*c>h*h+p*p}return e.side==="l"?a:!a},endPoint:function(e,n,r){e.ep[n]=r;if(!e.ep[Iu[n]])return;t(e)},distance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}};var s={list:[],insert:function(e,t,n){e.vertex=t;e.ystar=t.y+n;for(var r=0,i=s.list,o=i.length;r<o;r++){var u=i[r];if(e.ystar>u.ystar||e.ystar==u.ystar&&t.x>u.vertex.x){continue}else{break}}i.splice(r,0,e)},del:function(e){for(var t=0,n=s.list,r=n.length;t<r&&n[t]!=e;++t){}n.splice(t,1)},empty:function(){return s.list.length===0},nextEvent:function(e){for(var t=0,n=s.list,r=n.length;t<r;++t){if(n[t]==e)return n[t+1]}return null},min:function(){var e=s.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return s.list.shift()}};r.init();n.bottomSite=n.list.shift();var o=n.list.shift(),u;var a,f,l,c,h;var p,d,v,m,g;var y,b;while(true){if(!s.empty()){u=s.min()}if(o&&(s.empty()||o.y<u.y||o.y==u.y&&o.x<u.x)){a=r.leftBound(o);f=r.right(a);p=r.rightRegion(a);y=i.bisect(p,o);h=r.createHalfEdge(y,"l");r.insert(a,h);m=i.intersect(a,h);if(m){s.del(a);s.insert(a,m,i.distance(m,o))}a=h;h=r.createHalfEdge(y,"r");r.insert(a,h);m=i.intersect(h,f);if(m){s.insert(h,m,i.distance(m,o))}o=n.list.shift()}else if(!s.empty()){a=s.extractMin();l=r.left(a);f=r.right(a);c=r.right(f);p=r.leftRegion(a);d=r.rightRegion(f);g=a.vertex;i.endPoint(a.edge,a.side,g);i.endPoint(f.edge,f.side,g);r.del(a);s.del(f);r.del(f);b="l";if(p.y>d.y){v=p;p=d;d=v;b="r"}y=i.bisect(p,d);h=r.createHalfEdge(y,b);r.insert(l,h);i.endPoint(y,Iu[b],g);m=i.intersect(l,h);if(m){s.del(l);s.insert(l,m,i.distance(m,p))}m=i.intersect(h,c);if(m){s.insert(h,m,i.distance(m,p))}}else{break}}for(a=r.right(r.leftEnd);a!=r.rightEnd;a=r.right(a)){t(a.edge)}}function sr(e){return e.x}function or(e){return e.y}function ur(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function ar(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=(n+i)*.5,u=(r+s)*.5,a=t.nodes;if(a[0])ar(e,a[0],n,r,o,u);if(a[1])ar(e,a[1],o,r,i,u);if(a[2])ar(e,a[2],n,u,o,s);if(a[3])ar(e,a[3],o,u,i,s)}}function fr(e,t){e=fo.rgb(e);t=fo.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+it(Math.round(n+s*e))+it(Math.round(r+o*e))+it(Math.round(i+u*e))}}function lr(e){var t=[e.a,e.b],n=[e.c,e.d],r=hr(t),i=cr(t,n),s=hr(pr(n,t,-i))||0;if(t[0]*n[1]<n[0]*t[1]){t[0]*=-1;t[1]*=-1;r*=-1;i*=-1}this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ro;this.translate=[e.e,e.f];this.scale=[r,s];this.skew=s?Math.atan2(i,s)*Ro:0}function cr(e,t){return e[0]*t[0]+e[1]*t[1]}function hr(e){var t=Math.sqrt(cr(e,e));if(t){e[0]/=t;e[1]/=t}return t}function pr(e,t,n){e[0]+=n*t[0];e[1]+=n*t[1];return e}function dr(e,t){t-=e=+e;return function(n){return e+t*n}}function vr(e,t){var n=[],r=[],i,s=fo.transform(e),o=fo.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;if(u[0]!=a[0]||u[1]!=a[1]){n.push("translate(",null,",",null,")");r.push({i:1,x:dr(u[0],a[0])},{i:3,x:dr(u[1],a[1])})}else if(a[0]||a[1]){n.push("translate("+a+")")}else{n.push("")}if(f!=l){if(f-l>180)l+=360;else if(l-f>180)f+=360;r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:dr(f,l)})}else if(l){n.push(n.pop()+"rotate("+l+")")}if(c!=h){r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:dr(c,h)})}else if(h){n.push(n.pop()+"skewX("+h+")")}if(p[0]!=d[0]||p[1]!=d[1]){i=n.push(n.pop()+"scale(",null,",",null,")");r.push({i:i-4,x:dr(p[0],d[0])},{i:i-2,x:dr(p[1],d[1])})}else if(d[0]!=1||d[1]!=1){n.push(n.pop()+"scale("+d+")")}i=r.length;return function(e){var t=-1,s;while(++t<i)n[(s=r[t]).i]=s.x(e);return n.join("")}}function mr(e,t){var n={},r={},i;for(i in e){if(i in t){n[i]=br(i)(e[i],t[i])}else{r[i]=e[i]}}for(i in t){if(!(i in e)){r[i]=t[i]}}return function(e){for(i in n)r[i]=n[i](e);return r}}function gr(e,t){var n,r,i,s=0,o=0,u=[],a=[],f,l;e=e+"",t=t+"";Ru.lastIndex=0;for(r=0;n=Ru.exec(t);++r){if(n.index)u.push(t.substring(s,o=n.index));a.push({i:u.length,x:n[0]});u.push(null);s=Ru.lastIndex}if(s<t.length)u.push(t.substring(s));for(r=0,f=a.length;(n=Ru.exec(e))&&r<f;++r){l=a[r];if(l.x==n[0]){if(l.i){if(u[l.i+1]==null){u[l.i-1]+=l.x;u.splice(l.i,1);for(i=r+1;i<f;++i)a[i].i--}else{u[l.i-1]+=l.x+u[l.i+1];u.splice(l.i,2);for(i=r+1;i<f;++i)a[i].i-=2}}else{if(u[l.i+1]==null){u[l.i]=l.x}else{u[l.i]=l.x+u[l.i+1];u.splice(l.i+1,1);for(i=r+1;i<f;++i)a[i].i--}}a.splice(r,1);f--;r--}else{l.x=dr(parseFloat(n[0]),parseFloat(l.x))}}while(r<f){l=a.pop();if(u[l.i+1]==null){u[l.i]=l.x}else{u[l.i]=l.x+u[l.i+1];u.splice(l.i+1,1)}f--}if(u.length===1){return u[0]==null?a[0].x:function(){return t}}return function(e){for(r=0;r<f;++r)u[(l=a[r]).i]=l.x(e);return u.join("")}}function yr(e,t){var n=fo.interpolators.length,r;while(--n>=0&&!(r=fo.interpolators[n](e,t)));return r}function br(e){return e=="transform"?vr:yr}function wr(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(yr(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}}function Er(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Sr(e){return function(t){return 1-e(1-t)}}function xr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Tr(e){return e*e}function Nr(e){return e*e*e}function Cr(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function kr(e){return function(t){return Math.pow(t,e)}}function Lr(e){return 1-Math.cos(e*Fo/2)}function Ar(e){return Math.pow(2,10*(e-1))}function Or(e){return 1-Math.sqrt(1-e*e)}function Mr(e,t){var n;if(arguments.length<2)t=.45;if(arguments.length)n=t/(2*Fo)*Math.asin(1/e);else e=1,n=t/4;return function(r){return 1+e*Math.pow(2,10*-r)*Math.sin((r-n)*2*Fo/t)}}function _r(e){if(!e)e=1.70158;return function(t){return t*t*((e+1)*t-e)}}function Dr(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Pr(e,t){e=fo.hcl(e);t=fo.hcl(t);var n=e.h,r=e.c,i=e.l,s=t.h-n,o=t.c-r,u=t.l-i;if(s>180)s-=360;else if(s<-180)s+=360;return function(e){return J(n+s*e,r+o*e,i+u*e)+""}}function Hr(e,t){e=fo.hsl(e);t=fo.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;if(s>180)s-=360;else if(s<-180)s+=360;return function(e){return I(n+s*e,r+o*e,i+u*e)+""}}function Br(e,t){e=fo.lab(e);t=fo.lab(t);var n=e.l,r=e.a,i=e.b,s=t.l-n,o=t.a-r,u=t.b-i;return function(e){return G(n+s*e,r+o*e,i+u*e)+""}}function jr(e,t){t-=e;return function(n){return Math.round(e+t*n)}}function Fr(e,t){t=t-(e=+e)?1/(t-e):0;return function(n){return(n-e)*t}}function Ir(e,t){t=t-(e=+e)?1/(t-e):0;return function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function qr(e){var t=e.source,n=e.target,r=Ur(t,n),i=[t];while(t!==r){t=t.parent;i.push(t)}var s=i.length;while(n!==r){i.splice(s,0,n);n=n.parent}return i}function Rr(e){var t=[],n=e.parent;while(n!=null){t.push(e);e=n;n=n.parent}t.push(e);return t}function Ur(e,t){if(e===t)return e;var n=Rr(e),r=Rr(t),i=n.pop(),s=r.pop(),o=null;while(i===s){o=i;i=n.pop();s=r.pop()}return o}function zr(e){e.fixed|=2}function Wr(e){e.fixed&=~6}function Xr(e){e.fixed|=4;e.px=e.x,e.py=e.y}function Vr(e){e.fixed&=~4}function $r(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;$r(a,t,n);e.charge+=a.charge;r+=a.charge*a.cx;i+=a.charge*a.cy}}if(e.point){if(!e.leaf){e.point.x+=Math.random()-.5;e.point.y+=Math.random()-.5}var f=t*n[e.point.index];e.charge+=e.pointCharge=f;r+=f*e.point.x;i+=f*e.point.y}e.cx=r/e.charge;e.cy=i/e.charge}function Jr(e,t){fo.rebind(e,t,"sort","children","value");e.nodes=e;e.links=Yr;return e}function Kr(e){return e.children}function Qr(e){return e.value}function Gr(e,t){return t.value-e.value}function Yr(e){return fo.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Zr(e){return e.x}function ei(e){return e.y}function ti(e,t,n){e.y0=t;e.y=n}function ni(e){return fo.range(e.length)}function ri(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function ii(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t){if((i=e[t][1])>r){n=t;r=i}}return n}function si(e){return e.reduce(oi,0)}function oi(e,t){return e+t[1]}function ui(e,t){return ai(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ai(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function fi(e){return[fo.min(e),fo.max(e)]}function li(e,t){return e.parent==t.parent?1:2}function ci(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function hi(e){var t=e.children,n;return t&&(n=t.length)?t[n-1]:e._tree.thread}function pi(e,t){var n=e.children;if(n&&(i=n.length)){var r,i,s=-1;while(++s<i){if(t(r=pi(n[s],t),e)>0){e=r}}}return e}function di(e,t){return e.x-t.x}function vi(e,t){return t.x-e.x}function mi(e,t){return e.depth-t.depth}function gi(e,t){function n(e,r){var i=e.children;if(i&&(a=i.length)){var s,o=null,u=-1,a;while(++u<a){s=i[u];n(s,o);o=s}}t(e,r)}n(e,null)}function yi(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0){s=r[i]._tree;s.prelim+=t;s.mod+=t;t+=s.shift+(n+=s.change)}}function bi(e,t,n){e=e._tree;t=t._tree;var r=n/(t.number-e.number);e.change+=r;t.change-=r;t.shift+=n;t.prelim+=n;t.mod+=n}function wi(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function Ei(e,t){return e.value-t.value}function Si(e,t){var n=e._pack_next;e._pack_next=t;t._pack_prev=e;t._pack_next=n;n._pack_prev=t}function xi(e,t){e._pack_next=t;t._pack_prev=e}function Ti(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-n*n-r*r>.001}function Ni(e){function t(e){r=Math.min(e.x-e.r,r);i=Math.max(e.x+e.r,i);s=Math.min(e.y-e.r,s);o=Math.max(e.y+e.r,o)}if(!(n=e.children)||!(p=n.length))return;var n,r=Infinity,i=-Infinity,s=Infinity,o=-Infinity,u,a,f,l,c,h,p;n.forEach(Ci);u=n[0];u.x=-u.r;u.y=0;t(u);if(p>1){a=n[1];a.x=a.r;a.y=0;t(a);if(p>2){f=n[2];Ai(u,a,f);t(f);Si(u,f);u._pack_prev=f;Si(f,a);a=u._pack_next;for(l=3;l<p;l++){Ai(u,a,f=n[l]);var d=0,v=1,m=1;for(c=a._pack_next;c!==a;c=c._pack_next,v++){if(Ti(c,f)){d=1;break}}if(d==1){for(h=u._pack_prev;h!==c._pack_prev;h=h._pack_prev,m++){if(Ti(h,f)){break}}}if(d){if(v<m||v==m&&a.r<u.r)xi(u,a=c);else xi(u=h,a);l--}else{Si(u,f);a=f;t(f)}}}}var g=(r+i)/2,y=(s+o)/2,b=0;for(l=0;l<p;l++){f=n[l];f.x-=g;f.y-=y;b=Math.max(b,f.r+Math.sqrt(f.x*f.x+f.y*f.y))}e.r=b;n.forEach(ki)}function Ci(e){e._pack_next=e._pack_prev=e}function ki(e){delete e._pack_next;delete e._pack_prev}function Li(e,t,n,r){var i=e.children;e.x=t+=r*e.x;e.y=n+=r*e.y;e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)Li(i[s],t,n,r)}}function Ai(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o;r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s;n.y=e.y+a*s-f*i}else{n.x=e.x+r;n.y=e.y}}function Oi(e){return 1+fo.max(e,function(e){return e.y})}function Mi(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function _i(e){var t=e.children;return t&&t.length?_i(t[0]):e}function Di(e){var t=e.children,n;return t&&(n=t.length)?Di(t[n-1]):e}function Pi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Hi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];if(i<0){n+=i/2;i=0}if(s<0){r+=s/2;s=0}return{x:n,y:r,dx:i,dy:s}}function Bi(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ji(e){return e.rangeExtent?e.rangeExtent():Bi(e.range())}function Fi(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function Ii(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;if(s<i){o=n,n=r,r=o;o=i,i=s,s=o}if(t=t(s-i)){e[n]=t.floor(i);e[r]=t.ceil(s)}return e}function qi(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;if(e[u]<e[0]){e=e.slice().reverse();t=t.slice().reverse()}while(++o<=u){i.push(n(e[o-1],e[o]));s.push(r(t[o-1],t[o]))}return function(t){var n=fo.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function Ri(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?qi:Fi,a=r?Ir:Fr;o=i(e,t,a,n);u=i(t,e,a,yr);return s}function s(e){return o(e)}var o,u;s.invert=function(e){return u(e)};s.domain=function(t){if(!arguments.length)return e;e=t.map(Number);return i()};s.range=function(e){if(!arguments.length)return t;t=e;return i()};s.rangeRound=function(e){return s.range(e).interpolate(jr)};s.clamp=function(e){if(!arguments.length)return r;r=e;return i()};s.interpolate=function(e){if(!arguments.length)return n;n=e;return i()};s.ticks=function(t){return Xi(e,t)};s.tickFormat=function(t,n){return Vi(e,t,n)};s.nice=function(){Ii(e,zi);return i()};s.copy=function(){return Ri(e,t,n,r)};return i()}function Ui(e,t){return fo.rebind(e,t,"range","rangeRound","interpolate","clamp")}function zi(e){e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1);return e&&{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function Wi(e,t){var n=Bi(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;if(s<=.15)i*=10;else if(s<=.35)i*=5;else if(s<=.75)i*=2;n[0]=Math.ceil(n[0]/i)*i;n[1]=Math.floor(n[1]/i)*i+i*.5;n[2]=i;return n}function Xi(e,t){return fo.range.apply(fo,Wi(e,t))}function Vi(e,t,n){var r=-Math.floor(Math.log(Wi(e,t)[2])/Math.LN10+.01);return fo.format(n?n.replace(ou,function(e,t,n,i,s,o,u,a,f,l){return[t,n,i,s,o,u,a,f||"."+(r-(l==="%")*2),l].join("")}):",."+r+"f")}function $i(e,t,n,r){function i(t){return e(n(t))}i.invert=function(t){return r(e.invert(t))};i.domain=function(t){if(!arguments.length)return e.domain().map(r);if(t[0]<0)n=Qi,r=Gi;else n=Ji,r=Ki;e.domain(t.map(n));return i};i.base=function(e){if(!arguments.length)return t;t=+e;return i};i.nice=function(){e.domain(Ii(e.domain(),Yi(t)));return i};i.ticks=function(){var i=Bi(e.domain()),s=[];if(i.every(isFinite)){var o=Math.log(t),u=Math.floor(i[0]/o),a=Math.ceil(i[1]/o),f=r(i[0]),l=r(i[1]),c=t%1?2:t;if(n===Qi){s.push(-Math.pow(t,-u));for(;u++<a;)for(var h=c-1;h>0;h--)s.push(-Math.pow(t,-u)*h)}else{for(;u<a;u++)for(var h=1;h<c;h++)s.push(Math.pow(t,u)*h);s.push(Math.pow(t,u))}for(u=0;s[u]<f;u++){}for(a=s.length;s[a-1]>l;a--){}s=s.slice(u,a)}return s};i.tickFormat=function(e,s){if(arguments.length<2)s=Qu;if(!arguments.length)return s;var o=Math.log(t),u=Math.max(.1,e/i.ticks().length),a=n===Qi?(f=-1e-12,Math.floor):(f=1e-12,Math.ceil),f;return function(e){return e/r(o*a(n(e)/o+f))<=u?s(e):""}};i.copy=function(){return $i(e.copy(),t,n,r)};return Ui(i,e)}function Ji(e){return Math.log(e<0?0:e)}function Ki(e){return Math.exp(e)}function Qi(e){return-Math.log(e>0?0:-e)}function Gi(e){return-Math.exp(-e)}function Yi(e){e=Math.log(e);var t={floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}};return function(){return t}}function Zi(e,t){function n(t){return e(r(t))}var r=es(t),i=es(1/t);n.invert=function(t){return i(e.invert(t))};n.domain=function(t){if(!arguments.length)return e.domain().map(i);e.domain(t.map(r));return n};n.ticks=function(e){return Xi(n.domain(),e)};n.tickFormat=function(e,t){return Vi(n.domain(),e,t)};n.nice=function(){return n.domain(Ii(n.domain(),zi))};n.exponent=function(e){if(!arguments.length)return t;var s=n.domain();r=es(t=e);i=es(1/t);return n.domain(s)};n.copy=function(){return Zi(e.copy(),t)};return Ui(n,e)}function es(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ts(e,t){function n(t){return o[((s.get(t)||s.set(t,e.push(t)))-1)%o.length]}function r(t,n){return fo.range(e.length).map(function(e){return t+n*e})}var s,o,u;n.domain=function(r){if(!arguments.length)return e;e=[];s=new i;var o=-1,u=r.length,a;while(++o<u)if(!s.has(a=r[o]))s.set(a,e.push(a));return n[t.t].apply(n,t.a)};n.range=function(e){if(!arguments.length)return o;o=e;u=0;t={t:"range",a:arguments};return n};n.rangePoints=function(i,s){if(arguments.length<2)s=0;var a=i[0],f=i[1],l=(f-a)/(Math.max(1,e.length-1)+s);o=r(e.length<2?(a+f)/2:a+l*s/2,l);u=0;t={t:"rangePoints",a:arguments};return n};n.rangeBands=function(i,s,a){if(arguments.length<2)s=0;if(arguments.length<3)a=s;var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=(c-l)/(e.length-s+2*a);o=r(l+h*a,h);if(f)o.reverse();u=h*(1-s);t={t:"rangeBands",a:arguments};return n};n.rangeRoundBands=function(i,s,a){if(arguments.length<2)s=0;if(arguments.length<3)a=s;var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=Math.floor((c-l)/(e.length-s+2*a)),p=c-l-(e.length-s)*h;o=r(l+Math.round(p/2),h);if(f)o.reverse();u=Math.round(h*(1-s));t={t:"rangeRoundBands",a:arguments};return n};n.rangeBand=function(){return u};n.rangeExtent=function(){return Bi(t.a[0])};n.copy=function(){return ts(e,t)};return n.domain(e)}function ns(e,t){function n(){var n=0,s=t.length;i=[];while(++n<s)i[n-1]=fo.quantile(e,n/s);return r}function r(e){if(isNaN(e=+e))return NaN;return t[fo.bisect(i,e)]}var i;r.domain=function(t){if(!arguments.length)return e;e=t.filter(function(e){return!isNaN(e)}).sort(fo.ascending);return n()};r.range=function(e){if(!arguments.length)return t;t=e;return n()};r.quantiles=function(){return i};r.copy=function(){return ns(e,t)};return n()}function rs(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(s*(t-e))))]}function i(){s=n.length/(t-e);o=n.length-1;return r}var s,o;r.domain=function(n){if(!arguments.length)return[e,t];e=+n[0];t=+n[n.length-1];return i()};r.range=function(e){if(!arguments.length)return n;n=e;return i()};r.copy=function(){return rs(e,t,n)};return i()}function is(e,t){function n(n){return t[fo.bisect(e,n)]}n.domain=function(t){if(!arguments.length)return e;e=t;return n};n.range=function(e){if(!arguments.length)return t;t=e;return n};n.copy=function(){return is(e,t)};return n}function ss(e){function t(e){return+e}t.invert=t;t.domain=t.range=function(n){if(!arguments.length)return e;e=n.map(t);return t};t.ticks=function(t){return Xi(e,t)};t.tickFormat=function(t,n){return Vi(e,t,n)};t.copy=function(){return ss(e)};return t}function os(e){return e.innerRadius}function us(e){return e.outerRadius}function as(e){return e.startAngle}function fs(e){return e.endAngle}function ls(e){var t,n=-1,r=e.length,i,s;while(++n<r){t=e[n];i=t[0];s=t[1]+ta;t[0]=i*Math.cos(s);t[1]=i*Math.sin(s)}return e}function cs(e){function t(t){function a(){h.push("M",u(e(d),c),l,f(e(p.reverse()),c),"Z")}var h=[],p=[],d=[],v=-1,m=t.length,g,y=lt(n),b=lt(i),w=n===r?function(){return S}:lt(r),E=i===s?function(){return x}:lt(s),S,x;while(++v<m){if(o.call(this,g=t[v],v)){p.push([S=+y.call(this,g,v),x=+b.call(this,g,v)]);d.push([+w.call(this,g,v),+E.call(this,g,v)])}else if(p.length){a();p=[];d=[]}}if(p.length)a();return h.length?h.join(""):null}var n=Pn,r=Pn,i=0,s=Hn,o=Pt,u=Bn,a=u.key,f=u,l="L",c=.7;t.x=function(e){if(!arguments.length)return r;n=r=e;return t};t.x0=function(e){if(!arguments.length)return n;n=e;return t};t.x1=function(e){if(!arguments.length)return r;r=e;return t};t.y=function(e){if(!arguments.length)return s;i=s=e;return t};t.y0=function(e){if(!arguments.length)return i;i=e;return t};t.y1=function(e){if(!arguments.length)return s;s=e;return t};t.defined=function(e){if(!arguments.length)return o;o=e;return t};t.interpolate=function(e){if(!arguments.length)return a;if(typeof e==="function")a=u=e;else a=(u=Hu.get(e)||Bn).key;f=u.reverse||u;l=u.closed?"M":"L";return t};t.tension=function(e){if(!arguments.length)return c;c=e;return t};return t}function hs(e){return e.radius}function ps(e){return[e.x,e.y]}function ds(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+ta;return[n*Math.cos(r),n*Math.sin(r)]}}function vs(){return 64}function ms(){return"circle"}function gs(e){var t=Math.sqrt(e/Fo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function ys(e,t){So(e,oa);e.id=t;return e}function bs(e,t,n,r){var i=e.id;return P(e,typeof n==="function"?function(e,s,o){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,s,o)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function ws(e){if(e==null)e="";return function(){this.textContent=e}}function Es(e,t,n,r){var s=e.__transition__||(e.__transition__={active:0,count:0}),o=s[n];if(!o){var u=r.time;o=s[n]={tween:new i,event:fo.dispatch("start","end"),time:u,ease:r.ease,delay:r.delay,duration:r.duration};++s.count;fo.timer(function(r){function i(r){if(s.active>n)return f();s.active=n;h.start.call(e,l,t);o.tween.forEach(function(n,r){if(r=r.call(e,l,t)){v.push(r)}});if(!a(r))fo.timer(a,0,u);return 1}function a(r){if(s.active!==n)return f();var i=(r-p)/d,o=c(i),u=v.length;while(u>0){v[--u].call(e,o)}if(i>=1){f();h.end.call(e,l,t);return 1}}function f(){if(--s.count)delete s[n];else delete e.__transition__;return 1}var l=e.__data__,c=o.ease,h=o.event,p=o.delay,d=o.duration,v=[];return p<=r?i(r):fo.timer(i,p,u),1},0,u);return o}}function Ss(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function xs(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Ts(e,t,n){i=[];if(n&&t.length>1){var r=Bi(e.domain()),i,s=-1,o=t.length,u=(t[1]-t[0])/++n,a,f;while(++s<o){for(a=n;--a>0;){if((f=+t[s]-a*u)>=r[0]){i.push(f)}}}for(--s,a=0;++a<n&&(f=+t[s]+a*u)<r[1];){i.push(f)}}return i}function Ns(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Cs(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){t(n=e(new da(n-1)),1);return n}function s(e,n){t(e=new da(+e),n);return e}function o(e,r,s){var o=i(e),u=[];if(s>1){while(o<r){if(!(n(o)%s))u.push(new Date(+o));t(o,1)}}else{while(o<r)u.push(new Date(+o)),t(o,1)}return u}function u(e,t,n){try{da=Ns;var r=new Ns;r._=e;return o(r,t,n)}finally{da=Date}}e.floor=e;e.round=r;e.ceil=i;e.offset=s;e.range=o;var a=e.utc=ks(e);a.floor=a;a.round=ks(r);a.ceil=ks(i);a.offset=ks(s);a.range=u;return e}function ks(e){return function(t,n){try{da=Ns;var r=new Ns;r._=t;return e(r,n)._}finally{da=Date}}}function Ls(e,t,n,r){var i,s,o=0,u=t.length,a=n.length;while(o<u){if(r>=a)return-1;i=t.charCodeAt(o++);if(i===37){s=_a[t.charAt(o++)];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++)){return-1}}return r}function As(e){return new RegExp("^(?:"+e.map(fo.requote).join("|")+")","i")}function Os(e){var t=new i,n=-1,r=e.length;while(++n<r)t.set(e[n].toLowerCase(),n);return t}function Ms(e,t,n){e+="";var r=e.length;return r<n?(new Array(n-r+1)).join(t)+e:e}function _s(e,t,n){Na.lastIndex=0;var r=Na.exec(t.substring(n));return r?n+=r[0].length:-1}function Ds(e,t,n){Ta.lastIndex=0;var r=Ta.exec(t.substring(n));return r?n+=r[0].length:-1}function Ps(e,t,n){La.lastIndex=0;var r=La.exec(t.substring(n));return r?(e.m=Aa.get(r[0].toLowerCase()),n+=r[0].length):-1}function Hs(e,t,n){Ca.lastIndex=0;var r=Ca.exec(t.substring(n));return r?(e.m=ka.get(r[0].toLowerCase()),n+=r[0].length):-1}function Bs(e,t,n){return Ls(e,Ma.c.toString(),t,n)}function js(e,t,n){return Ls(e,Ma.x.toString(),t,n)}function Fs(e,t,n){return Ls(e,Ma.X.toString(),t,n)}function Is(e,t,n){Da.lastIndex=0;var r=Da.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+=r[0].length):-1}function qs(e,t,n){Da.lastIndex=0;var r=Da.exec(t.substring(n,n+2));return r?(e.y=Rs(+r[0]),n+=r[0].length):-1}function Rs(e){return e+(e>68?1900:2e3)}function Us(e,t,n){Da.lastIndex=0;var r=Da.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+=r[0].length):-1}function zs(e,t,n){Da.lastIndex=0;var r=Da.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+=r[0].length):-1}function Ws(e,t,n){Da.lastIndex=0;var r=Da.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+=r[0].length):-1}function Xs(e,t,n){Da.lastIndex=0;var r=Da.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+=r[0].length):-1}function Vs(e,t,n){Da.lastIndex=0;var r=Da.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+=r[0].length):-1}function $s(e,t,n){Da.lastIndex=0;var r=Da.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+=r[0].length):-1}function Js(e,t,n){var r=Pa.get(t.substring(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}function Ks(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return n+Ms(r,"0",2)+Ms(i,"0",2)}function Qs(e){return e.toISOString()}function Gs(e,t,n){function r(t){return e(t)}r.invert=function(t){return Zs(e.invert(t))};r.domain=function(t){if(!arguments.length)return e.domain().map(Zs);e.domain(t);return r};r.nice=function(e){return r.domain(Ii(r.domain(),function(){return e}))};r.ticks=function(n,i){var s=Ys(r.domain());if(typeof n!=="function"){var o=s[1]-s[0],u=o/n,a=fo.bisect(Ba,u);if(a==Ba.length)return t.year(s,n);if(!a)return e.ticks(n).map(Zs);if(Math.log(u/Ba[a-1])<Math.log(Ba[a]/u))--a;n=t[a];i=n[1];n=n[0].range}return n(s[0],new Date(+s[1]+1),i)};r.tickFormat=function(){return n};r.copy=function(){return Gs(e.copy(),t,n)};return fo.rebind(r,e,"range","rangeRound","interpolate","clamp")}function Ys(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Zs(e){return new Date(e)}function eo(e){return function(t){var n=e.length-1,r=e[n];while(!r[1](t))r=e[--n];return r[0](t)}}function to(e){var t=new Date(e,0,1);t.setFullYear(e);return t}function no(e){var t=e.getFullYear(),n=to(t),r=to(t+1);return t+(e-n)/(r-n)}function ro(e){var t=new Date(Date.UTC(e,0,1));t.setUTCFullYear(e);return t}function io(e){var t=e.getUTCFullYear(),n=ro(t),r=ro(t+1);return t+(e-n)/(r-n)}function so(e){return e.responseText}function oo(e){return JSON.parse(e.responseText)}function uo(e){var t=lo.createRange();t.selectNode(lo.body);return t.createContextualFragment(e.responseText)}function ao(e){return e.responseXML}var fo={version:"3.1.5"};if(!Date.now)Date.now=function(){return+(new Date)};var lo=document,co=window;try{lo.createElement("div").style.setProperty("opacity",0,"")}catch(ho){var po=co.CSSStyleDeclaration.prototype,vo=po.setProperty;po.setProperty=function(e,t,n){vo.call(this,e,t+"",n)}}fo.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};fo.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN};fo.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)if((s=e[n])!=null&&i>s)i=s}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)if((s=t.call(e,e[n],n))!=null&&i>s)i=s}return i};fo.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)if((s=e[n])!=null&&s>i)i=s}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)if((s=t.call(e,e[n],n))!=null&&s>i)i=s}return i};fo.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&((i=o=e[n])==null||i!=i))i=o=undefined;while(++n<r)if((s=e[n])!=null){if(i>s)i=s;if(o<s)o=s}}else{while(++n<r&&((i=o=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)if((s=t.call(e,e[n],n))!=null){if(i>s)i=s;if(o<s)o=s}}return[i,o]};fo.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1){while(++s<r)if(!isNaN(i=+e[s]))n+=i}else{while(++s<r)if(!isNaN(i=+t.call(e,e[s],s)))n+=i}return n};fo.mean=function(t,n){var r=t.length,i,s=0,o=-1,u=0;if(arguments.length===1){while(++o<r)if(e(i=t[o]))s+=(i-s)/++u}else{while(++o<r)if(e(i=n.call(t,t[o],o)))s+=(i-s)/++u}return u?s:undefined};fo.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i};fo.median=function(t,n){if(arguments.length>1)t=t.map(n);t=t.filter(e);return t.length?fo.quantile(t.sort(fo.ascending),.5):undefined};fo.bisector=function(e){return{left:function(t,n,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var s=r+i>>>1;if(e.call(t,t[s],s)<n)r=s+1;else i=s}return r},right:function(t,n,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var s=r+i>>>1;if(n<e.call(t,t[s],s))i=s;else r=s+1}return r}}};var mo=fo.bisector(function(e){return e});fo.bisectLeft=mo.left;fo.bisect=fo.bisectRight=mo.right;fo.shuffle=function(e){var t=e.length,n,r;while(t){r=Math.random()*t--|0;n=e[t],e[t]=e[r],e[r]=n}return e};fo.permute=function(e,t){var n=[],r=-1,i=t.length;while(++r<i)n[r]=e[t[r]];return n};fo.zip=function(){if(!(s=arguments.length))return[];for(var e=-1,n=fo.min(arguments,t),r=new Array(n);++e<n;){for(var i=-1,s,o=r[e]=new Array(s);++i<s;){o[i]=arguments[i][e]}}return r};fo.transpose=function(e){return fo.zip.apply(fo,e)};fo.keys=function(e){var t=[];for(var n in e)t.push(n);return t};fo.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t};fo.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};fo.merge=function(e){return Array.prototype.concat.apply([],e)};fo.range=function(e,t,r){if(arguments.length<3){r=1;if(arguments.length<2){t=e;e=0}}if((t-e)/r===Infinity)throw new Error("infinite range");var i=[],s=n(Math.abs(r)),o=-1,u;e*=s,t*=s,r*=s;if(r<0)while((u=e+r*++o)>t)i.push(u/s);else while((u=e+r*++o)<t)i.push(u/s);return i};fo.map=function(e){var t=new i;for(var n in e)t.set(n,e[n]);return t};r(i,{has:function(e){return go+e in this},get:function(e){return this[go+e]},set:function(e,t){return this[go+e]=t},remove:function(e){e=go+e;return e in this&&delete this[e]},keys:function(){var e=[];this.forEach(function(t){e.push(t)});return e},values:function(){var e=[];this.forEach(function(t,n){e.push(n)});return e},entries:function(){var e=[];this.forEach(function(t,n){e.push({key:t,value:n})});return e},forEach:function(e){for(var t in this){if(t.charCodeAt(0)===yo){e.call(this,t.substring(1),this[t])}}}});var go="\0",yo=go.charCodeAt(0);fo.nest=function(){function e(t,s,a){if(a>=r.length)return u?u.call(n,s):o?s.sort(o):s;var f=-1,l=s.length,c=r[a++],h,p,d,v=new i,m;while(++f<l){if(m=v.get(h=c(p=s[f]))){m.push(p)}else{v.set(h,[p])}}if(t){p=t();d=function(n,r){p.set(n,e(t,r,a))}}else{p={};d=function(n,r){p[n]=e(t,r,a)}}v.forEach(d);return p}function t(e,n){if(n>=r.length)return e;var i=[],o=s[n++];e.forEach(function(e,r){i.push({key:e,values:t(r,n)})});return o?i.sort(function(e,t){return o(e.key,t.key)}):i}var n={},r=[],s=[],o,u;n.map=function(t,n){return e(n,t,0)};n.entries=function(n){return t(e(fo.map,n,0),0)};n.key=function(e){r.push(e);return n};n.sortKeys=function(e){s[r.length-1]=e;return n};n.sortValues=function(e){o=e;return n};n.rollup=function(e){u=e;return n};return n};fo.set=function(e){var t=new s;if(e)for(var n=0;n<e.length;n++)t.add(e[n]);return t};r(s,{has:function(e){return go+e in this},add:function(e){this[go+e]=true;return e},remove:function(e){e=go+e;return e in this&&delete this[e]},values:function(){var e=[];this.forEach(function(t){e.push(t)});return e},forEach:function(e){for(var t in this){if(t.charCodeAt(0)===yo){e.call(this,t.substring(1))}}}});fo.behavior={};fo.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=o(e,t,t[i]);return e};fo.dispatch=function(){var e=new u,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=a(e);return e};u.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0){r=e.substring(n+1);e=e.substring(0,n)}if(e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(arguments.length===2){if(t==null)for(e in this){if(this.hasOwnProperty(e))this[e].on(r,null)}return this}};fo.event=null;fo.mouse=function(e){return p(e,l())};var bo=/WebKit/.test(co.navigator.userAgent)?-1:0;var wo=v;try{wo(lo.documentElement.childNodes)[0].nodeType}catch(Eo){wo=d}var So=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};fo.touches=function(e,t){if(arguments.length<2)t=l().touches;return t?wo(t).map(function(t){var n=p(e,t);n.identifier=t.identifier;return n}):[]};fo.behavior.drag=function(){function e(){this.on("mousedown.drag",t).on("touchstart.drag",t)}function t(){function e(){var e=s.parentNode;return a!=null?fo.touches(e).filter(function(e){return e.identifier===a})[0]:fo.mouse(e)}function t(){if(!s.parentNode)return i();var t=e(),n=t[0]-h[0],r=t[1]-h[1];p|=n|r;h=t;f();o({type:"drag",x:t[0]+l[0],y:t[1]+l[1],dx:n,dy:r})}function i(){o({type:"dragend"});if(p){f();if(fo.event.target===u)c(d,"click")}d.on(a!=null?"touchmove.drag-"+a:"mousemove.drag",null).on(a!=null?"touchend.drag-"+a:"mouseup.drag",null)}var s=this,o=n.of(s,arguments),u=fo.event.target,a=fo.event.touches?fo.event.changedTouches[0].identifier:null,l,h=e(),p=0;var d=fo.select(co).on(a!=null?"touchmove.drag-"+a:"mousemove.drag",t).on(a!=null?"touchend.drag-"+a:"mouseup.drag",i,true);if(r){l=r.apply(s,arguments);l=[l.x-h[0],l.y-h[1]]}else{l=[0,0]}if(a==null)f();o({type:"dragstart"})}var n=h(e,"drag","dragstart","dragend"),r=null;e.origin=function(t){if(!arguments.length)return r;r=t;return e};return fo.rebind(e,n,"on")};var xo=function(e,t){return t.querySelector(e)},To=function(e,t){return t.querySelectorAll(e)},No=lo.documentElement,Co=No.matchesSelector||No.webkitMatchesSelector||No.mozMatchesSelector||No.msMatchesSelector||No.oMatchesSelector,ko=function(e,t){return Co.call(e,t)};if(typeof Sizzle==="function"){xo=function(e,t){return Sizzle(e,t)[0]||null};To=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))};ko=Sizzle.matchesSelector}var Lo=[];fo.selection=function(){return Do};fo.selection.prototype=Lo;Lo.select=function(e){var t=[],n,r,i,s;if(typeof e!=="function")e=g(e);for(var o=-1,u=this.length;++o<u;){t.push(n=[]);n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;){if(s=i[a]){n.push(r=e.call(s,s.__data__,a));if(r&&"__data__"in s)r.__data__=s.__data__}else{n.push(null)}}}return m(t)};Lo.selectAll=function(e){var t=[],n,r;if(typeof e!=="function")e=y(e);for(var i=-1,s=this.length;++i<s;){for(var o=this[i],u=-1,a=o.length;++u<a;){if(r=o[u]){t.push(n=wo(e.call(r,r.__data__,u)));n.parentNode=r}}}return m(t)};var Ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};fo.ns={prefix:Ao,qualify:function(e){var t=e.indexOf(":"),n=e;if(t>=0){n=e.substring(0,t);e=e.substring(t+1)}return Ao.hasOwnProperty(n)?{space:Ao[n],local:e}:e}};Lo.attr=function(e,t){if(arguments.length<2){if(typeof e==="string"){var n=this.node();e=fo.ns.qualify(e);return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(w(t,e[t]));return this}return this.each(w(e,t))};fo.requote=function(e){return e.replace(Oo,"\\$&")};var Oo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Lo.classed=function(e,t){if(arguments.length<2){if(typeof e==="string"){var n=this.node(),r=(e=e.trim().split(/^|\s+/g)).length,i=-1;if(t=n.classList){while(++i<r)if(!t.contains(e[i]))return false}else{t=n.getAttribute("class");while(++i<r)if(!S(e[i]).test(t))return false}return true}for(t in e)this.each(x(t,e[t]));return this}return this.each(x(e,t))};Lo.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=="string"){if(r<2)t="";for(n in e)this.each(N(n,e[n],t));return this}if(r<2)return co.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(N(e,t,n))};Lo.property=function(e,t){if(arguments.length<2){if(typeof e==="string")return this.node()[e];for(t in e)this.each(C(t,e[t]));return this}return this.each(C(e,t))};Lo.text=function(e){return arguments.length?this.each(typeof e==="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};Lo.html=function(e){return arguments.length?this.each(typeof e==="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};Lo.append=function(e){function t(){return this.appendChild(lo.createElementNS(this.namespaceURI,e))}function n(){return this.appendChild(lo.createElementNS(e.space,e.local))}e=fo.ns.qualify(e);return this.select(e.local?n:t)};Lo.insert=function(e,t){function n(n,r){return this.insertBefore(lo.createElementNS(this.namespaceURI,e),t.call(this,n,r))}function r(n,r){return this.insertBefore(lo.createElementNS(e.space,e.local),t.call(this,n,r))}e=fo.ns.qualify(e);if(typeof t!=="function")t=g(t);return this.select(e.local?r:n)};Lo.remove=function(){return this.each(function(){var e=this.parentNode;if(e)e.removeChild(this)})};Lo.data=function(e,t){function n(e,n){var r,s=e.length,o=n.length,u=Math.min(s,o),c=new Array(o),h=new Array(o),p=new Array(s),d,v;if(t){var m=new i,g=new i,y=[],b;for(r=-1;++r<s;){b=t.call(d=e[r],d.__data__,r);if(m.has(b)){p[r]=d}else{m.set(b,d)}y.push(b)}for(r=-1;++r<o;){b=t.call(n,v=n[r],r);if(d=m.get(b)){c[r]=d;d.__data__=v}else if(!g.has(b)){h[r]=k(v)}g.set(b,v);m.remove(b)}for(r=-1;++r<s;){if(m.has(y[r])){p[r]=e[r]}}}else{for(r=-1;++r<u;){d=e[r];v=n[r];if(d){d.__data__=v;c[r]=d}else{h[r]=k(v)}}for(;r<o;++r){h[r]=k(n[r])}for(;r<s;++r){p[r]=e[r]}}h.update=c;h.parentNode=c.parentNode=p.parentNode=e.parentNode;a.push(h);f.push(c);l.push(p)}var r=-1,s=this.length,o,u;if(!arguments.length){e=new Array(s=(o=this[0]).length);while(++r<s){if(u=o[r]){e[r]=u.__data__}}return e}var a=H([]),f=m([]),l=m([]);if(typeof e==="function"){while(++r<s){n(o=this[r],e.call(o,o.parentNode.__data__,r))}}else{while(++r<s){n(o=this[r],e)}}f.enter=function(){return a};f.exit=function(){return l};return f};Lo.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};Lo.filter=function(e){var t=[],n,r,i;if(typeof e!=="function")e=L(e);for(var s=0,o=this.length;s<o;s++){t.push(n=[]);n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++){if((i=r[u])&&e.call(i,i.__data__,u)){n.push(i)}}}return m(t)};Lo.order=function(){for(var e=-1,t=this.length;++e<t;){for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;){if(s=n[r]){if(i&&i!==s.nextSibling)i.parentNode.insertBefore(s,i);i=s}}}return this};Lo.sort=function(e){e=A.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()};Lo.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=="string"){if(r<2)t=false;for(n in e)this.each(M(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=false}return this.each(M(e,t,n))};var Mo=fo.map({mouseenter:"mouseover",mouseleave:"mouseout"});Mo.forEach(function(e){if("on"+e in lo)Mo.remove(e)});Lo.each=function(e){return P(this,function(t,n,r){e.call(t,t.__data__,n,r)})};Lo.call=function(e){var t=wo(arguments);e.apply(t[0]=this,t);return this};Lo.empty=function(){return!this.node()};Lo.node=function(){for(var e=0,t=this.length;e<t;e++){for(var n=this[e],r=0,i=n.length;r<i;r++){var s=n[r];if(s)return s}}return null};var _o=[];fo.selection.enter=H;fo.selection.enter.prototype=_o;_o.append=Lo.append;_o.insert=Lo.insert;_o.empty=Lo.empty;_o.node=Lo.node;_o.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update;t.push(n=[]);n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;){if(o=s[f]){n.push(i[f]=r=e.call(s.parentNode,o.__data__,f));r.__data__=o.__data__}else{n.push(null)}}}return m(t)};Lo.transition=function(){var e=aa||++ua,t=[],n,r,i=Object.create(fa);i.time=Date.now();for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;){if(r=u[a])Es(r,a,e,i);n.push(r)}}return ys(t,e)};var Do=m([[lo]]);Do[0].parentNode=No;fo.select=function(e){return typeof e==="string"?Do.select(e):m([[e]])};fo.selectAll=function(e){return typeof e==="string"?Do.selectAll(e):m([wo(e)])};fo.behavior.zoom=function(){function e(){this.on("mousedown.zoom",u).on("mousemove.zoom",l).on(Bo+".zoom",a).on("dblclick.zoom",p).on("touchstart.zoom",d).on("touchmove.zoom",v).on("touchend.zoom",d)}function t(e){return[(e[0]-m[0])/y,(e[1]-m[1])/y]}function n(e){return[e[0]*y+m[0],e[1]*y+m[1]]}function r(e){y=Math.max(w[0],Math.min(w[1],e))}function i(e,t){t=n(t);m[0]+=e[0]-t[0];m[1]+=e[1]-t[1]}function s(){if(x)x.domain(S.range().map(function(e){return(e-m[0])/y}).map(S.invert));if(N)N.domain(T.range().map(function(e){return(e-m[1])/y}).map(T.invert))}function o(e){s();fo.event.preventDefault();e({type:"zoom",scale:y,translate:m})}function u(){function e(){a=1;i(fo.mouse(r),h);o(s)}function n(){if(a)f();l.on("mousemove.zoom",null).on("mouseup.zoom",null);if(a&&fo.event.target===u)c(l,"click.zoom")}var r=this,s=E.of(r,arguments),u=fo.event.target,a=0,l=fo.select(co).on("mousemove.zoom",e).on("mouseup.zoom",n),h=t(fo.mouse(r));co.focus();f()}function a(){if(!g)g=t(fo.mouse(this));r(Math.pow(2,Ho()*.002)*y);i(fo.mouse(this),g);o(E.of(this,arguments))}function l(){g=null}function p(){var e=fo.mouse(this),n=t(e),s=Math.log(y)/Math.LN2;r(Math.pow(2,fo.event.shiftKey?Math.ceil(s)-1:Math.floor(s)+1));i(e,n);o(E.of(this,arguments))}function d(){var e=fo.touches(this),n=Date.now();b=y;g={};e.forEach(function(e){g[e.identifier]=t(e)});f();if(e.length===1){if(n-C<500){var s=e[0],u=t(e[0]);r(y*2);i(s,u);o(E.of(this,arguments))}C=n}}function v(){var e=fo.touches(this),t=e[0],n=g[t.identifier];if(s=e[1]){var s,u=g[s.identifier];t=[(t[0]+s[0])/2,(t[1]+s[1])/2];n=[(n[0]+u[0])/2,(n[1]+u[1])/2];r(fo.event.scale*b)}i(t,n);C=null;o(E.of(this,arguments))}var m=[0,0],g,y=1,b,w=Po,E=h(e,"zoom"),S,x,T,N,C;e.translate=function(t){if(!arguments.length)return m;m=t.map(Number);s();return e};e.scale=function(t){if(!arguments.length)return y;y=+t;s();return e};e.scaleExtent=function(t){if(!arguments.length)return w;w=t==null?Po:t.map(Number);return e};e.x=function(t){if(!arguments.length)return x;x=t;S=t.copy();m=[0,0];y=1;return e};e.y=function(t){if(!arguments.length)return N;N=t;T=t.copy();m=[0,0];y=1;return e};return fo.rebind(e,E,"on")};var Po=[0,Infinity];var Ho,Bo="onwheel"in lo?(Ho=function(){return-fo.event.deltaY*(fo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in lo?(Ho=function(){return fo.event.wheelDelta},"mousewheel"):(Ho=function(){return-fo.event.detail},"MozMousePixelScroll");B.prototype.toString=function(){return this.rgb()+""};fo.hsl=function(e,t,n){return arguments.length===1?e instanceof F?j(e.h,e.s,e.l):st(""+e,ot,j):j(+e,+t,+n)};var jo=F.prototype=new B;jo.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);return j(this.h,this.s,this.l/e)};jo.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return j(this.h,this.s,e*this.l)};jo.rgb=function(){return I(this.h,this.s,this.l)};var Fo=Math.PI,Io=1e-6,qo=Fo/180,Ro=180/Fo;fo.hcl=function(e,t,n){return arguments.length===1?e instanceof $?V(e.h,e.c,e.l):e instanceof Q?Y(e.l,e.a,e.b):Y((e=ut((e=fo.rgb(e)).r,e.g,e.b)).l,e.a,e.b):V(+e,+t,+n)};var Uo=$.prototype=new B;Uo.brighter=function(e){return V(this.h,this.c,Math.min(100,this.l+zo*(arguments.length?e:1)))};Uo.darker=function(e){return V(this.h,this.c,Math.max(0,this.l-zo*(arguments.length?e:1)))};Uo.rgb=function(){return J(this.h,this.c,this.l).rgb()};fo.lab=function(e,t,n){return arguments.length===1?e instanceof Q?K(e.l,e.a,e.b):e instanceof $?J(e.l,e.c,e.h):ut((e=fo.rgb(e)).r,e.g,e.b):K(+e,+t,+n)};var zo=18;var Wo=.95047,Xo=1,Vo=1.08883;var $o=Q.prototype=new B;$o.brighter=function(e){return K(Math.min(100,this.l+zo*(arguments.length?e:1)),this.a,this.b)};$o.darker=function(e){return K(Math.max(0,this.l-zo*(arguments.length?e:1)),this.a,this.b)};$o.rgb=function(){return G(this.l,this.a,this.b)};fo.rgb=function(e,t,n){return arguments.length===1?e instanceof rt?nt(e.r,e.g,e.b):st(""+e,nt,I):nt(~~e,~~t,~~n)};var Jo=rt.prototype=new B;Jo.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;if(!t&&!n&&!r)return nt(i,i,i);if(t&&t<i)t=i;if(n&&n<i)n=i;if(r&&r<i)r=i;return nt(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e)))};Jo.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return nt(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))};Jo.hsl=function(){return ot(this.r,this.g,this.b)};Jo.toString=function(){return"#"+it(this.r)+it(this.g)+it(this.b)};var Ko=fo.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});Ko.forEach(function(e,t){Ko.set(e,st(t,nt,I))});fo.functor=lt;fo.xhr=function(e,t,n){function r(){var e=a.status;!e&&a.responseText||e>=200&&e<300||e===304?s.load.call(i,u.call(i,a)):s.error.call(i,a)}var i={},s=fo.dispatch("progress","load","error"),o={},u=ct,a=new(co.XDomainRequest&&/^(http(s)?:)?\/\//.test(e)?XDomainRequest:XMLHttpRequest);"onload"in a?a.onload=a.onerror=r:a.onreadystatechange=function(){a.readyState>3&&r()};a.onprogress=function(e){var t=fo.event;fo.event=e;try{s.progress.call(i,a)}finally{fo.event=t}};i.header=function(e,t){e=(e+"").toLowerCase();if(arguments.length<2)return o[e];if(t==null)delete o[e];else o[e]=t+"";return i};i.mimeType=function(e){if(!arguments.length)return t;t=e==null?null:e+"";return i};i.response=function(e){u=e;return i};["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(wo(arguments)))}});i.send=function(n,r,s){if(arguments.length===2&&typeof r==="function")s=r,r=null;a.open(n,e,true);if(t!=null&&!("accept"in o))o["accept"]=t+",*/*";if(a.setRequestHeader)for(var u in o)a.setRequestHeader(u,o[u]);if(t!=null&&a.overrideMimeType)a.overrideMimeType(t);if(s!=null)i.on("error",s).on("load",function(e){s(null,e)});a.send(r==null?null:r);return i};i.abort=function(){a.abort();return i};fo.rebind(i,s,"on");if(arguments.length===2&&typeof t==="function")n=t,t=null;return n==null?i:i.get(ht(n))};fo.csv=pt(",","text/csv");fo.tsv=pt("	","text/tab-separated-values");var Qo=0,Go={},Yo=null,Zo,eu;fo.timer=function(e,t,n){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}var r=Go[e.id];if(r&&r.callback===e){r.then=n;r.delay=t}else Go[e.id=++Qo]=Yo={callback:e,then:n,delay:t,next:Yo};if(!Zo){eu=clearTimeout(eu);Zo=1;tu(dt)}};fo.timer.flush=function(){var e,t=Date.now(),n=Yo;while(n){e=t-n.then;if(!n.delay)n.flush=n.callback(e);n=n.next}vt()};var tu=co.requestAnimationFrame||co.webkitRequestAnimationFrame||co.mozRequestAnimationFrame||co.oRequestAnimationFrame||co.msRequestAnimationFrame||function(e){setTimeout(e,17)};var nu=".",ru=",",iu=[3,3];var su=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(mt);fo.formatPrefix=function(e,t){var n=0;if(e){if(e<0)e*=-1;if(t)e=fo.round(e,gt(e,t));n=1+Math.floor(1e-12+Math.log(e)/Math.LN10);n=Math.max(-24,Math.min(24,Math.floor((n<=0?n+1:n-1)/3)*3))}return su[8+n/3]};fo.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};fo.format=function(e){var t=ou.exec(e),n=t[1]||" ",r=t[2]||">",i=t[3]||"",s=t[4]||"",o=t[5],u=+t[6],a=t[7],f=t[8],l=t[9],c=1,h="",p=false;if(f)f=+f.substring(1);if(o||n==="0"&&r==="="){o=n="0";r="=";if(a)u-=Math.floor((u-1)/4)}switch(l){case"n":a=true;l="g";break;case"%":c=100;h="%";l="f";break;case"p":c=100;h="%";l="r";break;case"b":case"o":case"x":case"X":if(s)s="0"+l.toLowerCase();case"c":case"d":p=true;f=0;break;case"s":c=-1;l="r";break}if(s==="#")s="";if(l=="r"&&!f)l="g";if(f!=null){if(l=="g")f=Math.max(1,Math.min(21,f));else if(l=="e"||l=="f")f=Math.max(0,Math.min(20,f))}l=uu.get(l)||yt;var d=o&&a;return function(e){if(p&&e%1)return"";var t=e<0||e===0&&1/e<0?(e=-e,"-"):i;if(c<0){var v=fo.formatPrefix(e,f);e=v.scale(e);h=v.symbol}else{e*=c}e=l(e,f);if(!o&&a)e=au(e);var m=s.length+e.length+(d?0:t.length),g=m<u?(new Array(m=u-m+1)).join(n):"";if(d)e=au(g+e);if(nu)e.replace(".",nu);t+=s;return(r==="<"?t+e+g:r===">"?g+t+e:r==="^"?g.substring(0,m>>=1)+t+e+g.substring(m):t+(d?e:g+e))+h}};var ou=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var uu=fo.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=fo.round(e,gt(e,t))).toFixed(Math.max(0,Math.min(20,gt(e*(1+1e-15),t))))}});var au=ct;if(iu){var fu=iu.length;au=function(e){var t=e.lastIndexOf("."),n=t>=0?"."+e.substring(t+1):(t=e.length,""),r=[],i=0,s=iu[0];while(t>0&&s>0){r.push(e.substring(t-=s,t+s));s=iu[i=(i+1)%fu]}return r.reverse().join(ru||"")+n}}fo.geo={};fo.geo.stream=function(e,t){if(e&&lu.hasOwnProperty(e.type)){lu[e.type](e,t)}else{bt(e,t)}};var lu={Feature:function(e,t){bt(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,i=n.length;while(++r<i)bt(n[r].geometry,t)}};var cu={Sphere:function(e,t){t.sphere()},Point:function(e,t){var n=e.coordinates;t.point(n[0],n[1])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,i=n.length,s;while(++r<i)s=n[r],t.point(s[0],s[1])},LineString:function(e,t){wt(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)wt(n[r],t,0)},Polygon:function(e,t){Et(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Et(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,i=n.length;while(++r<i)bt(n[r],t)}};fo.geo.area=function(e){hu=0;fo.geo.stream(e,vu);return hu};var hu,pu,du;var vu={sphere:function(){hu+=4*Fo},point:O,lineStart:O,lineEnd:O,polygonStart:function(){pu=1,du=0;vu.lineStart=St},polygonEnd:function(){var e=2*Math.atan2(du,pu);hu+=e<0?4*Fo+e:e;vu.lineStart=vu.lineEnd=vu.point=O}};fo.geo.bounds=xt(ct);fo.geo.centroid=function(e){mu=gu=yu=bu=wu=0;fo.geo.stream(e,Eu);var t;if(gu&&Math.abs(t=Math.sqrt(yu*yu+bu*bu+wu*wu))>Io){return[Math.atan2(bu,yu)*Ro,Math.asin(Math.max(-1,Math.min(1,wu/t)))*Ro]}};var mu,gu,yu,bu,wu;var Eu={sphere:function(){if(mu<2){mu=2;gu=yu=bu=wu=0}},point:Tt,lineStart:Ct,lineEnd:kt,polygonStart:function(){if(mu<2){mu=2;gu=yu=bu=wu=0}Eu.lineStart=Nt},polygonEnd:function(){Eu.lineStart=Ct}};var Su=It(Pt,Wt,Vt);var xu=1e9;fo.geo.projection=Yt;fo.geo.projectionMutator=Zt;(fo.geo.equirectangular=function(){return Yt(tn)}).raw=tn.invert=tn;fo.geo.rotation=function(e){function t(t){t=e(t[0]*qo,t[1]*qo);return t[0]*=Ro,t[1]*=Ro,t}e=nn(e[0]%360*qo,e[1]*qo,e.length>2?e[2]*qo:0);t.invert=function(t){t=e.invert(t[0]*qo,t[1]*qo);return t[0]*=Ro,t[1]*=Ro,t};return t};fo.geo.circle=function(){function e(){var e=typeof t==="function"?t.apply(this,arguments):t,n=nn(-e[0]*qo,-e[1]*qo,0).invert,r=[];i(null,null,1,{point:function(e,t){r.push(e=n(e,t));e[0]*=Ro,e[1]*=Ro}});return{type:"Polygon",coordinates:[r]}}var t=[0,0],n,r=6,i;e.origin=function(n){if(!arguments.length)return t;t=n;return e};e.angle=function(t){if(!arguments.length)return n;i=un((n=+t)*qo,r*qo);return e};e.precision=function(t){if(!arguments.length)return r;i=un(n*qo,(r=+t)*qo);return e};return e.angle(90)};fo.geo.distance=function(e,t){var n=(t[0]-e[0])*qo,r=e[1]*qo,i=t[1]*qo,s=Math.sin(n),o=Math.cos(n),u=Math.sin(r),a=Math.cos(r),f=Math.sin(i),l=Math.cos(i),c;return Math.atan2(Math.sqrt((c=l*s)*c+(c=a*f-u*l*o)*c),u*f+a*l*o)};fo.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return fo.range(Math.ceil(s/h)*h,i,h).map(m).concat(fo.range(Math.ceil(f/p)*p,a,p).map(g)).concat(fo.range(Math.ceil(r/l)*l,n,l).filter(function(e){return Math.abs(e%h)>Io}).map(d)).concat(fo.range(Math.ceil(u/c)*c,o,c).filter(function(e){return Math.abs(e%p)>Io}).map(v))}var n,r,i,s,o,u,a,f,l=10,c=l,h=90,p=360,d,v,m,g,y=2.5;e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})};e.outline=function(){return{type:"Polygon",coordinates:[m(s).concat(g(a).slice(1),m(i).reverse().slice(1),g(f).reverse().slice(1))]}};e.extent=function(t){if(!arguments.length)return e.minorExtent();return e.majorExtent(t).minorExtent(t)};e.majorExtent=function(t){if(!arguments.length)return[[s,f],[i,a]];s=+t[0][0],i=+t[1][0];f=+t[0][1],a=+t[1][1];if(s>i)t=s,s=i,i=t;if(f>a)t=f,f=a,a=t;return e.precision(y)};e.minorExtent=function(t){if(!arguments.length)return[[r,u],[n,o]];r=+t[0][0],n=+t[1][0];u=+t[0][1],o=+t[1][1];if(r>n)t=r,r=n,n=t;if(u>o)t=u,u=o,o=t;return e.precision(y)};e.step=function(t){if(!arguments.length)return e.minorStep();return e.majorStep(t).minorStep(t)};e.majorStep=function(t){if(!arguments.length)return[h,p];h=+t[0],p=+t[1];return e};e.minorStep=function(t){if(!arguments.length)return[l,c];l=+t[0],c=+t[1];return e};e.precision=function(t){if(!arguments.length)return y;y=+t;d=fn(u,o,90);v=ln(r,n,y);m=fn(f,a,90);g=ln(s,i,y);return e};return e.majorExtent([[-180,-90+Io],[180,90-Io]]).minorExtent([[-180,-80-Io],[180,80+Io]])};fo.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||t.apply(this,arguments),i||r.apply(this,arguments)]}}var t=cn,n,r=hn,i;e.distance=function(){return fo.geo.distance(n||t.apply(this,arguments),i||r.apply(this,arguments))};e.source=function(r){if(!arguments.length)return t;t=r,n=typeof r==="function"?null:r;return e};e.target=function(t){if(!arguments.length)return r;r=t,i=typeof t==="function"?null:t;return e};e.precision=function(){return arguments.length?e:0};return e};fo.geo.interpolate=function(e,t){return pn(e[0]*qo,e[1]*qo,t[0]*qo,t[1]*qo)};fo.geo.length=function(e){Tu=0;fo.geo.stream(e,Nu);return Tu};var Tu;var Nu={sphere:O,point:O,lineStart:dn,lineEnd:O,polygonStart:O,polygonEnd:O};(fo.geo.conicEqualArea=function(){return vn(mn)}).raw=mn;fo.geo.albersUsa=function(){function e(e){return t(e)(e)}function t(e){var t=e[0],o=e[1];return o>50?r:t<-140?i:o<21?s:n}var n=fo.geo.conicEqualArea().rotate([98,0]).center([0,38]).parallels([29.5,45.5]);var r=fo.geo.conicEqualArea().rotate([160,0]).center([0,60]).parallels([55,65]);var i=fo.geo.conicEqualArea().rotate([160,0]).center([0,20]).parallels([8,18]);var s=fo.geo.conicEqualArea().rotate([60,0]).center([0,10]).parallels([8,18]);var o,u,a;e.invert=function(e){return o(e)||u(e)||a(e)||n.invert(e)};e.scale=function(t){if(!arguments.length)return n.scale();n.scale(t);r.scale(t*.6);i.scale(t);s.scale(t*1.5);return e.translate(n.translate())};e.translate=function(t){if(!arguments.length)return n.translate();var f=n.scale(),l=t[0],c=t[1];n.translate(t);r.translate([l-.4*f,c+.17*f]);i.translate([l-.19*f,c+.2*f]);s.translate([l+.58*f,c+.43*f]);o=gn(r,[[-180,50],[-130,72]]);u=gn(i,[[-164,18],[-154,24]]);a=gn(s,[[-67.5,17.5],[-65,19]]);return e};return e.scale(1e3)};var Cu,ku,Lu={point:O,lineStart:O,lineEnd:O,polygonStart:function(){ku=0;Lu.lineStart=yn},polygonEnd:function(){Lu.lineStart=Lu.lineEnd=Lu.point=O;Cu+=Math.abs(ku/2)}};var Au={point:wn,lineStart:En,lineEnd:Sn,polygonStart:function(){Au.lineStart=xn},polygonEnd:function(){Au.point=wn;Au.lineStart=En;Au.lineEnd=Sn}};fo.geo.path=function(){function e(e){if(e)fo.geo.stream(e,i(s.pointRadius(typeof t==="function"?+t.apply(this,arguments):t)));return s.result()}var t=4.5,n,r,i,s;e.area=function(e){Cu=0;fo.geo.stream(e,i(Lu));return Cu};e.centroid=function(e){mu=yu=bu=wu=0;fo.geo.stream(e,i(Au));return wu?[yu/wu,bu/wu]:undefined};e.bounds=function(e){return xt(i)(e)};e.projection=function(t){if(!arguments.length)return n;i=(n=t)?t.stream||Cn(t):ct;return e};e.context=function(t){if(!arguments.length)return r;s=(r=t)==null?new bn:new Tn(t);return e};e.pointRadius=function(n){if(!arguments.length)return t;t=typeof n==="function"?n:+n;return e};return e.projection(fo.geo.albersUsa()).context(null)};fo.geo.albers=function(){return fo.geo.conicEqualArea().parallels([29.5,45.5]).rotate([98,0]).center([0,38]).scale(1e3)};var Ou=kn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(fo.geo.azimuthalEqualArea=function(){return Yt(Ou)}).raw=Ou;var Mu=kn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},ct);(fo.geo.azimuthalEquidistant=function(){return Yt(Mu)}).raw=Mu;(fo.geo.conicConformal=function(){return vn(Ln)}).raw=Ln;(fo.geo.conicEquidistant=function(){return vn(An)}).raw=An;var _u=kn(function(e){return 1/e},Math.atan);(fo.geo.gnomonic=function(){return Yt(_u)}).raw=_u;On.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Fo/2]};(fo.geo.mercator=function(){return Mn(On)}).raw=On;var Du=kn(function(){return 1},Math.asin);(fo.geo.orthographic=function(){return Yt(Du)}).raw=Du;var Pu=kn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(fo.geo.stereographic=function(){return Yt(Pu)}).raw=Pu;_n.invert=function(e,t){return[Math.atan2(z(e),Math.cos(t)),U(Math.sin(t)/W(e))]};(fo.geo.transverseMercator=function(){return Mn(_n)}).raw=_n;fo.geom={};fo.svg={};fo.svg.line=function(){return Dn(ct)};var Hu=fo.map({linear:Bn,"linear-closed":jn,"step-before":Fn,"step-after":In,basis:Xn,"basis-open":Vn,"basis-closed":$n,bundle:Jn,cardinal:Un,"cardinal-open":qn,"cardinal-closed":Rn,monotone:er});Hu.forEach(function(e,t){t.key=e;t.closed=/-closed$/.test(e)});var Bu=[0,2/3,1/3,0],ju=[0,1/3,2/3,0],Fu=[0,1/6,2/3,1/6];fo.geom.hull=function(e){function t(e){if(e.length<3)return[];var t=lt(n),i=lt(r),s=e.length,o,u=s-1,a=[],f=[],l,c,h,p=0,d,v,m,g,y,b,w,E;if(t===Pn&&r===Hn)o=e;else for(c=0,o=[];c<s;++c){o.push([+t.call(this,l=e[c],c),+i.call(this,l,c)])}for(c=1;c<s;++c){if(o[c][1]<o[p][1]){p=c}else if(o[c][1]==o[p][1]){p=o[c][0]<o[p][0]?c:p}}for(c=0;c<s;++c){if(c===p)continue;v=o[c][1]-o[p][1];d=o[c][0]-o[p][0];a.push({angle:Math.atan2(v,d),index:c})}a.sort(function(e,t){return e.angle-t.angle});w=a[0].angle;b=a[0].index;y=0;for(c=1;c<u;++c){h=a[c].index;if(w==a[c].angle){d=o[b][0]-o[p][0];v=o[b][1]-o[p][1];m=o[h][0]-o[p][0];g=o[h][1]-o[p][1];if(d*d+v*v>=m*m+g*g){a[c].index=-1}else{a[y].index=-1;w=a[c].angle;y=c;b=h}}else{w=a[c].angle;y=c;b=h}}f.push(p);for(c=0,h=0;c<2;++h){if(a[h].index!==-1){f.push(a[h].index);c++}}E=f.length;for(;h<u;++h){if(a[h].index===-1)continue;while(!tr(f[E-2],f[E-1],a[h].index,o)){--E}f[E++]=a[h].index}var S=[];for(c=0;c<E;++c){S.push(e[f[c]])}return S}var n=Pn,r=Hn;if(arguments.length)return t(e);t.x=function(e){return arguments.length?(n=e,t):n};t.y=function(e){return arguments.length?(r=e,t):r};return t};fo.geom.polygon=function(e){e.area=function(){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];while(++t<n){r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1]}return r*.5};e.centroid=function(t){var n=-1,r=e.length,i=0,s=0,o,u=e[r-1],a;if(!arguments.length)t=-1/(6*e.area());while(++n<r){o=u;u=e[n];a=o[0]*u[1]-u[0]*o[1];i+=(o[0]+u[0])*a;s+=(o[1]+u[1])*a}return[i*t,s*t]};e.clip=function(t){var n,r=-1,i=e.length,s,o,u=e[i-1],a,f,l;while(++r<i){n=t.slice();t.length=0;a=e[r];f=n[(o=n.length)-1];s=-1;while(++s<o){l=n[s];if(nr(l,u,a)){if(!nr(f,u,a)){t.push(rr(f,l,u,a))}t.push(l)}else if(nr(f,u,a)){t.push(rr(f,l,u,a))}f=l}u=a}return t};return e};fo.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];ir(e,function(n){t[n.region.l.index].push(e[n.region.r.index])});t.forEach(function(t,r){var i=e[r],s=i[0],o=i[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-s,e[1]-o)});t.sort(function(e,t){return e.angle-t.angle});for(var u=0,a=t.length-1;u<a;u++){n.push([i,t[u],t[u+1]])}});return n};fo.geom.voronoi=function(e){function t(e){var t,n=e.map(function(){return[]}),o=lt(r),u=lt(i),a,f,l=e.length,c=1e6;if(o===Pn&&u===Hn)t=e;else for(t=[],f=0;f<l;++f){t.push([+o.call(this,a=e[f],f),+u.call(this,a,f)])}ir(t,function(e){var t,r,i,s,o,u;if(e.a===1&&e.b>=0){t=e.ep.r;r=e.ep.l}else{t=e.ep.l;r=e.ep.r}if(e.a===1){o=t?t.y:-c;i=e.c-e.b*o;u=r?r.y:c;s=e.c-e.b*u}else{i=t?t.x:-c;o=e.c-e.a*i;s=r?r.x:c;u=e.c-e.a*s}var a=[i,o],f=[s,u];n[e.region.l.index].push(a,f);n[e.region.r.index].push(a,f)});n=n.map(function(e,n){var r=t[n][0],i=t[n][1],s=e.map(function(e){return Math.atan2(e[0]-r,e[1]-i)}),o=fo.range(e.length).sort(function(e,t){return s[e]-s[t]});return o.filter(function(e,t){return!t||s[e]-s[o[t-1]]>Io}).map(function(t){return e[t]})});n.forEach(function(e,n){var r=e.length;if(!r)return e.push([-c,-c],[-c,c],[c,c],[c,-c]);if(r>2)return;var i=t[n],s=e[0],o=e[1],u=i[0],a=i[1],f=s[0],l=s[1],h=o[0],p=o[1],d=Math.abs(h-f),v=p-l;if(Math.abs(v)<Io){var m=a<l?-c:c;e.push([-c,m],[c,m])}else if(d<Io){var g=u<f?-c:c;e.push([g,-c],[g,c])}else{var m=(h-f)*(l-a)<(f-u)*(p-l)?c:-c,y=Math.abs(v)-d;if(Math.abs(y)<Io){e.push([v<0?m:-m,m])}else{if(y>0)m*=-1;e.push([-c,m],[c,m])}}});if(s)for(f=0;f<l;++f)s(n[f]);for(f=0;f<l;++f)n[f].point=e[f];return n}var n=null,r=Pn,i=Hn,s;if(arguments.length)return t(e);t.x=function(e){return arguments.length?(r=e,t):r};t.y=function(e){return arguments.length?(i=e,t):i};t.size=function(e){if(!arguments.length)return n;if(e==null){s=null}else{n=[+e[0],+e[1]];s=fo.geom.polygon([[0,0],[0,n[1]],n,[n[0],0]]).clip}return t};t.links=function(e){var t,n=e.map(function(){return[]}),s=[],o=lt(r),u=lt(i),a,f,l=e.length;if(o===Pn&&u===Hn)t=e;else for(f=0;f<l;++f){t.push([+o.call(this,a=e[f],f),+u.call(this,a,f)])}ir(t,function(t){var r=t.region.l.index,i=t.region.r.index;if(n[r][i])return;n[r][i]=n[i][r]=true;s.push({source:e[r],target:e[i]})});return s};t.triangles=function(e){if(r===Pn&&i===Hn)return fo.geom.delaunay(e);var t,n,s=lt(r),o=lt(i),u,a,f;for(a=0,t=[],f=e.length;a<f;++a){n=[+s.call(this,u=e[a],a),+o.call(this,u,a)];n.data=u;t.push(n)}return fo.geom.delaunay(t).map(function(e){return e.map(function(e){return e.data})})};return t};var Iu={l:"r",r:"l"};fo.geom.quadtree=function(e,t,n,r,i){function s(e){function s(e,t,n,r,i,s,o,u){if(isNaN(n)||isNaN(r))return;if(e.leaf){var a=e.x,l=e.y;if(a!=null){if(Math.abs(a-n)+Math.abs(l-r)<.01){f(e,t,n,r,i,s,o,u)}else{var c=e.point;e.x=e.y=e.point=null;f(e,c,a,l,i,s,o,u);f(e,t,n,r,i,s,o,u)}}else{e.x=n,e.y=r,e.point=t}}else{f(e,t,n,r,i,s,o,u)}}function f(e,t,n,r,i,o,u,a){var f=(i+u)*.5,l=(o+a)*.5,c=n>=f,h=r>=l,p=(h<<1)+c;e.leaf=false;e=e.nodes[p]||(e.nodes[p]=ur());if(c)i=f;else u=f;if(h)o=l;else a=l;s(e,t,n,r,i,o,u,a)}var l,c=lt(o),h=lt(u),p,d,v,m,g,y,b,w;if(t!=null){g=t,y=n,b=r,w=i}else{b=w=-(g=y=Infinity);p=[],d=[];m=e.length;if(a)for(v=0;v<m;++v){l=e[v];if(l.x<g)g=l.x;if(l.y<y)y=l.y;if(l.x>b)b=l.x;if(l.y>w)w=l.y;p.push(l.x);d.push(l.y)}else for(v=0;v<m;++v){var E=+c(l=e[v],v),S=+h(l,v);if(E<g)g=E;if(S<y)y=S;if(E>b)b=E;if(S>w)w=S;p.push(E);d.push(S)}}var x=b-g,T=w-y;if(x>T)w=y+x;else b=g+T;var N=ur();N.add=function(e){s(N,e,+c(e,++v),+h(e,v),g,y,b,w)};N.visit=function(e){ar(e,N,g,y,b,w)};v=-1;if(t==null){while(++v<m){s(N,e[v],p[v],d[v],g,y,b,w)}--v}else e.forEach(N.add);p=d=e=l=null;return N}var o=Pn,u=Hn,a;if(a=arguments.length){o=sr;u=or;if(a===3){i=n;r=t;n=t=0}return s(e)}s.x=function(e){return arguments.length?(o=e,s):o};s.y=function(e){return arguments.length?(u=e,s):u};s.size=function(e){if(!arguments.length)return t==null?null:[r,i];if(e==null){t=n=r=i=null}else{t=n=0;r=+e[0],i=+e[1]}return s};return s};fo.interpolateRgb=fr;fo.transform=function(e){var t=lo.createElementNS(fo.ns.prefix.svg,"g");return(fo.transform=function(e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate();return new lr(n?n.matrix:qu)})(e)};lr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var qu={a:1,b:0,c:0,d:1,e:0,f:0};fo.interpolateNumber=dr;fo.interpolateTransform=vr;fo.interpolateObject=mr;fo.interpolateString=gr;var Ru=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;fo.interpolate=yr;fo.interpolators=[function(e,t){var n=typeof t;return(n==="string"||n!==typeof e?Ko.has(t)||/^(#|rgb\(|hsl\()/.test(t)?fr:gr:t instanceof B?fr:n==="object"?Array.isArray(t)?wr:mr:dr)(e,t)}];fo.interpolateArray=wr;var Uu=function(){return ct};var zu=fo.map({linear:Uu,poly:kr,quad:function(){return Tr},cubic:function(){return Nr},sin:function(){return Lr},exp:function(){return Ar},circle:function(){return Or},elastic:Mr,back:_r,bounce:function(){return Dr}});var Wu=fo.map({"in":ct,out:Sr,"in-out":xr,"out-in":function(e){return xr(Sr(e))}});fo.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";n=zu.get(n)||Uu;r=Wu.get(r)||ct;return Er(r(n.apply(null,Array.prototype.slice.call(arguments,1))))};fo.interpolateHcl=Pr;fo.interpolateHsl=Hr;fo.interpolateLab=Br;fo.interpolateRound=jr;fo.layout={};fo.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(qr(e[n]));return t}};fo.layout.chord=function(){function e(){var e={},n=[],c=fo.range(o),h=[],p,d,v,m,g;r=[];i=[];p=0,m=-1;while(++m<o){d=0,g=-1;while(++g<o){d+=s[m][g]}n.push(d);h.push(fo.range(o));p+=d}if(a){c.sort(function(e,t){return a(n[e],n[t])})}if(f){h.forEach(function(e,t){e.sort(function(e,n){return f(s[t][e],s[t][n])})})}p=(2*Fo-u*o)/p;d=0,m=-1;while(++m<o){v=d,g=-1;while(++g<o){var y=c[m],b=h[y][g],w=s[y][b],E=d,S=d+=w*p;e[y+"-"+b]={index:y,subindex:b,startAngle:E,endAngle:S,value:w}}i[y]={index:y,startAngle:v,endAngle:d,value:(d-v)/p};d+=u}m=-1;while(++m<o){g=m-1;while(++g<o){var x=e[m+"-"+g],T=e[g+"-"+m];if(x.value||T.value){r.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}}}if(l)t()}function t(){r.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n={},r,i,s,o,u=0,a,f,l;n.matrix=function(e){if(!arguments.length)return s;o=(s=e)&&s.length;r=i=null;return n};n.padding=function(e){if(!arguments.length)return u;u=e;r=i=null;return n};n.sortGroups=function(e){if(!arguments.length)return a;a=e;r=i=null;return n};n.sortSubgroups=function(e){if(!arguments.length)return f;f=e;r=null;return n};n.sortChords=function(e){if(!arguments.length)return l;l=e;if(r)t();return n};n.chords=function(){if(!r)e();return r};n.groups=function(){if(!i)e();return i};return n};fo.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=1/Math.sqrt(s*s+o*o);if((i-n)*u<h){var a=t.charge*u*u;e.px-=s*a;e.py-=o*a;return true}if(t.point&&isFinite(u)){var a=t.pointCharge*u*u;e.px-=s*a;e.py-=o*a}}return!t.charge}}function t(e){e.px=fo.event.x,e.py=fo.event.y;n.resume()}var n={},r=fo.dispatch("start","tick","end"),i=[1,1],s,o,u=.9,a=Xu,f=Vu,l=-30,c=.1,h=.8,p=[],d=[],v,m,g;n.tick=function(){if((o*=.99)<.005){r.end({type:"end",alpha:o=0});return true}var t=p.length,n=d.length,s,a,f,h,y,b,w,E,S;for(a=0;a<n;++a){f=d[a];h=f.source;y=f.target;E=y.x-h.x;S=y.y-h.y;if(b=E*E+S*S){b=o*m[a]*((b=Math.sqrt(b))-v[a])/b;E*=b;S*=b;y.x-=E*(w=h.weight/(y.weight+h.weight));y.y-=S*w;h.x+=E*(w=1-w);h.y+=S*w}}if(w=o*c){E=i[0]/2;S=i[1]/2;a=-1;if(w)while(++a<t){f=p[a];f.x+=(E-f.x)*w;f.y+=(S-f.y)*w}}if(l){$r(s=fo.geom.quadtree(p),o,g);a=-1;while(++a<t){if(!(f=p[a]).fixed){s.visit(e(f))}}}a=-1;while(++a<t){f=p[a];if(f.fixed){f.x=f.px;f.y=f.py}else{f.x-=(f.px-(f.px=f.x))*u;f.y-=(f.py-(f.py=f.y))*u}}r.tick({type:"tick",alpha:o})};n.nodes=function(e){if(!arguments.length)return p;p=e;return n};n.links=function(e){if(!arguments.length)return d;d=e;return n};n.size=function(e){if(!arguments.length)return i;i=e;return n};n.linkDistance=function(e){if(!arguments.length)return a;a=typeof e==="function"?e:+e;return n};n.distance=n.linkDistance;n.linkStrength=function(e){if(!arguments.length)return f;f=typeof e==="function"?e:+e;return n};n.friction=function(e){if(!arguments.length)return u;u=+e;return n};n.charge=function(e){if(!arguments.length)return l;l=typeof e==="function"?e:+e;return n};n.gravity=function(e){if(!arguments.length)return c;c=+e;return n};n.theta=function(e){if(!arguments.length)return h;h=+e;return n};n.alpha=function(e){if(!arguments.length)return o;e=+e;if(o){if(e>0)o=e;else o=0}else if(e>0){r.start({type:"start",alpha:o=e});fo.timer(n.tick)}return n};n.start=function(){function e(e,n){var i=t(r),s=-1,o=i.length,u;while(++s<o)if(!isNaN(u=i[s][e]))return u;return Math.random()*n}function t(){if(!y){y=[];for(s=0;s<o;++s){y[s]=[]}for(s=0;s<u;++s){var e=d[s];y[e.source.index].push(e.target);y[e.target.index].push(e.source)}}return y[r]}var r,s,o=p.length,u=d.length,c=i[0],h=i[1],y,b;for(r=0;r<o;++r){(b=p[r]).index=r;b.weight=0}for(r=0;r<u;++r){b=d[r];if(typeof b.source=="number")b.source=p[b.source];if(typeof b.target=="number")b.target=p[b.target];++b.source.weight;++b.target.weight}for(r=0;r<o;++r){b=p[r];if(isNaN(b.x))b.x=e("x",c);if(isNaN(b.y))b.y=e("y",h);if(isNaN(b.px))b.px=b.x;if(isNaN(b.py))b.py=b.y}v=[];if(typeof a==="function")for(r=0;r<u;++r)v[r]=+a.call(this,d[r],r);else for(r=0;r<u;++r)v[r]=a;m=[];if(typeof f==="function")for(r=0;r<u;++r)m[r]=+f.call(this,d[r],r);else for(r=0;r<u;++r)m[r]=f;g=[];if(typeof l==="function")for(r=0;r<o;++r)g[r]=+l.call(this,p[r],r);else for(r=0;r<o;++r)g[r]=l;return n.resume()};n.resume=function(){return n.alpha(.1)};n.stop=function(){return n.alpha(0)};n.drag=function(){if(!s)s=fo.behavior.drag().origin(ct).on("dragstart.force",zr).on("drag.force",t).on("dragend.force",Wr);if(!arguments.length)return s;this.on("mouseover.force",Xr).on("mouseout.force",Vr).call(s)};return fo.rebind(n,r,"on")};var Xu=20,Vu=1;fo.layout.hierarchy=function(){function e(t,o,u){var a=i.call(n,t,o);t.depth=o;u.push(t);if(a&&(l=a.length)){var f=-1,l,c=t.children=[],h=0,p=o+1,d;while(++f<l){d=e(a[f],p,u);d.parent=t;c.push(d);h+=d.value}if(r)c.sort(r);if(s)t.value=h}else if(s){t.value=+s.call(n,t,o)||0}return t}function t(e,r){var i=e.children,o=0;if(i&&(a=i.length)){var u=-1,a,f=r+1;while(++u<a)o+=t(i[u],f)}else if(s){o=+s.call(n,e,r)||0}if(s)e.value=o;return o}function n(t){var n=[];e(t,0,n);return n}var r=Gr,i=Kr,s=Qr;n.sort=function(e){if(!arguments.length)return r;r=e;return n};n.children=function(e){if(!arguments.length)return i;i=e;return n};n.value=function(e){if(!arguments.length)return s;s=e;return n};n.revalue=function(e){t(e,0);return e};return n};fo.layout.partition=function(){function e(t,n,r,i){var s=t.children;t.x=n;t.y=t.depth*i;t.dx=r;t.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;r=t.value?r/t.value:0;while(++o<u){e(a=s[o],n,f=a.value*r,i);n+=f}}}function t(e){var n=e.children,r=0;if(n&&(s=n.length)){var i=-1,s;while(++i<s)r=Math.max(r,t(n[i]))}return 1+r}function n(n,s){var o=r.call(this,n,s);e(o[0],0,i[0],i[1]/t(o[0]));return o}var r=fo.layout.hierarchy(),i=[1,1];n.size=function(e){if(!arguments.length)return i;i=e;return n};return Jr(n,r)};fo.layout.pie=function(){function e(s){var o=s.map(function(n,r){return+t.call(e,n,r)});var u=+(typeof r==="function"?r.apply(this,arguments):r);var a=((typeof i==="function"?i.apply(this,arguments):i)-u)/fo.sum(o);var f=fo.range(s.length);if(n!=null)f.sort(n===$u?function(e,t){return o[t]-o[e]}:function(e,t){return n(s[e],s[t])});var l=[];f.forEach(function(e){var t;l[e]={data:s[e],value:t=o[e],startAngle:u,endAngle:u+=t*a}});return l}var t=Number,n=$u,r=0,i=2*Fo;e.value=function(n){if(!arguments.length)return t;t=n;return e};e.sort=function(t){if(!arguments.length)return n;n=t;return e};e.startAngle=function(t){if(!arguments.length)return r;r=t;return e};e.endAngle=function(t){if(!arguments.length)return i;i=t;return e};return e};var $u={};fo.layout.stack=function(){function e(u,a){var f=u.map(function(n,r){return t.call(e,n,r)});var l=f.map(function(t){return t.map(function(t,n){return[s.call(e,t,n),o.call(e,t,n)]})});var c=n.call(e,l,a);f=fo.permute(f,c);l=fo.permute(l,c);var h=r.call(e,l,a);var p=f.length,d=f[0].length,v,m,g;for(m=0;m<d;++m){i.call(e,f[0][m],g=h[m],l[0][m][1]);for(v=1;v<p;++v){i.call(e,f[v][m],g+=l[v-1][m][1],l[v][m][1])}}return u}var t=ct,n=ni,r=ri,i=ti,s=Zr,o=ei;e.values=function(n){if(!arguments.length)return t;t=n;return e};e.order=function(t){if(!arguments.length)return n;n=typeof t==="function"?t:Ju.get(t)||ni;return e};e.offset=function(t){if(!arguments.length)return r;r=typeof t==="function"?t:Ku.get(t)||ri;return e};e.x=function(t){if(!arguments.length)return s;s=t;return e};e.y=function(t){if(!arguments.length)return o;o=t;return e};e.out=function(t){if(!arguments.length)return i;i=t;return e};return e};var Ju=fo.map({"inside-out":function(e){var t=e.length,n,r,i=e.map(ii),s=e.map(si),o=fo.range(t).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[];for(n=0;n<t;++n){r=o[n];if(u<a){u+=s[r];f.push(r)}else{a+=s[r];l.push(r)}}return l.reverse().concat(f)},reverse:function(e){return fo.range(e.length).reverse()},"default":ni});var Ku=fo.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];if(u>i)i=u;r.push(u)}for(o=0;o<n;++o){a[o]=(i-r[o])/2}return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i,s,o,u,a,f,l,c,h,p=[];p[0]=c=h=0;for(s=1;s<r;++s){for(i=0,u=0;i<t;++i)u+=e[i][s][1];for(i=0,a=0,l=n[s][0]-n[s-1][0];i<t;++i){for(o=0,f=(e[i][s][1]-e[i][s-1][1])/(2*l);o<i;++o){f+=(e[o][s][1]-e[o][s-1][1])/l}a+=f*e[i][s][1]}p[s]=c-=u?a/u*l:0;if(c<h)h=c}for(s=0;s<r;++s)p[s]-=h;return p},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:ri});fo.layout.histogram=function(){function e(e,s){var o=[],u=e.map(n,this),a=r.call(this,u,s),f=i.call(this,a,u,s),l,s=-1,c=u.length,h=f.length-1,p=t?1:1/c,d;while(++s<h){l=o[s]=[];l.dx=f[s+1]-(l.x=f[s]);l.y=0}if(h>0){s=-1;while(++s<c){d=u[s];if(d>=a[0]&&d<=a[1]){l=o[fo.bisect(f,d,1,h)-1];l.y+=p;l.push(e[s])}}}return o}var t=true,n=Number,r=fi,i=ui;e.value=function(t){if(!arguments.length)return n;n=t;return e};e.range=function(t){if(!arguments.length)return r;r=lt(t);return e};e.bins=function(t){if(!arguments.length)return i;i=typeof t==="number"?function(e){return ai(e,t)}:lt(t);return e};e.frequency=function(n){if(!arguments.length)return t;t=!!n;return e};return e};fo.layout.tree=function(){function e(e,i){function s(e,t){var r=e.children,i=e._tree;if(r&&(o=r.length)){var o,a=r[0],f,l=a,c,h=-1;while(++h<o){c=r[h];s(c,f);l=u(c,f,l);f=c}yi(e);var p=.5*(a._tree.prelim+c._tree.prelim);if(t){i.prelim=t._tree.prelim+n(e,t);i.mod=i.prelim-p}else{i.prelim=p}}else{if(t){i.prelim=t._tree.prelim+n(e,t)}}}function o(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var r=-1,i;t+=e._tree.mod;while(++r<i){o(n[r],t)}}}function u(e,t,r){if(t){var i=e,s=e,o=t,u=e.parent.children[0],a=i._tree.mod,f=s._tree.mod,l=o._tree.mod,c=u._tree.mod,h;while(o=hi(o),i=ci(i),o&&i){u=ci(u);s=hi(s);s._tree.ancestor=e;h=o._tree.prelim+l-i._tree.prelim-a+n(o,i);if(h>0){bi(wi(o,e,r),e,h);a+=h;f+=h}l+=o._tree.mod;a+=i._tree.mod;c+=u._tree.mod;f+=s._tree.mod}if(o&&!hi(s)){s._tree.thread=o;s._tree.mod+=l-f}if(i&&!ci(u)){u._tree.thread=i;u._tree.mod+=a-c;r=e}}return r}var a=t.call(this,e,i),f=a[0];gi(f,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}});s(f);o(f,-f._tree.prelim);var l=pi(f,vi),c=pi(f,di),h=pi(f,mi),p=l.x-n(l,c)/2,d=c.x+n(c,l)/2,v=h.depth||1;gi(f,function(e){e.x=(e.x-p)/(d-p)*r[0];e.y=e.depth/v*r[1];delete e._tree});return a}var t=fo.layout.hierarchy().sort(null).value(null),n=li,r=[1,1];e.separation=function(t){if(!arguments.length)return n;n=t;return e};e.size=function(t){if(!arguments.length)return r;r=t;return e};return Jr(e,t)};fo.layout.pack=function(){function e(e,i){var s=t.call(this,e,i),o=s[0];o.x=0;o.y=0;gi(o,function(e){e.r=Math.sqrt(e.value)});gi(o,Ni);var u=r[0],a=r[1],f=Math.max(2*o.r/u,2*o.r/a);if(n>0){var l=n*f/2;gi(o,function(e){e.r+=l});gi(o,Ni);gi(o,function(e){e.r-=l});f=Math.max(2*o.r/u,2*o.r/a)}Li(o,u/2,a/2,1/f);return s}var t=fo.layout.hierarchy().sort(Ei),n=0,r=[1,1];e.size=function(t){if(!arguments.length)return r;r=t;return e};e.padding=function(t){if(!arguments.length)return n;n=+t;return e};return Jr(e,t)};fo.layout.cluster=function(){function e(e,i){var s=t.call(this,e,i),o=s[0],u,a=0;gi(o,function(e){var t=e.children;if(t&&t.length){e.x=Mi(t);e.y=Oi(t)}else{e.x=u?a+=n(e,u):0;e.y=0;u=e}});var f=_i(o),l=Di(o),c=f.x-n(f,l)/2,h=l.x+n(l,f)/2;gi(o,function(e){e.x=(e.x-c)/(h-c)*r[0];e.y=(1-(o.y?e.y/o.y:1))*r[1]});return s}var t=fo.layout.hierarchy().sort(null).value(null),n=li,r=[1,1];e.separation=function(t){if(!arguments.length)return n;n=t;return e};e.size=function(t){if(!arguments.length)return r;r=t;return e};return Jr(e,t)};fo.layout.treemap=function(){function e(e,t){var n=-1,r=e.length,i,s;while(++n<r){s=(i=e[n]).value*(t<0?0:t);i.area=isNaN(s)||s<=0?0:s}}function t(n){var s=n.children;if(s&&s.length){var o=l(n),u=[],a=s.slice(),f,c=Infinity,h,d=p==="slice"?o.dx:p==="dice"?o.dy:p==="slice-dice"?n.depth&1?o.dy:o.dx:Math.min(o.dx,o.dy),v;e(a,o.dx*o.dy/n.value);u.area=0;while((v=a.length)>0){u.push(f=a[v-1]);u.area+=f.area;if(p!=="squarify"||(h=r(u,d))<=c){a.pop();c=h}else{u.area-=u.pop().area;i(u,d,o,false);d=Math.min(o.dx,o.dy);u.length=u.area=0;c=Infinity}}if(u.length){i(u,d,o,true);u.length=u.area=0}s.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var s=l(t),o=r.slice(),u,a=[];e(o,s.dx*s.dy/t.value);a.area=0;while(u=o.pop()){a.push(u);a.area+=u.area;if(u.z!=null){i(a,u.z?s.dx:s.dy,s,!o.length);a.length=a.area=0}}r.forEach(n)}}function r(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,u=e.length;while(++o<u){if(!(r=e[o].area))continue;if(r<s)s=r;if(r>i)i=r}n*=n;t*=t;return n?Math.max(t*i*d/n,n/(t*s*d)):Infinity}function i(e,t,n,r){var i=-1,s=e.length,o=n.x,a=n.y,f=t?u(e.area/t):0,l;if(t==n.dx){if(r||f>n.dy)f=n.dy;while(++i<s){l=e[i];l.x=o;l.y=a;l.dy=f;o+=l.dx=Math.min(n.x+n.dx-o,f?u(l.area/f):0)}l.z=true;l.dx+=n.x+n.dx-o;n.y+=f;n.dy-=f}else{if(r||f>n.dx)f=n.dx;while(++i<s){l=e[i];l.x=o;l.y=a;l.dx=f;a+=l.dy=Math.min(n.y+n.dy-a,f?u(l.area/f):0)}l.z=false;l.dy+=n.y+n.dy-a;n.x+=f;n.dx-=f}}function s(r){var i=h||o(r),s=i[0];s.x=0;s.y=0;s.dx=a[0];s.dy=a[1];if(h)o.revalue(s);e([s],s.dx*s.dy/s.value);(h?n:t)(s);if(c)h=i;return i}var o=fo.layout.hierarchy(),u=Math.round,a=[1,1],f=null,l=Pi,c=false,h,p="squarify",d=.5*(1+Math.sqrt(5));s.size=function(e){if(!arguments.length)return a;a=e;return s};s.padding=function(e){function t(t){var n=e.call(s,t,t.depth);return n==null?Pi(t):Hi(t,typeof n==="number"?[n,n,n,n]:n)}function n(t){return Hi(t,e)}if(!arguments.length)return f;var r;l=(f=e)==null?Pi:(r=typeof e)==="function"?t:r==="number"?(e=[e,e,e,e],n):n;return s};s.round=function(e){if(!arguments.length)return u!=Number;u=e?Math.round:Number;return s};s.sticky=function(e){if(!arguments.length)return c;c=e;h=null;return s};s.ratio=function(e){if(!arguments.length)return d;d=e;return s};s.mode=function(e){if(!arguments.length)return p;p=e+"";return s};return Jr(s,o)};fo.random={normal:function(e,t){var n=arguments.length;if(n<2)t=1;if(n<1)e=0;return function(){var n,r,i;do{n=Math.random()*2-1;r=Math.random()*2-1;i=n*n+r*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=fo.random.normal.apply(fo,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}}};fo.scale={};fo.scale.linear=function(){return Ri([0,1],[0,1],yr,false)};fo.scale.log=function(){return $i(fo.scale.linear().domain([0,Math.LN10]),10,Ji,Ki)};var Qu=fo.format(".0e");fo.scale.pow=function(){return Zi(fo.scale.linear(),1)};fo.scale.sqrt=function(){return fo.scale.pow().exponent(.5)};fo.scale.ordinal=function(){return ts([],{t:"range",a:[[]]})};fo.scale.category10=function(){return fo.scale.ordinal().range(Gu)};fo.scale.category20=function(){return fo.scale.ordinal().range(Yu)};fo.scale.category20b=function(){return fo.scale.ordinal().range(Zu)};fo.scale.category20c=function(){return fo.scale.ordinal().range(ea)};var Gu=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];var Yu=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];var Zu=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];var ea=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];fo.scale.quantile=function(){return ns([],[])};fo.scale.quantize=function(){return rs(0,1,[0,1])};fo.scale.threshold=function(){return is([.5],[0,1])};fo.scale.identity=function(){return ss([0,1])};fo.svg.arc=function(){function e(){var e=t.apply(this,arguments),s=n.apply(this,arguments),o=r.apply(this,arguments)+ta,u=i.apply(this,arguments)+ta,a=(u<o&&(a=o,o=u,u=a),u-o),f=a<Fo?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return a>=na?e?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+ -e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":e?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+e*h+","+e*p+"A"+e+","+e+" 0 "+f+",0 "+e*l+","+e*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0"+"Z"}var t=os,n=us,r=as,i=fs;e.innerRadius=function(n){if(!arguments.length)return t;t=lt(n);return e};e.outerRadius=function(t){if(!arguments.length)return n;n=lt(t);return e};e.startAngle=function(t){if(!arguments.length)return r;r=lt(t);return e};e.endAngle=function(t){if(!arguments.length)return i;i=lt(t);return e};e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,s=(r.apply(this,arguments)+i.apply(this,arguments))/2+ta;return[Math.cos(s)*e,Math.sin(s)*e]};return e};var ta=-Fo/2,na=2*Fo-1e-6;fo.svg.line.radial=function(){var e=Dn(ls);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};Fn.reverse=In;In.reverse=Fn;fo.svg.area=function(){return cs(ct)};fo.svg.area.radial=function(){var e=cs(ls);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};fo.svg.chord=function(){function e(e,u){var a=t(this,s,e,u),f=t(this,o,e,u);return"M"+a.p0+r(a.r,a.p1,a.a1-a.a0)+(n(a,f)?i(a.r,a.p1,a.r,a.p0):i(a.r,a.p1,f.r,f.p0)+r(f.r,f.p1,f.a1-f.a0)+i(f.r,f.p1,a.r,a.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),s=u.call(e,i,r),o=a.call(e,i,r)+ta,l=f.call(e,i,r)+ta;return{r:s,a0:o,a1:l,p0:[s*Math.cos(o),s*Math.sin(o)],p1:[s*Math.cos(l),s*Math.sin(l)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Fo)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var s=cn,o=hn,u=hs,a=as,f=fs;e.radius=function(t){if(!arguments.length)return u;u=lt(t);return e};e.source=function(t){if(!arguments.length)return s;s=lt(t);return e};e.target=function(t){if(!arguments.length)return o;o=lt(t);return e};e.startAngle=function(t){if(!arguments.length)return a;a=lt(t);return e};e.endAngle=function(t){if(!arguments.length)return f;f=lt(t);return e};return e};fo.svg.diagonal=function(){function e(e,i){var s=t.call(this,e,i),o=n.call(this,e,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];a=a.map(r);return"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var t=cn,n=hn,r=ps;e.source=function(n){if(!arguments.length)return t;t=lt(n);return e};e.target=function(t){if(!arguments.length)return n;n=lt(t);return e};e.projection=function(t){if(!arguments.length)return r;r=t;return e};return e};fo.svg.diagonal.radial=function(){var e=fo.svg.diagonal(),t=ps,n=e.projection;e.projection=function(e){return arguments.length?n(ds(t=e)):t};return e};fo.svg.symbol=function(){function e(e,r){return(ra.get(t.call(this,e,r))||gs)(n.call(this,e,r))}var t=ms,n=vs;e.type=function(n){if(!arguments.length)return t;t=lt(n);return e};e.size=function(t){if(!arguments.length)return n;n=lt(t);return e};return e};var ra=fo.map({circle:gs,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*sa)),n=t*sa;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ia),n=t*ia/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ia),n=t*ia/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});fo.svg.symbolTypes=ra.keys();var ia=Math.sqrt(3),sa=Math.tan(30*qo);var oa=[],ua=0,aa,fa={ease:Cr,delay:0,duration:250};oa.call=Lo.call;oa.empty=Lo.empty;oa.node=Lo.node;fo.transition=function(e){return arguments.length?aa?e.transition():e:Do.transition()};fo.transition.prototype=oa;oa.select=function(e){var t=this.id,n=[],r,i,s;if(typeof e!=="function")e=g(e);for(var o=-1,u=this.length;++o<u;){n.push(r=[]);for(var a=this[o],f=-1,l=a.length;++f<l;){if((s=a[f])&&(i=e.call(s,s.__data__,f))){if("__data__"in s)i.__data__=s.__data__;Es(i,f,t,s.__transition__[t]);r.push(i)}else{r.push(null)}}}return ys(n,t)};oa.selectAll=function(e){var t=this.id,n=[],r,i,s,o,u;if(typeof e!=="function")e=y(e);for(var a=-1,f=this.length;++a<f;){for(var l=this[a],c=-1,h=l.length;++c<h;){if(s=l[c]){u=s.__transition__[t];i=e.call(s,s.__data__,c);n.push(r=[]);for(var p=-1,d=i.length;++p<d;){Es(o=i[p],p,t,u);r.push(o)}}}}return ys(n,t)};oa.filter=function(e){var t=[],n,r,i;if(typeof e!=="function")e=L(e);for(var s=0,o=this.length;s<o;s++){t.push(n=[]);for(var r=this[s],u=0,a=r.length;u<a;u++){if((i=r[u])&&e.call(i,i.__data__,u)){n.push(i)}}}return ys(t,this.id,this.time).ease(this.ease())};oa.tween=function(e,t){var n=this.id;if(arguments.length<2)return this.node().__transition__[n].tween.get(e);return P(this,t==null?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})};oa.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var i=br(e),s=fo.ns.qualify(e);return bs(this,"attr."+e,t,function(e){function t(){var t=this.getAttribute(s),n;return t!==e&&(n=i(t,e),function(e){this.setAttribute(s,n(e))})}function o(){var t=this.getAttributeNS(s.space,s.local),n;return t!==e&&(n=i(t,e),function(e){this.setAttributeNS(s.space,s.local,n(e))})}return e==null?s.local?r:n:(e+="",s.local?o:t)})};oa.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=fo.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)};oa.style=function(e,t,n){function r(){this.style.removeProperty(e)}var i=arguments.length;if(i<3){if(typeof e!=="string"){if(i<2)t="";for(n in e)this.style(n,e[n],t);return this}n=""}var s=br(e);return bs(this,"style."+e,t,function(t){function i(){var r=co.getComputedStyle(this,null).getPropertyValue(e),i;return r!==t&&(i=s(r,t),function(t){this.style.setProperty(e,i(t),n)})}return t==null?r:(t+="",i)})};oa.styleTween=function(e,t,n){if(arguments.length<3)n="";return this.tween("style."+e,function(r,i){var s=t.call(this,r,i,co.getComputedStyle(this,null).getPropertyValue(e));return s&&function(t){this.style.setProperty(e,s(t),n)}})};oa.text=function(e){return bs(this,"text",e,ws)};oa.remove=function(){return this.each("end.transition",function(){var e;if(!this.__transition__&&(e=this.parentNode))e.removeChild(this)})};oa.ease=function(e){var t=this.id;if(arguments.length<1)return this.node().__transition__[t].ease;if(typeof e!=="function")e=fo.ease.apply(fo,arguments);return P(this,function(n){n.__transition__[t].ease=e})};oa.delay=function(e){var t=this.id;return P(this,typeof e==="function"?function(n,r,i){n.__transition__[t].delay=e.call(n,n.__data__,r,i)|0}:(e|=0,function(n){n.__transition__[t].delay=e}))};oa.duration=function(e){var t=this.id;return P(this,typeof e==="function"?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i)|0)}:(e=Math.max(1,e|0),function(n){n.__transition__[t].duration=e}))};oa.each=function(e,t){var n=this.id;if(arguments.length<2){var r=fa,i=aa;aa=n;P(this,function(t,r,i){fa=t.__transition__[n];e.call(t,t.__data__,r,i)});fa=r;aa=i}else{P(this,function(r){r.__transition__[n].event.on(e,t)})}return this};oa.transition=function(){var e=this.id,t=++ua,n=[],r,i,s,o;for(var u=0,a=this.length;u<a;u++){n.push(r=[]);for(var i=this[u],f=0,l=i.length;f<l;f++){if(s=i[f]){o=Object.create(s.__transition__[e]);o.delay+=o.duration;Es(s,f,t,o)}r.push(s)}}return ys(n,t)};fo.svg.axis=function(){function e(e){e.each(function(){var e=fo.select(this);var c=a==null?t.ticks?t.ticks.apply(t,u):t.domain():a,h=f==null?t.tickFormat?t.tickFormat.apply(t,u):String:f;var p=Ts(t,c,l),d=e.selectAll(".tick.minor").data(p,String),v=d.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),m=fo.transition(d.exit()).style("opacity",1e-6).remove(),g=fo.transition(d).style("opacity",1);var y=e.selectAll(".tick.major").data(c,String),b=y.enter().insert("g","path").attr("class","tick major").style("opacity",1e-6),w=fo.transition(y.exit()).style("opacity",1e-6).remove(),E=fo.transition(y).style("opacity",1),S;var x=ji(t),T=e.selectAll(".domain").data([0]),N=(T.enter().append("path").attr("class","domain"),fo.transition(T));var C=t.copy(),k=this.__chart__||C;this.__chart__=C;b.append("line");b.append("text");var L=b.select("line"),A=E.select("line"),O=y.select("text").text(h),M=b.select("text"),_=E.select("text");switch(n){case"bottom":{S=Ss;v.attr("y2",i);g.attr("x2",0).attr("y2",i);L.attr("y2",r);M.attr("y",Math.max(r,0)+o);A.attr("x2",0).attr("y2",r);_.attr("x",0).attr("y",Math.max(r,0)+o);O.attr("dy",".71em").style("text-anchor","middle");N.attr("d","M"+x[0]+","+s+"V0H"+x[1]+"V"+s);break};case"top":{S=Ss;v.attr("y2",-i);g.attr("x2",0).attr("y2",-i);L.attr("y2",-r);M.attr("y",-(Math.max(r,0)+o));A.attr("x2",0).attr("y2",-r);_.attr("x",0).attr("y",-(Math.max(r,0)+o));O.attr("dy","0em").style("text-anchor","middle");N.attr("d","M"+x[0]+","+ -s+"V0H"+x[1]+"V"+ -s);break};case"left":{S=xs;v.attr("x2",-i);g.attr("x2",-i).attr("y2",0);L.attr("x2",-r);M.attr("x",-(Math.max(r,0)+o));A.attr("x2",-r).attr("y2",0);_.attr("x",-(Math.max(r,0)+o)).attr("y",0);O.attr("dy",".32em").style("text-anchor","end");N.attr("d","M"+ -s+","+x[0]+"H0V"+x[1]+"H"+ -s);break};case"right":{S=xs;v.attr("x2",i);g.attr("x2",i).attr("y2",0);L.attr("x2",r);M.attr("x",Math.max(r,0)+o);A.attr("x2",r).attr("y2",0);_.attr("x",Math.max(r,0)+o).attr("y",0);O.attr("dy",".32em").style("text-anchor","start");N.attr("d","M"+s+","+x[0]+"H0V"+x[1]+"H"+s);break}}if(t.ticks){b.call(S,k);E.call(S,C);w.call(S,C);v.call(S,k);g.call(S,C);m.call(S,C)}else{var D=C.rangeBand()/2,P=function(e){return C(e)+D};b.call(S,P);E.call(S,P)}})}var t=fo.scale.linear(),n=la,r=6,i=6,s=6,o=3,u=[10],a=null,f,l=0;e.scale=function(n){if(!arguments.length)return t;t=n;return e};e.orient=function(t){if(!arguments.length)return n;n=t in ca?t+"":la;return e};e.ticks=function(){if(!arguments.length)return u;u=arguments;return e};e.tickValues=function(t){if(!arguments.length)return a;a=t;return e};e.tickFormat=function(t){if(!arguments.length)return f;f=t;return e};e.tickSize=function(t,n){if(!arguments.length)return r;var o=arguments.length-1;r=+t;i=o>1?+n:r;s=o>0?+arguments[o]:r;return e};e.tickPadding=function(t){if(!arguments.length)return o;o=+t;return e};e.tickSubdivide=function(t){if(!arguments.length)return l;l=+t;return e};return e};var la="bottom",ca={top:1,right:1,bottom:1,left:1};fo.svg.brush=function(){function e(s){s.each(function(){var s=fo.select(this),f=s.selectAll(".background").data([0]),l=s.selectAll(".extent").data([0]),c=s.selectAll(".resize").data(a,String),h;s.style("pointer-events","all").on("mousedown.brush",i).on("touchstart.brush",i);f.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");l.enter().append("rect").attr("class","extent").style("cursor","move");c.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return ha[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");c.style("display",e.empty()?"none":null);c.exit().remove();if(o){h=ji(o);f.attr("x",h[0]).attr("width",h[1]-h[0]);n(s)}if(u){h=ji(u);f.attr("y",h[0]).attr("height",h[1]-h[0]);r(s)}t(s)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+l[+/e$/.test(e)][0]+","+l[+/^s/.test(e)][1]+")"})}function n(e){e.select(".extent").attr("x",l[0][0]);e.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1][0]-l[0][0])}function r(e){e.select(".extent").attr("y",l[0][1]);e.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1][1]-l[0][1])}function i(){function i(){var e=fo.event.changedTouches;return e?fo.touches(m,e)[0]:fo.mouse(m)}function a(){if(fo.event.keyCode==32){if(!x){T=null;N[0]-=l[1][0];N[1]-=l[1][1];x=2}f()}}function h(){if(fo.event.keyCode==32&&x==2){N[0]+=l[1][0];N[1]+=l[1][1];x=0;f()}}function p(){var e=i(),s=false;if(C){e[0]+=C[0];e[1]+=C[1]}if(!x){if(fo.event.altKey){if(!T)T=[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2];N[0]=l[+(e[0]<T[0])][0];N[1]=l[+(e[1]<T[1])][1]}else T=null}if(E&&d(e,o,0)){n(b);s=true}if(S&&d(e,u,1)){r(b);s=true}if(s){t(b);y({type:"brush",mode:x?"move":"resize"})}}function d(e,t,n){var r=ji(t),i=r[0],s=r[1],o=N[n],u=l[1][n]-l[0][n],a,f;if(x){i-=o;s-=u+o}a=Math.max(i,Math.min(s,e[n]));if(x){f=(a+=o)+u}else{if(T)o=Math.max(i,Math.min(s,2*T[n]-a));if(o<a){f=a;a=o}else{f=o}}if(l[0][n]!==a||l[1][n]!==f){c=null;l[0][n]=a;l[1][n]=f;return true}}function v(){p();b.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null);fo.select("body").style("cursor",null);k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);y({type:"brushend"});f()}var m=this,g=fo.select(fo.event.target),y=s.of(m,arguments),b=fo.select(m),w=g.datum(),E=!/^(n|s)$/.test(w)&&o,S=!/^(e|w)$/.test(w)&&u,x=g.classed("extent"),T,N=i(),C;var k=fo.select(co).on("mousemove.brush",p).on("mouseup.brush",v).on("touchmove.brush",p).on("touchend.brush",v).on("keydown.brush",a).on("keyup.brush",h);if(x){N[0]=l[0][0]-N[0];N[1]=l[0][1]-N[1]}else if(w){var L=+/w$/.test(w),A=+/^n/.test(w);C=[l[1-L][0]-N[0],l[1-A][1]-N[1]];N[0]=l[L][0];N[1]=l[A][1]}else if(fo.event.altKey)T=N.slice();b.style("pointer-events","none").selectAll(".resize").style("display",null);fo.select("body").style("cursor",g.style("cursor"));y({type:"brushstart"});p();f()}var s=h(e,"brushstart","brush","brushend"),o=null,u=null,a=pa[0],l=[[0,0],[0,0]],c;e.x=function(t){if(!arguments.length)return o;o=t;a=pa[!o<<1|!u];return e};e.y=function(t){if(!arguments.length)return u;u=t;a=pa[!o<<1|!u];return e};e.extent=function(t){var n,r,i,s,a;if(!arguments.length){t=c||l;if(o){n=t[0][0],r=t[1][0];if(!c){n=l[0][0],r=l[1][0];if(o.invert)n=o.invert(n),r=o.invert(r);if(r<n)a=n,n=r,r=a}}if(u){i=t[0][1],s=t[1][1];if(!c){i=l[0][1],s=l[1][1];if(u.invert)i=u.invert(i),s=u.invert(s);if(s<i)a=i,i=s,s=a}}return o&&u?[[n,i],[r,s]]:o?[n,r]:u&&[i,s]}c=[[0,0],[0,0]];if(o){n=t[0],r=t[1];if(u)n=n[0],r=r[0];c[0][0]=n,c[1][0]=r;if(o.invert)n=o(n),r=o(r);if(r<n)a=n,n=r,r=a;l[0][0]=n|0,l[1][0]=r|0}if(u){i=t[0],s=t[1];if(o)i=i[1],s=s[1];c[0][1]=i,c[1][1]=s;if(u.invert)i=u(i),s=u(s);if(s<i)a=i,i=s,s=a;l[0][1]=i|0,l[1][1]=s|0}return e};e.clear=function(){c=null;l[0][0]=l[0][1]=l[1][0]=l[1][1]=0;return e};e.empty=function(){return o&&l[0][0]===l[1][0]||u&&l[0][1]===l[1][1]};return fo.rebind(e,s,"on")};var ha={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var pa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];fo.time={};var da=Date,va=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Ns.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ma.setUTCDate.apply(this._,arguments)},setDay:function(){ma.setUTCDay.apply(this._,arguments)},setFullYear:function(){ma.setUTCFullYear.apply(this._,arguments)},setHours:function(){ma.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ma.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ma.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ma.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ma.setUTCSeconds.apply(this._,arguments)},setTime:function(){ma.setTime.apply(this._,arguments)}};var ma=Date.prototype;var ga="%a %b %e %X %Y",ya="%m/%d/%Y",ba="%H:%M:%S";var wa=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ea=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Sa=["January","February","March","April","May","June","July","August","September","October","November","December"],xa=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];fo.time.year=Cs(function(e){e=fo.time.day(e);e.setMonth(0,1);return e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()});fo.time.years=fo.time.year.range;fo.time.years.utc=fo.time.year.utc.range;fo.time.day=Cs(function(e){var t=new da(1970,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate());return t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1});fo.time.days=fo.time.day.range;fo.time.days.utc=fo.time.day.utc.range;fo.time.dayOfYear=function(e){var t=fo.time.year(e);return Math.floor((e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)};va.forEach(function(e,t){e=e.toLowerCase();t=7-t;var n=fo.time[e]=Cs(function(e){(e=fo.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7);return e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var n=fo.time.year(e).getDay();return Math.floor((fo.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});fo.time[e+"s"]=n.range;fo.time[e+"s"].utc=n.utc.range;fo.time[e+"OfYear"]=function(e){var n=fo.time.year(e).getDay();return Math.floor((fo.time.dayOfYear(e)+(n+t)%7)/7)}});fo.time.week=fo.time.sunday;fo.time.weeks=fo.time.sunday.range;fo.time.weeks.utc=fo.time.sunday.utc.range;fo.time.weekOfYear=fo.time.sundayOfYear;fo.time.format=function(e){function t(t){var r=[],i=-1,s=0,o,u,a;while(++i<n){if(e.charCodeAt(i)===37){r.push(e.substring(s,i));if((u=Oa[o=e.charAt(++i)])!=null)o=e.charAt(++i);if(a=Ma[o])o=a(t,u==null?o==="e"?" ":"0":u);r.push(o);s=i+1}}r.push(e.substring(s,i));return r.join("")}var n=e.length;t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=Ls(n,e,t,0);if(r!=t.length)return null;if("p"in n)n.H=n.H%12+n.p*12;var i=new da;i.setFullYear(n.y,n.m,n.d);i.setHours(n.H,n.M,n.S,n.L);return i};t.toString=function(){return e};return t};var Ta=As(wa),Na=As(Ea),Ca=As(Sa),ka=Os(Sa),La=As(xa),Aa=Os(xa);var Oa={"-":"",_:" ",0:"0"};var Ma={a:function(e){return Ea[e.getDay()]},A:function(e){return wa[e.getDay()]},b:function(e){return xa[e.getMonth()]},B:function(e){return Sa[e.getMonth()]},c:fo.time.format(ga),d:function(e,t){return Ms(e.getDate(),t,2)},e:function(e,t){return Ms(e.getDate(),t,2)},H:function(e,t){return Ms(e.getHours(),t,2)},I:function(e,t){return Ms(e.getHours()%12||12,t,2)},j:function(e,t){return Ms(1+fo.time.dayOfYear(e),t,3)},L:function(e,t){return Ms(e.getMilliseconds(),t,3)},m:function(e,t){return Ms(e.getMonth()+1,t,2)},M:function(e,t){return Ms(e.getMinutes(),t,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e,t){return Ms(e.getSeconds(),t,2)},U:function(e,t){return Ms(fo.time.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ms(fo.time.mondayOfYear(e),t,2)},x:fo.time.format(ya),X:fo.time.format(ba),y:function(e,t){return Ms(e.getFullYear()%100,t,2)},Y:function(e,t){return Ms(e.getFullYear()%1e4,t,4)},Z:Ks,"%":function(){return"%"}};var _a={a:_s,A:Ds,b:Ps,B:Hs,c:Bs,d:zs,e:zs,H:Ws,I:Ws,L:$s,m:Us,M:Xs,p:Js,S:Vs,x:js,X:Fs,y:qs,Y:Is};var Da=/^\s*\d+/;var Pa=fo.map({am:0,pm:1});fo.time.format.utc=function(e){function t(e){try{da=Ns;var t=new da;t._=e;return n(t)}finally{da=Date}}var n=fo.time.format(e);t.parse=function(e){try{da=Ns;var t=n.parse(e);return t&&t._}finally{da=Date}};t.toString=n.toString;return t};var Ha=fo.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");fo.time.format.iso=Date.prototype.toISOString&&+(new Date("2000-01-01T00:00:00.000Z"))?Qs:Ha;Qs.parse=function(e){var t=new Date(e);return isNaN(t)?null:t};Qs.toString=Ha.toString;fo.time.second=Cs(function(e){return new da(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()});fo.time.seconds=fo.time.second.range;fo.time.seconds.utc=fo.time.second.utc.range;fo.time.minute=Cs(function(e){return new da(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()});fo.time.minutes=fo.time.minute.range;fo.time.minutes.utc=fo.time.minute.utc.range;fo.time.hour=Cs(function(e){var t=e.getTimezoneOffset()/60;return new da((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()});fo.time.hours=fo.time.hour.range;fo.time.hours.utc=fo.time.hour.utc.range;fo.time.month=Cs(function(e){e=fo.time.day(e);e.setDate(1);return e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()});fo.time.months=fo.time.month.range;fo.time.months.utc=fo.time.month.utc.range;var Ba=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var ja=[[fo.time.second,1],[fo.time.second,5],[fo.time.second,15],[fo.time.second,30],[fo.time.minute,1],[fo.time.minute,5],[fo.time.minute,15],[fo.time.minute,30],[fo.time.hour,1],[fo.time.hour,3],[fo.time.hour,6],[fo.time.hour,12],[fo.time.day,1],[fo.time.day,2],[fo.time.week,1],[fo.time.month,1],[fo.time.month,3],[fo.time.year,1]];var Fa=[[fo.time.format("%Y"),Pt],[fo.time.format("%B"),function(e){return e.getMonth()}],[fo.time.format("%b %d"),function(e){return e.getDate()!=1}],[fo.time.format("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[fo.time.format("%I %p"),function(e){return e.getHours()}],[fo.time.format("%I:%M"),function(e){return e.getMinutes()}],[fo.time.format(":%S"),function(e){return e.getSeconds()}],[fo.time.format(".%L"),function(e){return e.getMilliseconds()}]];var Ia=fo.scale.linear(),qa=eo(Fa);ja.year=function(e,t){return Ia.domain(e.map(no)).ticks(t).map(to)};fo.time.scale=function(){return Gs(fo.scale.linear(),ja,qa)};var Ra=ja.map(function(e){return[e[0].utc,e[1]]});var Ua=[[fo.time.format.utc("%Y"),Pt],[fo.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[fo.time.format.utc("%b %d"),function(e){return e.getUTCDate()!=1}],[fo.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[fo.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[fo.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[fo.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[fo.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]];var za=eo(Ua);Ra.year=function(e,t){return Ia.domain(e.map(io)).ticks(t).map(ro)};fo.time.scale.utc=function(){return Gs(fo.scale.linear(),Ra,za)};fo.text=function(){return fo.xhr.apply(fo,arguments).response(so)};fo.json=function(e,t){return fo.xhr(e,"application/json",t).response(oo)};fo.html=function(e,t){return fo.xhr(e,"text/html",t).response(uo)};fo.xml=function(){return fo.xhr.apply(fo,arguments).response(ao)};return fo}();(function(){function e(e,t){return(new Date(t,e+1,0)).getDate()}function t(e,t,n){return function(r,i,s){var o=e(r),u=[];if(o<r)t(o);if(s>1){while(o<i){var a=new Date(+o);if(n(a)%s===0)u.push(a);t(o)}}else{while(o<i){u.push(new Date(+o));t(o)}}return u}}var n=window.nv||{};n.version="1.1.11b";n.dev=true;window.nv=n;n.tooltip={};n.utils=n.utils||{};n.models={};n.charts={};n.graphs=[];n.logs={};n.dispatch=d3.dispatch("render_start","render_end");if(n.dev){n.dispatch.on("render_start",function(e){n.logs.startTime=+(new Date)});n.dispatch.on("render_end",function(e){n.logs.endTime=+(new Date);n.logs.totalTime=n.logs.endTime-n.logs.startTime;n.log("total",n.logs.totalTime)})}n.log=function(){if(n.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(n.dev&&typeof console.log=="function"&&Function.prototype.bind){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}return arguments[arguments.length-1]};n.render=function(e){e=e||1;n.render.active=true;n.dispatch.render_start();setTimeout(function(){var t,r;for(var i=0;i<e&&(r=n.render.queue[i]);i++){t=r.generate();if(typeof r.callback==typeof Function)r.callback(t);n.graphs.push(t)}n.render.queue.splice(0,i);if(n.render.queue.length)setTimeout(arguments.callee,0);else{n.render.active=false;n.dispatch.render_end()}},0)};n.render.active=false;n.render.queue=[];n.addGraph=function(e){if(typeof arguments[0]===typeof Function)e={generate:arguments[0],callback:arguments[1]};n.render.queue.push(e);if(!n.render.active)n.render()};n.identity=function(e){return e};n.strip=function(e){return e.replace(/(\s|&)/g,"")};d3.time.monthEnd=function(e){return new Date(e.getFullYear(),e.getMonth(),0)};d3.time.monthEnds=t(d3.time.monthEnd,function(t){t.setUTCDate(t.getUTCDate()+1);t.setDate(e(t.getMonth()+1,t.getFullYear()))},function(e){return e.getMonth()});n.interactiveGuideline=function(){"use strict";function e(u){u.each(function(u){function h(){var n=d3.mouse(this);var r=n[0];var i=n[1];var u=true;var f=false;if(c){r=d3.event.offsetX;i=d3.event.offsetY;if(d3.event.target.tagName!=="svg")u=false;if(d3.event.target.className.baseVal.match("nv-legend"))f=true}if(u){r-=s.left;i-=s.top}if(r<0||i<0||r>d||i>v||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||f){if(c){if(d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&d3.event.relatedTarget.className.match(t.nvPointerEventsClass)){return}}a.elementMouseout({mouseX:r,mouseY:i});e.renderGuideLine(null);return}var l=o.invert(r);a.elementMousemove({mouseX:r,mouseY:i,pointXValue:l});if(d3.event.type==="dblclick"){a.elementDblclick({mouseX:r,mouseY:i,pointXValue:l})}}var p=d3.select(this);var d=r||960,v=i||400;var m=p.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([u]);var g=m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");g.append("g").attr("class","nv-interactiveGuideLine");if(!l){return}l.on("mousemove",h,true).on("mouseout",h,true).on("dblclick",h);e.renderGuideLine=function(e){if(!f)return;var t=m.select(".nv-interactiveGuideLine").selectAll("line").data(e!=null?[n.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(e){return e}).attr("x2",function(e){return e}).attr("y1",v).attr("y2",0);t.exit().remove()}})}var t=n.models.tooltip();var r=null,i=null,s={left:0,top:0},o=d3.scale.linear(),u=d3.scale.linear(),a=d3.dispatch("elementMousemove","elementMouseout","elementDblclick"),f=true,l=null;var c=navigator.userAgent.indexOf("MSIE")!==-1;e.dispatch=a;e.tooltip=t;e.margin=function(t){if(!arguments.length)return s;s.top=typeof t.top!="undefined"?t.top:s.top;s.left=typeof t.left!="undefined"?t.left:s.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.xScale=function(t){if(!arguments.length)return o;o=t;return e};e.showGuideLine=function(t){if(!arguments.length)return f;f=t;return e};e.svgContainer=function(t){if(!arguments.length)return l;l=t;return e};return e};n.interactiveBisect=function(e,t,n){"use strict";if(!e instanceof Array)return null;if(typeof n!=="function")n=function(e,t){return e.x};var r=d3.bisector(n).left;var i=d3.max([0,r(e,t)-1]);var s=n(e[i],i);if(typeof s==="undefined")s=i;if(s===t)return i;var o=d3.min([i+1,e.length-1]);var u=n(e[o],o);if(typeof u==="undefined")u=o;if(Math.abs(u-t)>=Math.abs(s-t))return i;else return o};n.nearestValueIndex=function(e,t,n){"use strict";var r=Infinity,i=null;e.forEach(function(e,s){var o=Math.abs(t-e);if(o<=r&&o<n){r=o;i=s}});return i};(function(){"use strict";window.nv.tooltip={};window.nv.models.tooltip=function(){function e(){if(c){var e=d3.select(c);if(e.node().tagName!=="svg"){e=e.select("svg")}var t=e.node()?e.attr("viewBox"):null;if(t){t=t.split(" ");var n=parseInt(e.style("width"))/t[2];p.left=p.left*n;p.top=p.top*n}}}function t(e){var t;if(c)t=d3.select(c);else t=d3.select("body");var n=t.select(".nvtooltip");if(n.node()===null){n=t.append("div").attr("class","nvtooltip "+(l?l:"xy-tooltip")).attr("id",v)}n.node().innerHTML=e;n.style("top",0).style("left",0).style("opacity",0);n.selectAll("div, table, td, tr").classed(m,true);n.classed(m,true);return n.node()}function r(){if(!d)return;if(!w(s))return;e();var i=p.left;var l=f!=null?f:p.top;var v=t(b(s));h=v;if(c){var m=c.getElementsByTagName("svg")[0];var g=m?m.getBoundingClientRect():c.getBoundingClientRect();var y={left:0,top:0};if(m){var E=m.getBoundingClientRect();var S=c.getBoundingClientRect();var x=E.top;if(x<0){var T=c.getBoundingClientRect();x=Math.abs(x)>T.height?0:x}y.top=Math.abs(x-S.top);y.left=Math.abs(E.left-S.left)}i+=c.offsetLeft+y.left-2*c.scrollLeft;l+=c.offsetTop+y.top-2*c.scrollTop}if(a&&a>0){l=Math.floor(l/a)*a}n.tooltip.calcTooltipPosition([i,l],o,u,v);return r}var i=null,s=null,o="w",u=50,a=25,f=null,l=null,c=null,h=null,p={left:null,top:null},d=true,v="nvtooltip-"+Math.floor(Math.random()*1e5);var m="nv-pointer-events-none";var g=function(e,t){return e};var y=function(e){return e};var b=function(e){if(i!=null)return i;if(e==null)return"";var t=d3.select(document.createElement("table"));var n=t.selectAll("thead").data([e]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",true).html(y(e.value));var r=t.selectAll("tbody").data([e]).enter().append("tbody");var s=r.selectAll("tr").data(function(e){return e.series}).enter().append("tr").classed("highlight",function(e){return e.highlight});s.append("td").classed("legend-color-guide",true).append("div").style("background-color",function(e){return e.color});s.append("td").classed("key",true).html(function(e){return e.key});s.append("td").classed("value",true).html(function(e,t){return g(e.value,t)});s.selectAll("td").each(function(e){if(e.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",e.color]);var n=.6;d3.select(this).style("border-bottom-color",t(n)).style("border-top-color",t(n))}});var o=t.node().outerHTML;if(e.footer!==undefined)o+="<div class='footer'>"+e.footer+"</div>";return o};var w=function(e){if(e&&e.series&&e.series.length>0)return true;return false};r.nvPointerEventsClass=m;r.content=function(e){if(!arguments.length)return i;i=e;return r};r.tooltipElem=function(){return h};r.contentGenerator=function(e){if(!arguments.length)return b;if(typeof e==="function"){b=e}return r};r.data=function(e){if(!arguments.length)return s;s=e;return r};r.gravity=function(e){if(!arguments.length)return o;o=e;return r};r.distance=function(e){if(!arguments.length)return u;u=e;return r};r.snapDistance=function(e){if(!arguments.length)return a;a=e;return r};r.classes=function(e){if(!arguments.length)return l;l=e;return r};r.chartContainer=function(e){if(!arguments.length)return c;c=e;return r};r.position=function(e){if(!arguments.length)return p;p.left=typeof e.left!=="undefined"?e.left:p.left;p.top=typeof e.top!=="undefined"?e.top:p.top;return r};r.fixedTop=function(e){if(!arguments.length)return f;f=e;return r};r.enabled=function(e){if(!arguments.length)return d;d=e;return r};r.valueFormatter=function(e){if(!arguments.length)return g;if(typeof e==="function"){g=e}return r};r.headerFormatter=function(e){if(!arguments.length)return y;if(typeof e==="function"){y=e}return r};r.id=function(){return v};return r};n.tooltip.show=function(e,t,r,i,s,o){var u=document.createElement("div");u.className="nvtooltip "+(o?o:"xy-tooltip");var a=s;if(!s||s.tagName.match(/g|svg/i)){a=document.getElementsByTagName("body")[0]}u.style.left=0;u.style.top=0;u.style.opacity=0;u.innerHTML=t;a.appendChild(u);if(s){e[0]=e[0]-s.scrollLeft;e[1]=e[1]-s.scrollTop}n.tooltip.calcTooltipPosition(e,r,i,u)};n.tooltip.findFirstNonSVGParent=function(e){while(e.tagName.match(/^g|svg$/i)!==null){e=e.parentNode}return e};n.tooltip.findTotalOffsetTop=function(e,t){var n=t;do{if(!isNaN(e.offsetTop)){n+=e.offsetTop}}while(e=e.offsetParent);return n};n.tooltip.findTotalOffsetLeft=function(e,t){var n=t;do{if(!isNaN(e.offsetLeft)){n+=e.offsetLeft}}while(e=e.offsetParent);return n};n.tooltip.calcTooltipPosition=function(e,t,r,i){var s=parseInt(i.offsetHeight),o=parseInt(i.offsetWidth),u=n.utils.windowSize().width,a=n.utils.windowSize().height,f=window.pageYOffset,l=window.pageXOffset,c,h;a=window.innerWidth>=document.body.scrollWidth?a:a-16;u=window.innerHeight>=document.body.scrollHeight?u:u-16;t=t||"s";r=r||20;var p=function(e){return n.tooltip.findTotalOffsetTop(e,h)};var d=function(e){return n.tooltip.findTotalOffsetLeft(e,c)};switch(t){case"e":c=e[0]-o-r;h=e[1]-s/2;var v=d(i);var m=p(i);if(v<l)c=e[0]+r>l?e[0]+r:l-v+c;if(m<f)h=f-m+h;if(m+s>f+a)h=f+a-m+h-s;break;case"w":c=e[0]+r;h=e[1]-s/2;var v=d(i);var m=p(i);if(v+o>u)c=e[0]-o-r;if(m<f)h=f+5;if(m+s>f+a)h=f+a-m+h-s;break;case"n":c=e[0]-o/2-5;h=e[1]+r;var v=d(i);var m=p(i);if(v<l)c=l+5;if(v+o>u)c=c-o/2+5;if(m+s>f+a)h=f+a-m+h-s;break;case"s":c=e[0]-o/2;h=e[1]-s-r;var v=d(i);var m=p(i);if(v<l)c=l+5;if(v+o>u)c=c-o/2+5;if(f>m)h=f;break;case"none":c=e[0];h=e[1]-r;var v=d(i);var m=p(i);break}i.style.left=c+"px";i.style.top=h+"px";i.style.opacity=1;i.style.position="absolute";return i};n.tooltip.cleanup=function(){var e=document.getElementsByClassName("nvtooltip");var t=[];while(e.length){t.push(e[0]);e[0].style.transitionDelay="0 !important";e[0].style.opacity=0;e[0].className="nvtooltip-pending-removal"}setTimeout(function(){while(t.length){var e=t.pop();e.parentNode.removeChild(e)}},500)}})();n.utils.windowSize=function(){var e={width:640,height:480};if(document.body&&document.body.offsetWidth){e.width=document.body.offsetWidth;e.height=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){e.width=document.documentElement.offsetWidth;e.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){e.width=window.innerWidth;e.height=window.innerHeight}return e};n.utils.windowResize=function(e){if(e===undefined)return;var t=window.onresize;window.onresize=function(n){if(typeof t=="function")t(n);e(n)}};n.utils.getColor=function(e){if(!arguments.length)return n.utils.defaultColor();if(Object.prototype.toString.call(e)==="[object Array]")return function(t,n){return t.color||e[n%e.length]};else return e};n.utils.defaultColor=function(){var e=d3.scale.category20().range();return function(t,n){return t.color||e[n%e.length]}};n.utils.customTheme=function(e,t,n){t=t||function(e){return e.key};n=n||d3.scale.category20().range();var r=n.length;return function(i,s){var o=t(i);if(!r)r=n.length;if(typeof e[o]!=="undefined")return typeof e[o]==="function"?e[o]():e[o];else return n[--r]}};n.utils.pjax=function(e,t){function r(r){d3.html(r,function(r){var i=d3.select(t).node();i.parentNode.replaceChild(d3.select(r).select(t).node(),i);n.utils.pjax(e,t)})}d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href);r(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){if(d3.event.state)r(d3.event.state)})};n.utils.calcApproxTextWidth=function(e){if(e instanceof d3.selection){var t=parseInt(e.style("font-size").replace("px",""));var n=e.text().length;return n*t*.5}return 0};n.utils.NaNtoZero=function(e){if(typeof e!=="number"||isNaN(e)||e===null||e===Infinity)return 0;return e};n.utils.optionsFunc=function(e){if(e){d3.map(e).forEach(function(e,t){if(typeof this[e]==="function"){this[e](t)}}.bind(this))}return this};n.models.axis=function(){"use strict";function e(n){n.each(function(e){var n=d3.select(this);var s=n.selectAll("g.nv-wrap.nv-axis").data([e]);var g=s.enter().append("g").attr("class","nvd3 nv-wrap nv-axis");var y=g.append("g");var b=s.select("g");if(d!==null)t.ticks(d);else if(t.orient()=="top"||t.orient()=="bottom")t.ticks(Math.abs(o.range()[1]-o.range()[0])/100);b.transition().call(t);m=m||t.scale();var w=t.tickFormat();if(w==null){w=m.tickFormat()}var E=b.selectAll("text.nv-axislabel").data([u||null]);E.exit().remove();switch(t.orient()){case"top":E.enter().append("text").attr("class","nv-axislabel");var S=o.range().length==2?o.range()[1]:o.range()[o.range().length-1]+(o.range()[1]-o.range()[0]);E.attr("text-anchor","middle").attr("y",0).attr("x",S/2);if(a){var x=s.selectAll("g.nv-axisMaxMin").data(o.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text");x.exit().remove();x.attr("transform",function(e,t){return"translate("+o(e)+",0)"}).select("text").attr("dy","0em").attr("y",-t.tickPadding()).attr("text-anchor","middle").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate("+o.range()[t]+",0)"})}break;case"bottom":var T=36;var N=30;var C=b.selectAll("g").select("text");if(l%360){C.each(function(e,t){var n=this.getBBox().width;if(n>N)N=n});var k=Math.abs(Math.sin(l*Math.PI/180));var T=(k?k*N:N)+30;C.attr("transform",function(e,t,n){return"rotate("+l+" 0,0)"}).style("text-anchor",l%360>0?"start":"end")}E.enter().append("text").attr("class","nv-axislabel");var S=o.range().length==2?o.range()[1]:o.range()[o.range().length-1]+(o.range()[1]-o.range()[0]);E.attr("text-anchor","middle").attr("y",T).attr("x",S/2);if(a){var x=s.selectAll("g.nv-axisMaxMin").data([o.domain()[0],o.domain()[o.domain().length-1]]);x.enter().append("g").attr("class","nv-axisMaxMin").append("text");x.exit().remove();x.attr("transform",function(e,t){return"translate("+(o(e)+(p?o.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",t.tickPadding()).attr("transform",function(e,t,n){return"rotate("+l+" 0,0)"}).style("text-anchor",l?l%360>0?"start":"end":"middle").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate("+(o(e)+(p?o.rangeBand()/2:0))+",0)"})}if(h)C.attr("transform",function(e,t){return"translate(0,"+(t%2==0?"0":"12")+")"});break;case"right":E.enter().append("text").attr("class","nv-axislabel");E.style("text-anchor",c?"middle":"begin").attr("transform",c?"rotate(90)":"").attr("y",c?-Math.max(r.right,i)+12:-10).attr("x",c?o.range()[0]/2:t.tickPadding());if(a){var x=s.selectAll("g.nv-axisMaxMin").data(o.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);x.exit().remove();x.attr("transform",function(e,t){return"translate(0,"+o(e)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",t.tickPadding()).style("text-anchor","start").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate(0,"+o.range()[t]+")"}).select("text").style("opacity",1)}break;case"left":E.enter().append("text").attr("class","nv-axislabel");E.style("text-anchor",c?"middle":"end").attr("transform",c?"rotate(-90)":"").attr("y",c?-Math.max(r.left,i)+v:-10).attr("x",c?-o.range()[0]/2:-t.tickPadding());if(a){var x=s.selectAll("g.nv-axisMaxMin").data(o.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);x.exit().remove();x.attr("transform",function(e,t){return"translate(0,"+m(e)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-t.tickPadding()).attr("text-anchor","end").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate(0,"+o.range()[t]+")"}).select("text").style("opacity",1)}break}E.text(function(e){return e});if(a&&(t.orient()==="left"||t.orient()==="right")){b.selectAll("g").each(function(e,t){d3.select(this).select("text").attr("opacity",1);if(o(e)<o.range()[1]+10||o(e)>o.range()[0]-10){if(e>1e-10||e<-1e-10)d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});if(o.domain()[0]==o.domain()[1]&&o.domain()[0]==0)s.selectAll("g.nv-axisMaxMin").style("opacity",function(e,t){return!t?1:0})}if(a&&(t.orient()==="top"||t.orient()==="bottom")){var L=[];s.selectAll("g.nv-axisMaxMin").each(function(e,t){try{if(t)L.push(o(e)-this.getBBox().width-4);else L.push(o(e)+this.getBBox().width+4)}catch(n){if(t)L.push(o(e)-4);else L.push(o(e)+4)}});b.selectAll("g").each(function(e,t){if(o(e)<L[0]||o(e)>L[1]){if(e>1e-10||e<-1e-10)d3.select(this).remove();else d3.select(this).select("text").remove()}})}if(f)b.selectAll(".tick").filter(function(e){return!parseFloat(Math.round(e.__data__*1e5)/1e6)&&e.__data__!==undefined}).classed("zero",true);m=o.copy()});return e}var t=d3.svg.axis();var r={top:0,right:0,bottom:0,left:0},i=75,s=60,o=d3.scale.linear(),u=null,a=true,f=true,l=0,c=true,h=false,p=false,d=null,v=12;t.scale(o).orient("bottom").tickFormat(function(e){return e});var m;e.axis=t;d3.rebind(e,t,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(e,o,"domain","range","rangeBand","rangeBands");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return r;r.top=typeof t.top!="undefined"?t.top:r.top;r.right=typeof t.right!="undefined"?t.right:r.right;r.bottom=typeof t.bottom!="undefined"?t.bottom:r.bottom;r.left=typeof t.left!="undefined"?t.left:r.left;return e};e.width=function(t){if(!arguments.length)return i;i=t;return e};e.ticks=function(t){if(!arguments.length)return d;d=t;return e};e.height=function(t){if(!arguments.length)return s;s=t;return e};e.axisLabel=function(t){if(!arguments.length)return u;u=t;return e};e.showMaxMin=function(t){if(!arguments.length)return a;a=t;return e};e.highlightZero=function(t){if(!arguments.length)return f;f=t;return e};e.scale=function(n){if(!arguments.length)return o;o=n;t.scale(o);p=typeof o.rangeBands==="function";d3.rebind(e,o,"domain","range","rangeBand","rangeBands");return e};e.rotateYLabel=function(t){if(!arguments.length)return c;c=t;return e};e.rotateLabels=function(t){if(!arguments.length)return l;l=t;return e};e.staggerLabels=function(t){if(!arguments.length)return h;h=t;return e};e.axisLabelDistance=function(t){if(!arguments.length)return v;v=t;return e};return e};n.models.bullet=function(){"use strict";function e(n){n.each(function(e,n){var r=h-t.left-t.right,d=p-t.top-t.bottom,g=d3.select(this);var y=s.call(this,e,n).slice().sort(d3.descending),b=o.call(this,e,n).slice().sort(d3.descending),w=u.call(this,e,n).slice().sort(d3.descending),E=a.call(this,e,n).slice(),S=f.call(this,e,n).slice(),x=l.call(this,e,n).slice();var T=d3.scale.linear().domain(d3.extent(d3.merge([c,y]))).range(i?[r,0]:[0,r]);var N=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(T.range());this.__chart__=T;var C=d3.min(y),k=d3.max(y),L=y[1];var A=g.selectAll("g.nv-wrap.nv-bullet").data([e]);var O=A.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet");var M=O.append("g");var _=A.select("g");M.append("rect").attr("class","nv-range nv-rangeMax");M.append("rect").attr("class","nv-range nv-rangeAvg");M.append("rect").attr("class","nv-range nv-rangeMin");M.append("rect").attr("class","nv-measure");M.append("path").attr("class","nv-markerTriangle");A.attr("transform","translate("+t.left+","+t.top+")");var D=function(e){return Math.abs(N(e)-N(0))},P=function(e){return Math.abs(T(e)-T(0))};var H=function(e){return e<0?N(e):N(0)},B=function(e){return e<0?T(e):T(0)};_.select("rect.nv-rangeMax").attr("height",d).attr("width",P(k>0?k:C)).attr("x",B(k>0?k:C)).datum(k>0?k:C);_.select("rect.nv-rangeAvg").attr("height",d).attr("width",P(L)).attr("x",B(L)).datum(L);_.select("rect.nv-rangeMin").attr("height",d).attr("width",P(k)).attr("x",B(k)).attr("width",P(k>0?C:k)).attr("x",B(k>0?C:k)).datum(k>0?C:k);_.select("rect.nv-measure").style("fill",v).attr("height",d/3).attr("y",d/3).attr("width",w<0?T(0)-T(w[0]):T(w[0])-T(0)).attr("x",B(w)).on("mouseover",function(){m.elementMouseover({value:w[0],label:x[0]||"Current",pos:[T(w[0]),d/2]})}).on("mouseout",function(){m.elementMouseout({value:w[0],label:x[0]||"Current"})});var j=d/6;if(b[0]){_.selectAll("path.nv-markerTriangle").attr("transform",function(e){return"translate("+T(b[0])+","+d/2+")"}).attr("d","M0,"+j+"L"+j+","+ -j+" "+ -j+","+ -j+"Z").on("mouseover",function(){m.elementMouseover({value:b[0],label:S[0]||"Previous",pos:[T(b[0]),d/2]})}).on("mouseout",function(){m.elementMouseout({value:b[0],label:S[0]||"Previous"})})}else{_.selectAll("path.nv-markerTriangle").remove()}A.selectAll(".nv-range").on("mouseover",function(e,t){var n=E[t]||(!t?"Maximum":t==1?"Mean":"Minimum");m.elementMouseover({value:e,label:n,pos:[T(e),d/2]})}).on("mouseout",function(e,t){var n=E[t]||(!t?"Maximum":t==1?"Mean":"Minimum");m.elementMouseout({value:e,label:n})})});return e}var t={top:0,right:0,bottom:0,left:0},r="left",i=false,s=function(e){return e.ranges},o=function(e){return e.markers},u=function(e){return e.measures},a=function(e){return e.rangeLabels?e.rangeLabels:[]},f=function(e){return e.markerLabels?e.markerLabels:[]},l=function(e){return e.measureLabels?e.measureLabels:[]},c=[0],h=380,p=30,d=null,v=n.utils.getColor(["#1f77b4"]),m=d3.dispatch("elementMouseover","elementMouseout");e.dispatch=m;e.options=n.utils.optionsFunc.bind(e);e.orient=function(t){if(!arguments.length)return r;r=t;i=r=="right"||r=="bottom";return e};e.ranges=function(t){if(!arguments.length)return s;s=t;return e};e.markers=function(t){if(!arguments.length)return o;o=t;return e};e.measures=function(t){if(!arguments.length)return u;u=t;return e};e.forceX=function(t){if(!arguments.length)return c;c=t;return e};e.width=function(t){if(!arguments.length)return h;h=t;return e};e.height=function(t){if(!arguments.length)return p;p=t;return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.tickFormat=function(t){if(!arguments.length)return d;d=t;return e};e.color=function(t){if(!arguments.length)return v;v=n.utils.getColor(t);return e};return e};n.models.bulletChart=function(){"use strict";function e(n){n.each(function(r,p){var g=d3.select(this);var y=(f||parseInt(g.style("width"))||960)-s.left-s.right,b=l-s.top-s.bottom,w=this;e.update=function(){e(n)};e.container=this;if(!r||!o.call(this,r,p)){var E=g.selectAll(".nv-noData").data([d]);E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");E.attr("x",s.left+y/2).attr("y",18+s.top+b/2).text(function(e){return e});return e}else{g.selectAll(".nv-noData").remove()}var S=o.call(this,r,p).slice().sort(d3.descending),x=u.call(this,r,p).slice().sort(d3.descending),T=a.call(this,r,p).slice().sort(d3.descending);var N=g.selectAll("g.nv-wrap.nv-bulletChart").data([r]);var C=N.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart");var k=C.append("g");var L=N.select("g");k.append("g").attr("class","nv-bulletWrap");k.append("g").attr("class","nv-titles");N.attr("transform","translate("+s.left+","+s.top+")");var A=d3.scale.linear().domain([0,Math.max(S[0],x[0],T[0])]).range(i?[y,0]:[0,y]);var O=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(A.range());this.__chart__=A;var M=function(e){return Math.abs(O(e)-O(0))},_=function(e){return Math.abs(A(e)-A(0))};var D=k.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(l-s.top-s.bottom)/2+")");D.append("text").attr("class","nv-title").text(function(e){return e.title});D.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(e){return e.subtitle});t.width(y).height(b);var P=L.select(".nv-bulletWrap");d3.transition(P).call(t);var H=c||A.tickFormat(y/100);var B=L.selectAll("g.nv-tick").data(A.ticks(y/50),function(e){return this.textContent||H(e)});var j=B.enter().append("g").attr("class","nv-tick").attr("transform",function(e){return"translate("+O(e)+",0)"}).style("opacity",1e-6);j.append("line").attr("y1",b).attr("y2",b*7/6);j.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",b*7/6).text(H);var F=d3.transition(B).attr("transform",function(e){return"translate("+A(e)+",0)"}).style("opacity",1);F.select("line").attr("y1",b).attr("y2",b*7/6);F.select("text").attr("y",b*7/6);d3.transition(B.exit()).attr("transform",function(e){return"translate("+A(e)+",0)"}).style("opacity",1e-6).remove();v.on("tooltipShow",function(e){e.key=r.title;if(h)m(e,w.parentNode)})});d3.timer.flush();return e}var t=n.models.bullet();var r="left",i=false,s={top:5,right:40,bottom:20,left:120},o=function(e){return e.ranges},u=function(e){return e.markers},a=function(e){return e.measures},f=null,l=55,c=null,h=true,p=function(e,t,n,r,i){return"<h3>"+t+"</h3>"+"<p>"+n+"</p>"},d="No Data Available.",v=d3.dispatch("tooltipShow","tooltipHide");var m=function(t,r){var i=t.pos[0]+(r.offsetLeft||0)+s.left,o=t.pos[1]+(r.offsetTop||0)+s.top,u=p(t.key,t.label,t.value,t,e);n.tooltip.show([i,o],u,t.value<0?"e":"w",null,r)};t.dispatch.on("elementMouseover.tooltip",function(e){v.tooltipShow(e)});t.dispatch.on("elementMouseout.tooltip",function(e){v.tooltipHide(e)});v.on("tooltipHide",function(){if(h)n.tooltip.cleanup()});e.dispatch=v;e.bullet=t;d3.rebind(e,t,"color");e.options=n.utils.optionsFunc.bind(e);e.orient=function(t){if(!arguments.length)return r;r=t;i=r=="right"||r=="bottom";return e};e.ranges=function(t){if(!arguments.length)return o;o=t;return e};e.markers=function(t){if(!arguments.length)return u;u=t;return e};e.measures=function(t){if(!arguments.length)return a;a=t;return e};e.width=function(t){if(!arguments.length)return f;f=t;return e};e.height=function(t){if(!arguments.length)return l;l=t;return e};e.margin=function(t){if(!arguments.length)return s;s.top=typeof t.top!="undefined"?t.top:s.top;s.right=typeof t.right!="undefined"?t.right:s.right;s.bottom=typeof t.bottom!="undefined"?t.bottom:s.bottom;s.left=typeof t.left!="undefined"?t.left:s.left;return e};e.tickFormat=function(t){if(!arguments.length)return c;c=t;return e};e.tooltips=function(t){if(!arguments.length)return h;h=t;return e};e.tooltipContent=function(t){if(!arguments.length)return p;p=t;return e};e.noData=function(t){if(!arguments.length)return d;d=t;return e};return e};n.models.cumulativeLineChart=function(){"use strict";function e(E){E.each(function(E){function P(t,n){d3.select(e.container).style("cursor","ew-resize")}function H(e,t){_.x=d3.event.x;_.i=Math.round(M.invert(_.x));j()}function B(t,n){d3.select(e.container).style("cursor","auto");N.index=_.i;A.stateChange(N)}function j(){rt.data([_]);var t=e.transitionDuration();e.transitionDuration(0);e.update();e.transitionDuration(t)}var F=d3.select(this).classed("nv-chart-"+T,true),I=this;var q=(c||parseInt(F.style("width"))||960)-f.left-f.right,R=(h||parseInt(F.style("height"))||400)-f.top-f.bottom;e.update=function(){F.transition().duration(O).call(e)};e.container=this;N.disabled=E.map(function(e){return!!e.disabled});if(!C){var U;C={};for(U in N){if(N[U]instanceof Array)C[U]=N[U].slice(0);else C[U]=N[U]}}var z=d3.behavior.drag().on("dragstart",P).on("drag",H).on("dragend",B);if(!E||!E.length||!E.filter(function(e){return e.values.length}).length){var W=F.selectAll(".nv-noData").data([k]);W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");W.attr("x",f.left+q/2).attr("y",f.top+R/2).text(function(e){return e});return e}else{F.selectAll(".nv-noData").remove()}S=r.xScale();x=r.yScale();if(!w){var X=E.filter(function(e){return!e.disabled}).map(function(e,t){var n=d3.extent(e.values,r.y());if(n[0]<-.95)n[0]=-.95;return[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]});var V=[d3.min(X,function(e){return e[0]}),d3.max(X,function(e){return e[1]})];r.yDomain(V)}else{r.yDomain(null)}M.domain([0,E[0].values.length-1]).range([0,q]).clamp(true);var E=t(_.i,E);var $=b?"none":"all";var J=F.selectAll("g.nv-wrap.nv-cumulativeLine").data([E]);var K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g");var Q=J.select("g");K.append("g").attr("class","nv-interactive");K.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");K.append("g").attr("class","nv-y nv-axis");K.append("g").attr("class","nv-background");K.append("g").attr("class","nv-linesWrap").style("pointer-events",$);K.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");K.append("g").attr("class","nv-legendWrap");K.append("g").attr("class","nv-controlsWrap");if(p){o.width(q);Q.select(".nv-legendWrap").datum(E).call(o);if(f.top!=o.height()){f.top=o.height();R=(h||parseInt(F.style("height"))||400)-f.top-f.bottom}Q.select(".nv-legendWrap").attr("transform","translate(0,"+ -f.top+")")}if(y){var G=[{key:"Re-scale y-axis",disabled:!w}];u.width(140).color(["#444","#444","#444"]);Q.select(".nv-controlsWrap").datum(G).attr("transform","translate(0,"+ -f.top+")").call(u)}J.attr("transform","translate("+f.left+","+f.top+")");if(m){Q.select(".nv-y.nv-axis").attr("transform","translate("+q+",0)")}var Y=E.filter(function(e){return e.tempDisabled});J.select(".tempDisabled").remove();if(Y.length){J.append("text").attr("class","tempDisabled").attr("x",q/2).attr("y","-.71em").style("text-anchor","end").text(Y.map(function(e){return e.key}).join(", ")+" values cannot be calculated for this time period.")}if(b){a.width(q).height(R).margin({left:f.left,top:f.top}).svgContainer(F).xScale(S);J.select(".nv-interactive").call(a)}K.select(".nv-background").append("rect");Q.select(".nv-background rect").attr("width",q).attr("height",R);r.y(function(e){return e.display.y}).width(q).height(R).color(E.map(function(e,t){return e.color||l(e,t)}).filter(function(e,t){return!E[t].disabled&&!E[t].tempDisabled}));var Z=Q.select(".nv-linesWrap").datum(E.filter(function(e){return!e.disabled&&!e.tempDisabled}));Z.call(r);E.forEach(function(e,t){e.seriesIndex=t});var et=E.filter(function(e){return!e.disabled&&!!L(e)});var tt=Q.select(".nv-avgLinesWrap").selectAll("line").data(et,function(e){return e.key});var nt=function(e){var t=x(L(e));if(t<0)return 0;if(t>R)return R;return t};tt.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(e,t){return r.color()(e,e.seriesIndex)}).attr("x1",0).attr("x2",q).attr("y1",nt).attr("y2",nt);tt.style("stroke-opacity",function(e){var t=x(L(e));if(t<0||t>R)return 0;return 1}).attr("x1",0).attr("x2",q).attr("y1",nt).attr("y2",nt);tt.exit().remove();var rt=Z.selectAll(".nv-indexLine").data([_]);rt.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(z);rt.attr("transform",function(e){return"translate("+M(e.i)+",0)"}).attr("height",R);if(d){i.scale(S).ticks(Math.min(E[0].values.length,q/70)).tickSize(-R,0);Q.select(".nv-x.nv-axis").attr("transform","translate(0,"+x.range()[0]+")");d3.transition(Q.select(".nv-x.nv-axis")).call(i)}if(v){s.scale(x).ticks(R/36).tickSize(-q,0);d3.transition(Q.select(".nv-y.nv-axis")).call(s)}Q.select(".nv-background rect").on("click",function(){_.x=d3.mouse(this)[0];_.i=Math.round(M.invert(_.x));N.index=_.i;A.stateChange(N);j()});r.dispatch.on("elementClick",function(e){_.i=e.pointIndex;_.x=M(_.i);N.index=_.i;A.stateChange(N);j()});u.dispatch.on("legendClick",function(t,n){t.disabled=!t.disabled;w=!t.disabled;N.rescaleY=w;A.stateChange(N);e.update()});o.dispatch.on("stateChange",function(t){N.disabled=t.disabled;A.stateChange(N);e.update()});a.dispatch.on("elementMousemove",function(t){r.clearHighlights();var o,u,c,h=[];E.filter(function(e,t){e.seriesIndex=t;return!e.disabled}).forEach(function(i,s){u=n.interactiveBisect(i.values,t.pointXValue,e.x());r.highlightPoint(s,u,true);var a=i.values[u];if(typeof a==="undefined")return;if(typeof o==="undefined")o=a;if(typeof c==="undefined")c=e.xScale()(e.x()(a,u));h.push({key:i.key,value:e.y()(a,u),color:l(i,i.seriesIndex)})});if(h.length>2){var p=e.yScale().invert(t.mouseY);var d=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]);var v=.03*d;var m=n.nearestValueIndex(h.map(function(e){return e.value}),p,v);if(m!==null)h[m].highlight=true}var y=i.tickFormat()(e.x()(o,u),u);a.tooltip.position({left:c+f.left,top:t.mouseY+f.top}).chartContainer(I.parentNode).enabled(g).valueFormatter(function(e,t){return s.tickFormat()(e)}).data({value:y,series:h})();a.renderGuideLine(c)});a.dispatch.on("elementMouseout",function(e){A.tooltipHide();r.clearHighlights()});A.on("tooltipShow",function(e){if(g)D(e,I.parentNode)});A.on("changeState",function(t){if(typeof t.disabled!=="undefined"){E.forEach(function(e,n){e.disabled=t.disabled[n]});N.disabled=t.disabled}if(typeof t.index!=="undefined"){_.i=t.index;_.x=M(_.i);N.index=t.index;rt.data([_])}if(typeof t.rescaleY!=="undefined"){w=t.rescaleY}e.update()})});return e}function t(e,t){return t.map(function(t,n){if(!t.values){return t}var i=r.y()(t.values[e],e);if(i<-.95){t.tempDisabled=true;return t}t.tempDisabled=false;t.values=t.values.map(function(e,t){e.display={y:(r.y()(e,t)-i)/(1+i)};return e});return t})}var r=n.models.line(),i=n.models.axis(),s=n.models.axis(),o=n.models.legend(),u=n.models.legend(),a=n.interactiveGuideline();var f={top:30,right:30,bottom:50,left:60},l=n.utils.defaultColor(),c=null,h=null,p=true,d=true,v=true,m=false,g=true,y=true,b=false,w=true,E=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" at "+t+"</p>"},S,x,T=r.id(),N={index:0,rescaleY:w},C=null,k="No Data Available.",L=function(e){return e.average},A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),O=250;i.orient("bottom").tickPadding(7);s.orient(m?"right":"left");u.updateState(false);var M=d3.scale.linear(),_={i:0,x:0};var D=function(t,o){var u=t.pos[0]+(o.offsetLeft||0),a=t.pos[1]+(o.offsetTop||0),f=i.tickFormat()(r.x()(t.point,t.pointIndex)),l=s.tickFormat()(r.y()(t.point,t.pointIndex)),c=E(t.series.key,f,l,t,e);n.tooltip.show([u,a],c,null,null,o)};r.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+f.left,e.pos[1]+f.top];A.tooltipShow(e)});r.dispatch.on("elementMouseout.tooltip",function(e){A.tooltipHide(e)});A.on("tooltipHide",function(){if(g)n.tooltip.cleanup()});e.dispatch=A;e.lines=r;e.legend=o;e.xAxis=i;e.yAxis=s;e.interactiveLayer=a;d3.rebind(e,r,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return f;f.top=typeof t.top!="undefined"?t.top:f.top;f.right=typeof t.right!="undefined"?t.right:f.right;f.bottom=typeof t.bottom!="undefined"?t.bottom:f.bottom;f.left=typeof t.left!="undefined"?t.left:f.left;return e};e.width=function(t){if(!arguments.length)return c;c=t;return e};e.height=function(t){if(!arguments.length)return h;h=t;return e};e.color=function(t){if(!arguments.length)return l;l=n.utils.getColor(t);o.color(l);return e};e.rescaleY=function(t){if(!arguments.length)return w;w=t;return e};e.showControls=function(t){if(!arguments.length)return y;y=t;return e};e.useInteractiveGuideline=function(t){if(!arguments.length)return b;b=t;if(t===true){e.interactive(false);e.useVoronoi(false)}return e};e.showLegend=function(t){if(!arguments.length)return p;p=t;return e};e.showXAxis=function(t){if(!arguments.length)return d;d=t;return e};e.showYAxis=function(t){if(!arguments.length)return v;v=t;return e};e.rightAlignYAxis=function(t){if(!arguments.length)return m;m=t;s.orient(t?"right":"left");return e};e.tooltips=function(t){if(!arguments.length)return g;g=t;return e};e.tooltipContent=function(t){if(!arguments.length)return E;E=t;return e};e.state=function(t){if(!arguments.length)return N;N=t;return e};e.defaultState=function(t){if(!arguments.length)return C;C=t;return e};e.noData=function(t){if(!arguments.length)return k;k=t;return e};e.average=function(t){if(!arguments.length)return L;L=t;return e};e.transitionDuration=function(t){if(!arguments.length)return O;O=t;return e};return e};n.models.discreteBar=function(){"use strict";function e(n){n.each(function(e){var n=r-t.left-t.right,s=i-t.top-t.bottom,S=d3.select(this);e=e.map(function(e,t){e.values=e.values.map(function(e){e.series=t;return e});return e});var x=d&&v?[]:e.map(function(e){return e.values.map(function(e,t){return{x:a(e,t),y:f(e,t),y0:e.y0}})});o.domain(d||d3.merge(x).map(function(e){return e.x})).rangeBands(m||[0,n],.1);u.domain(v||d3.extent(d3.merge(x).map(function(e){return e.y}).concat(l)));if(h)u.range(g||[s-(u.domain()[0]<0?12:0),u.domain()[1]>0?12:0]);else u.range(g||[s,0]);w=w||o;E=E||u.copy().range([u(0),u(0)]);var T=S.selectAll("g.nv-wrap.nv-discretebar").data([e]);var N=T.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar");var C=N.append("g");var k=T.select("g");C.append("g").attr("class","nv-groups");T.attr("transform","translate("+t.left+","+t.top+")");var L=T.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);L.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();L.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover});L.transition().style("stroke-opacity",1).style("fill-opacity",.75);var A=L.selectAll("g.nv-bar").data(function(e){return e.values});A.exit().remove();var O=A.enter().append("g").attr("transform",function(e,t,n){return"translate("+(o(a(e,t))+o.rangeBand()*.05)+", "+u(0)+")"}).on("mouseover",function(t,n){d3.select(this).classed("hover",true);y.elementMouseover({value:f(t,n),point:t,series:e[t.series],pos:[o(a(t,n))+o.rangeBand()*(t.series+.5)/e.length,u(f(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",false);y.elementMouseout({value:f(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){y.elementClick({value:f(t,n),point:t,series:e[t.series],pos:[o(a(t,n))+o.rangeBand()*(t.series+.5)/e.length,u(f(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(t,n){y.elementDblClick({value:f(t,n),point:t,series:e[t.series],pos:[o(a(t,n))+o.rangeBand()*(t.series+.5)/e.length,u(f(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event});d3.event.stopPropagation()});O.append("rect").attr("height",0).attr("width",o.rangeBand()*.9/e.length);if(h){O.append("text").attr("text-anchor","middle");A.select("text").text(function(e,t){return p(f(e,t))}).transition().attr("x",o.rangeBand()*.9/2).attr("y",function(e,t){return f(e,t)<0?u(f(e,t))-u(0)+12:-4})}else{A.selectAll("text").remove()}A.attr("class",function(e,t){return f(e,t)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(e,t){return e.color||c(e,t)}).style("stroke",function(e,t){return e.color||c(e,t)}).select("rect").attr("class",b).transition().attr("width",o.rangeBand()*.9/e.length);A.transition().attr("transform",function(e,t){var n=o(a(e,t))+o.rangeBand()*.05,r=f(e,t)<0?u(0):u(0)-u(f(e,t))<1?u(0)-1:u(f(e,t));return"translate("+n+", "+r+")"}).select("rect").attr("height",function(e,t){return Math.max(Math.abs(u(f(e,t))-u(v&&v[0]||0))||1)});w=o.copy();E=u.copy()});return e}var t={top:0,right:0,bottom:0,left:0},r=960,i=500,s=Math.floor(Math.random()*1e4),o=d3.scale.ordinal(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=[0],c=n.utils.defaultColor(),h=false,p=d3.format(",.2f"),d,v,m,g,y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),b="discreteBar";var w,E;e.dispatch=y;e.options=n.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return a;a=t;return e};e.y=function(t){if(!arguments.length)return f;f=t;return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.xScale=function(t){if(!arguments.length)return o;o=t;return e};e.yScale=function(t){if(!arguments.length)return u;u=t;return e};e.xDomain=function(t){if(!arguments.length)return d;d=t;return e};e.yDomain=function(t){if(!arguments.length)return v;v=t;return e};e.xRange=function(t){if(!arguments.length)return m;m=t;return e};e.yRange=function(t){if(!arguments.length)return g;g=t;return e};e.forceY=function(t){if(!arguments.length)return l;l=t;return e};e.color=function(t){if(!arguments.length)return c;c=n.utils.getColor(t);return e};e.id=function(t){if(!arguments.length)return s;s=t;return e};e.showValues=function(t){if(!arguments.length)return h;h=t;return e};e.valueFormat=function(t){if(!arguments.length)return p;p=t;return e};e.rectClass=function(t){if(!arguments.length)return b;b=t;return e};return e};n.models.discreteBarChart=function(){"use strict";function e(n){n.each(function(n){var a=d3.select(this),d=this;var E=(o||parseInt(a.style("width"))||960)-s.left-s.right,S=(u||parseInt(a.style("height"))||400)-s.top-s.bottom;e.update=function(){y.beforeUpdate();a.transition().duration(b).call(e)};e.container=this;if(!n||!n.length||!n.filter(function(e){return e.values.length}).length){var x=a.selectAll(".nv-noData").data([g]);x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");x.attr("x",s.left+E/2).attr("y",s.top+S/2).text(function(e){return e});return e}else{a.selectAll(".nv-noData").remove()}v=t.xScale();m=t.yScale().clamp(true);var T=a.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([n]);var N=T.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g");var C=N.append("defs");var k=T.select("g");N.append("g").attr("class","nv-x nv-axis");N.append("g").attr("class","nv-y nv-axis");N.append("g").attr("class","nv-barsWrap");k.attr("transform","translate("+s.left+","+s.top+")");if(c){k.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)")}t.width(E).height(S);var L=k.select(".nv-barsWrap").datum(n.filter(function(e){return!e.disabled}));L.transition().call(t);C.append("clipPath").attr("id","nv-x-label-clip-"+t.id()).append("rect");k.select("#nv-x-label-clip-"+t.id()+" rect").attr("width",v.rangeBand()*(h?2:1)).attr("height",16).attr("x",-v.rangeBand()/(h?1:2));if(f){r.scale(v).ticks(E/100).tickSize(-S,0);k.select(".nv-x.nv-axis").attr("transform","translate(0,"+(m.range()[0]+(t.showValues()&&m.domain()[0]<0?16:0))+")");k.select(".nv-x.nv-axis").transition().call(r);var A=k.select(".nv-x.nv-axis").selectAll("g");if(h){A.selectAll("text").attr("transform",function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}}if(l){i.scale(m).ticks(S/36).tickSize(-E,0);k.select(".nv-y.nv-axis").transition().call(i)}y.on("tooltipShow",function(e){if(p)w(e,d.parentNode)})});return e}var t=n.models.discreteBar(),r=n.models.axis(),i=n.models.axis();var s={top:15,right:10,bottom:50,left:60},o=null,u=null,a=n.utils.getColor(),f=true,l=true,c=false,h=false,p=true,d=function(e,t,n,r,i){return"<h3>"+t+"</h3>"+"<p>"+n+"</p>"},v,m,g="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),b=250;r.orient("bottom").highlightZero(false).showMaxMin(false).tickFormat(function(e){return e});i.orient(c?"right":"left").tickFormat(d3.format(",.1f"));var w=function(s,o){var u=s.pos[0]+(o.offsetLeft||0),a=s.pos[1]+(o.offsetTop||0),f=r.tickFormat()(t.x()(s.point,s.pointIndex)),l=i.tickFormat()(t.y()(s.point,s.pointIndex)),c=d(s.series.key,f,l,s,e);n.tooltip.show([u,a],c,s.value<0?"n":"s",null,o)};t.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+s.left,e.pos[1]+s.top];y.tooltipShow(e)});t.dispatch.on("elementMouseout.tooltip",function(e){y.tooltipHide(e)});y.on("tooltipHide",function(){if(p)n.tooltip.cleanup()});e.dispatch=y;e.discretebar=t;e.xAxis=r;e.yAxis=i;d3.rebind(e,t,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return s;s.top=typeof t.top!="undefined"?t.top:s.top;s.right=typeof t.right!="undefined"?t.right:s.right;s.bottom=typeof t.bottom!="undefined"?t.bottom:s.bottom;s.left=typeof t.left!="undefined"?t.left:s.left;return e};e.width=function(t){if(!arguments.length)return o;o=t;return e};e.height=function(t){if(!arguments.length)return u;u=t;return e};e.color=function(r){if(!arguments.length)return a;a=n.utils.getColor(r);t.color(a);return e};e.showXAxis=function(t){if(!arguments.length)return f;f=t;return e};e.showYAxis=function(t){if(!arguments.length)return l;l=t;return e};e.rightAlignYAxis=function(t){if(!arguments.length)return c;c=t;i.orient(t?"right":"left");return e};e.staggerLabels=function(t){if(!arguments.length)return h;h=t;return e};e.tooltips=function(t){if(!arguments.length)return p;p=t;return e};e.tooltipContent=function(t){if(!arguments.length)return d;d=t;return e};e.noData=function(t){if(!arguments.length)return g;g=t;return e};e.transitionDuration=function(t){if(!arguments.length)return b;b=t;return e};return e};n.models.distribution=function(){"use strict";function e(n){n.each(function(e){var n=r-(s==="x"?t.left+t.right:t.top+t.bottom),f=s=="x"?"y":"x",c=d3.select(this);l=l||a;var h=c.selectAll("g.nv-distribution").data([e]);var p=h.enter().append("g").attr("class","nvd3 nv-distribution");var d=p.append("g");var v=h.select("g");h.attr("transform","translate("+t.left+","+t.top+")");var m=v.selectAll("g.nv-dist").data(function(e){return e},function(e){return e.key});m.enter().append("g");m.attr("class",function(e,t){return"nv-dist nv-series-"+t}).style("stroke",function(e,t){return u(e,t)});var g=m.selectAll("line.nv-dist"+s).data(function(e){return e.values});g.enter().append("line").attr(s+"1",function(e,t){return l(o(e,t))}).attr(s+"2",function(e,t){return l(o(e,t))});m.exit().selectAll("line.nv-dist"+s).transition().attr(s+"1",function(e,t){return a(o(e,t))}).attr(s+"2",function(e,t){return a(o(e,t))}).style("stroke-opacity",0).remove();g.attr("class",function(e,t){return"nv-dist"+s+" nv-dist"+s+"-"+t}).attr(f+"1",0).attr(f+"2",i);g.transition().attr(s+"1",function(e,t){return a(o(e,t))}).attr(s+"2",function(e,t){return a(o(e,t))});l=a.copy()});return e}var t={top:0,right:0,bottom:0,left:0},r=400,i=8,s="x",o=function(e){return e[s]},u=n.utils.defaultColor(),a=d3.scale.linear(),f;var l;e.options=n.utils.optionsFunc.bind(e);e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.axis=function(t){if(!arguments.length)return s;s=t;return e};e.size=function(t){if(!arguments.length)return i;i=t;return e};e.getData=function(t){if(!arguments.length)return o;o=d3.functor(t);return e};e.scale=function(t){if(!arguments.length)return a;a=t;return e};e.color=function(t){if(!arguments.length)return u;u=n.utils.getColor(t);return e};return e};n.models.historicalBar=function(){"use strict";function e(E){E.each(function(e){var E=r-t.left-t.right,S=i-t.top-t.bottom,x=d3.select(this);o.domain(v||d3.extent(e[0].values.map(a).concat(l)));if(h)o.range(g||[E*.5/e[0].values.length,E*(e[0].values.length-.5)/e[0].values.length]);else o.range(g||[0,E]);u.domain(m||d3.extent(e[0].values.map(f).concat(c))).range(y||[S,0]);if(o.domain()[0]===o.domain()[1])o.domain()[0]?o.domain([o.domain()[0]-o.domain()[0]*.01,o.domain()[1]+o.domain()[1]*.01]):o.domain([-1,1]);if(u.domain()[0]===u.domain()[1])u.domain()[0]?u.domain([u.domain()[0]+u.domain()[0]*.01,u.domain()[1]-u.domain()[1]*.01]):u.domain([-1,1]);var T=x.selectAll("g.nv-wrap.nv-historicalBar-"+s).data([e[0].values]);var N=T.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+s);var C=N.append("defs");var k=N.append("g");var L=T.select("g");k.append("g").attr("class","nv-bars");T.attr("transform","translate("+t.left+","+t.top+")");x.on("click",function(e,t){b.chartClick({data:e,index:t,pos:d3.event,id:s})});C.append("clipPath").attr("id","nv-chart-clip-path-"+s).append("rect");T.select("#nv-chart-clip-path-"+s+" rect").attr("width",E).attr("height",S);L.attr("clip-path",p?"url(#nv-chart-clip-path-"+s+")":"");var A=T.select(".nv-bars").selectAll(".nv-bar").data(function(e){return e},function(e,t){return a(e,t)});A.exit().remove();var O=A.enter().append("rect").attr("x",0).attr("y",function(e,t){return n.utils.NaNtoZero(u(Math.max(0,f(e,t))))}).attr("height",function(e,t){return n.utils.NaNtoZero(Math.abs(u(f(e,t))-u(0)))}).attr("transform",function(t,n){return"translate("+(o(a(t,n))-E/e[0].values.length*.45)+",0)"}).on("mouseover",function(t,n){if(!w)return;d3.select(this).classed("hover",true);b.elementMouseover({point:t,series:e[0],pos:[o(a(t,n)),u(f(t,n))],pointIndex:n,seriesIndex:0,e:d3.event})}).on("mouseout",function(t,n){if(!w)return;d3.select(this).classed("hover",false);b.elementMouseout({point:t,series:e[0],pointIndex:n,seriesIndex:0,e:d3.event})}).on("click",function(e,t){if(!w)return;b.elementClick({value:f(e,t),data:e,index:t,pos:[o(a(e,t)),u(f(e,t))],e:d3.event,id:s});d3.event.stopPropagation()}).on("dblclick",function(e,t){if(!w)return;b.elementDblClick({value:f(e,t),data:e,index:t,pos:[o(a(e,t)),u(f(e,t))],e:d3.event,id:s});d3.event.stopPropagation()});A.attr("fill",function(e,t){return d(e,t)}).attr("class",function(e,t,n){return(f(e,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+t}).transition().attr("transform",function(t,n){return"translate("+(o(a(t,n))-E/e[0].values.length*.45)+",0)"}).attr("width",E/e[0].values.length*.9);A.transition().attr("y",function(e,t){var r=f(e,t)<0?u(0):u(0)-u(f(e,t))<1?u(0)-1:u(f(e,t));return n.utils.NaNtoZero(r)}).attr("height",function(e,t){return n.utils.NaNtoZero(Math.max(Math.abs(u(f(e,t))-u(0)),1))})});return e}var t={top:0,right:0,bottom:0,left:0},r=960,i=500,s=Math.floor(Math.random()*1e4),o=d3.scale.linear(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=[],c=[0],h=false,p=true,d=n.utils.defaultColor(),v,m,g,y,b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),w=true;e.highlightPoint=function(e,t){d3.select(".nv-historicalBar-"+s).select(".nv-bars .nv-bar-0-"+e).classed("hover",t)};e.clearHighlights=function(){d3.select(".nv-historicalBar-"+s).select(".nv-bars .nv-bar.hover").classed("hover",false)};e.dispatch=b;e.options=n.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return a;a=t;return e};e.y=function(t){if(!arguments.length)return f;f=t;return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.xScale=function(t){if(!arguments.length)return o;o=t;return e};e.yScale=function(t){if(!arguments.length)return u;u=t;return e};e.xDomain=function(t){if(!arguments.length)return v;v=t;return e};e.yDomain=function(t){if(!arguments.length)return m;m=t;return e};e.xRange=function(t){if(!arguments.length)return g;g=t;return e};e.yRange=function(t){if(!arguments.length)return y;y=t;return e};e.forceX=function(t){if(!arguments.length)return l;l=t;return e};e.forceY=function(t){if(!arguments.length)return c;c=t;return e};e.padData=function(t){if(!arguments.length)return h;h=t;return e};e.clipEdge=function(t){if(!arguments.length)return p;p=t;return e};e.color=function(t){if(!arguments.length)return d;d=n.utils.getColor(t);return e};e.id=function(t){if(!arguments.length)return s;s=t;return e};e.interactive=function(t){if(!arguments.length)return w;w=false;return e};return e};n.models.historicalBarChart=function(){"use strict";function e(n){n.each(function(v){var T=d3.select(this),N=this;var C=(a||parseInt(T.style("width"))||960)-o.left-o.right,k=(f||parseInt(T.style("height"))||400)-o.top-o.bottom;e.update=function(){T.transition().duration(S).call(e)};e.container=this;y.disabled=v.map(function(e){return!!e.disabled});if(!b){var L;b={};for(L in y){if(y[L]instanceof Array)b[L]=y[L].slice(0);else b[L]=y[L]}}if(!v||!v.length||!v.filter(function(e){return e.values.length}).length){var A=T.selectAll(".nv-noData").data([w]);A.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");A.attr("x",o.left+C/2).attr("y",o.top+k/2).text(function(e){return e});return e}else{T.selectAll(".nv-noData").remove()}m=t.xScale();g=t.yScale();var O=T.selectAll("g.nv-wrap.nv-historicalBarChart").data([v]);var M=O.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");var _=O.select("g");M.append("g").attr("class","nv-x nv-axis");M.append("g").attr("class","nv-y nv-axis");M.append("g").attr("class","nv-barsWrap");M.append("g").attr("class","nv-legendWrap");if(l){s.width(C);_.select(".nv-legendWrap").datum(v).call(s);if(o.top!=s.height()){o.top=s.height();k=(f||parseInt(T.style("height"))||400)-o.top-o.bottom}O.select(".nv-legendWrap").attr("transform","translate(0,"+ -o.top+")")}O.attr("transform","translate("+o.left+","+o.top+")");if(p){_.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)")}t.width(C).height(k).color(v.map(function(e,t){return e.color||u(e,t)}).filter(function(e,t){return!v[t].disabled}));var D=_.select(".nv-barsWrap").datum(v.filter(function(e){return!e.disabled}));D.transition().call(t);if(c){r.scale(m).tickSize(-k,0);_.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")");_.select(".nv-x.nv-axis").transition().call(r)}if(h){i.scale(g).ticks(k/36).tickSize(-C,0);_.select(".nv-y.nv-axis").transition().call(i)}s.dispatch.on("legendClick",function(t,r){t.disabled=!t.disabled;if(!v.filter(function(e){return!e.disabled}).length){v.map(function(e){e.disabled=false;O.selectAll(".nv-series").classed("disabled",false);return e})}y.disabled=v.map(function(e){return!!e.disabled});E.stateChange(y);n.transition().call(e)});s.dispatch.on("legendDblclick",function(t){v.forEach(function(e){e.disabled=true});t.disabled=false;y.disabled=v.map(function(e){return!!e.disabled});E.stateChange(y);e.update()});E.on("tooltipShow",function(e){if(d)x(e,N.parentNode)});E.on("changeState",function(t){if(typeof t.disabled!=="undefined"){v.forEach(function(e,n){e.disabled=t.disabled[n]});y.disabled=t.disabled}n.call(e)})});return e}var t=n.models.historicalBar(),r=n.models.axis(),i=n.models.axis(),s=n.models.legend();var o={top:30,right:90,bottom:50,left:90},u=n.utils.defaultColor(),a=null,f=null,l=false,c=true,h=true,p=false,d=true,v=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" at "+t+"</p>"},m,g,y={},b=null,w="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),S=250;r.orient("bottom").tickPadding(7);i.orient(p?"right":"left");var x=function(s,o){if(o){var u=d3.select(o).select("svg");var a=u.node()?u.attr("viewBox"):null;if(a){a=a.split(" ");var f=parseInt(u.style("width"))/a[2];s.pos[0]=s.pos[0]*f;s.pos[1]=s.pos[1]*f}}var l=s.pos[0]+(o.offsetLeft||0),c=s.pos[1]+(o.offsetTop||0),h=r.tickFormat()(t.x()(s.point,s.pointIndex)),p=i.tickFormat()(t.y()(s.point,s.pointIndex)),d=v(s.series.key,h,p,s,e);n.tooltip.show([l,c],d,null,null,o)};t.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+o.left,e.pos[1]+o.top];E.tooltipShow(e)});t.dispatch.on("elementMouseout.tooltip",function(e){E.tooltipHide(e)});E.on("tooltipHide",function(){if(d)n.tooltip.cleanup()});e.dispatch=E;e.bars=t;e.legend=s;e.xAxis=r;e.yAxis=i;d3.rebind(e,t,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return o;o.top=typeof t.top!="undefined"?t.top:o.top;o.right=typeof t.right!="undefined"?t.right:o.right;o.bottom=typeof t.bottom!="undefined"?t.bottom:o.bottom;o.left=typeof t.left!="undefined"?t.left:o.left;return e};e.width=function(t){if(!arguments.length)return a;a=t;return e};e.height=function(t){if(!arguments.length)return f;f=t;return e};e.color=function(t){if(!arguments.length)return u;u=n.utils.getColor(t);s.color(u);return e};e.showLegend=function(t){if(!arguments.length)return l;l=t;return e};e.showXAxis=function(t){if(!arguments.length)return c;c=t;return e};e.showYAxis=function(t){if(!arguments.length)return h;h=t;return e};e.rightAlignYAxis=function(t){if(!arguments.length)return p;p=t;i.orient(t?"right":"left");return e};e.tooltips=function(t){if(!arguments.length)return d;d=t;return e};e.tooltipContent=function(t){if(!arguments.length)return v;v=t;return e};e.state=function(t){if(!arguments.length)return y;y=t;return e};e.defaultState=function(t){if(!arguments.length)return b;b=t;return e};e.noData=function(t){if(!arguments.length)return w;w=t;return e};e.transitionDuration=function(t){if(!arguments.length)return S;S=t;return e};return e};n.models.indentedTree=function(){"use strict";function e(t){t.each(function(t){function n(t,r,i){d3.event.stopPropagation();if(d3.event.shiftKey&&!i){d3.event.shiftKey=false;t.values&&t.values.forEach(function(e){if(e.values||e._values){n(e,0,true)}});return true}if(!o(t)){return true}if(t.values){t._values=t.values;t.values=null}else{t.values=t._values;t._values=null}e.update()}function r(e){return e._values&&e._values.length?p:e.values&&e.values.length?d:""}function s(e){return e._values&&e._values.length}function o(e){var t=e.values||e._values;return t&&t.length}var y=1,b=d3.select(this);var w=d3.layout.tree().children(function(e){return e.values}).size([i,l]);e.update=function(){b.transition().duration(600).call(e)};if(!t[0])t[0]={key:f};var E=w.nodes(t[0]);var S=d3.select(this).selectAll("div").data([[E]]);var x=S.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree");var T=x.append("table");var N=S.select("table").attr("width","100%").attr("class",h);if(u){var C=T.append("thead");var k=C.append("tr");c.forEach(function(e){k.append("th").attr("width",e.width?e.width:"10%").style("text-align",e.type=="numeric"?"right":"left").append("span").text(e.label)})}var L=N.selectAll("tbody").data(function(e){return e});L.enter().append("tbody");y=d3.max(E,function(e){return e.depth});w.size([i,y*l]);var A=L.selectAll("tr").data(function(e){return e.filter(function(e){return a&&!e.children?a(e):true})},function(e,t){return e.id||e.id||++g});A.exit().remove();A.select("img.nv-treeicon").attr("src",r).classed("folded",s);var O=A.enter().append("tr");c.forEach(function(e,t){var i=O.append("td").style("padding-left",function(e){return(t?0:e.depth*l+12+(r(e)?0:16))+"px"},"important").style("text-align",e.type=="numeric"?"right":"left");if(t==0){i.append("img").classed("nv-treeicon",true).classed("nv-folded",s).attr("src",r).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(e){return r(e)?"inline-block":"none"}).on("click",n)}i.each(function(n){if(!t&&m(n))d3.select(this).append("a").attr("href",m).attr("class",d3.functor(e.classes)).append("span");else d3.select(this).append("span");d3.select(this).select("span").attr("class",d3.functor(e.classes)).text(function(t){return e.format?e.format(t):t[e.key]||"-"})});if(e.showCount){i.append("span").attr("class","nv-childrenCount");A.selectAll("span.nv-childrenCount").text(function(e){return e.values&&e.values.length||e._values&&e._values.length?"("+(e.values&&e.values.filter(function(e){return a?a(e):true}).length||e._values&&e._values.filter(function(e){return a?a(e):true}).length||0)+")":""})}});A.order().on("click",function(e){v.elementClick({row:this,data:e,pos:[e.x,e.y]})}).on("dblclick",function(e){v.elementDblclick({row:this,data:e,pos:[e.x,e.y]})}).on("mouseover",function(e){v.elementMouseover({row:this,data:e,pos:[e.x,e.y]})}).on("mouseout",function(e){v.elementMouseout({row:this,data:e,pos:[e.x,e.y]})})});return e}var t={top:0,right:0,bottom:0,left:0},r=960,i=500,s=n.utils.defaultColor(),o=Math.floor(Math.random()*1e4),u=true,a=false,f="No Data Available.",l=20,c=[{key:"key",label:"Name",type:"text"}],h=null,p="images/grey-plus.png",d="images/grey-minus.png",v=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),m=function(e){return e.url};var g=0;e.options=n.utils.optionsFunc.bind(e);e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.color=function(t){if(!arguments.length)return s;s=n.utils.getColor(t);scatter.color(s);return e};e.id=function(t){if(!arguments.length)return o;o=t;return e};e.header=function(t){if(!arguments.length)return u;u=t;return e};e.noData=function(t){if(!arguments.length)return f;f=t;return e};e.filterZero=function(t){if(!arguments.length)return a;a=t;return e};e.columns=function(t){if(!arguments.length)return c;c=t;return e};e.tableClass=function(t){if(!arguments.length)return h;h=t;return e};e.iconOpen=function(t){if(!arguments.length)return p;p=t;return e};e.iconClose=function(t){if(!arguments.length)return d;d=t;return e};e.getUrl=function(t){if(!arguments.length)return m;m=t;return e};return e};n.models.legend=function(){"use strict";function e(h){h.each(function(e){var h=r-t.left-t.right,p=d3.select(this);var d=p.selectAll("g.nv-legend").data([e]);var v=d.enter().append("g").attr("class","nvd3 nv-legend").append("g");var m=d.select("g");d.attr("transform","translate("+t.left+","+t.top+")");var g=m.selectAll(".nv-series").data(function(e){return e});var y=g.enter().append("g").attr("class","nv-series").on("mouseover",function(e,t){c.legendMouseover(e,t)}).on("mouseout",function(e,t){c.legendMouseout(e,t)}).on("click",function(t,n){c.legendClick(t,n);if(f){if(l){e.forEach(function(e){e.disabled=true});t.disabled=false}else{t.disabled=!t.disabled;if(e.every(function(e){return e.disabled})){e.forEach(function(e){e.disabled=false})}}c.stateChange({disabled:e.map(function(e){return!!e.disabled})})}}).on("dblclick",function(t,n){c.legendDblclick(t,n);if(f){e.forEach(function(e){e.disabled=true});t.disabled=false;c.stateChange({disabled:e.map(function(e){return!!e.disabled})})}});y.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);y.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");g.classed("disabled",function(e){return e.disabled});g.exit().remove();g.select("circle").style("fill",function(e,t){return e.color||o(e,t)}).style("stroke",function(e,t){return e.color||o(e,t)});g.select("text").text(s);if(u){var b=[];g.each(function(e,t){var r=d3.select(this).select("text");var i;try{i=r.node().getComputedTextLength()}catch(s){i=n.utils.calcApproxTextWidth(r)}b.push(i+28)});var w=0;var E=0;var S=[];while(E<h&&w<b.length){S[w]=b[w];E+=b[w++]}if(w===0)w=1;while(E>h&&w>1){S=[];w--;for(var x=0;x<b.length;x++){if(b[x]>(S[x%w]||0))S[x%w]=b[x]}E=S.reduce(function(e,t,n,r){return e+t})}var T=[];for(var N=0,C=0;N<w;N++){T[N]=C;C+=S[N]}g.attr("transform",function(e,t){return"translate("+T[t%w]+","+(5+Math.floor(t/w)*20)+")"});if(a){m.attr("transform","translate("+(r-t.right-E)+","+t.top+")")}else{m.attr("transform","translate(0"+","+t.top+")")}i=t.top+t.bottom+Math.ceil(b.length/w)*20}else{var k=5,L=5,A=0,O;g.attr("transform",function(e,n){var i=d3.select(this).select("text").node().getComputedTextLength()+28;O=L;if(r<t.left+t.right+O+i){L=O=5;k+=20}L+=i;if(L>A)A=L;return"translate("+O+","+k+")"});m.attr("transform","translate("+(r-t.right-A)+","+t.top+")");i=t.top+t.bottom+k+15}});return e}var t={top:5,right:0,bottom:5,left:0},r=400,i=20,s=function(e){return e.key},o=n.utils.defaultColor(),u=true,a=true,f=true,l=false,c=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");e.dispatch=c;e.options=n.utils.optionsFunc.bind(e);e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.key=function(t){if(!arguments.length)return s;s=t;return e};e.color=function(t){if(!arguments.length)return o;o=n.utils.getColor(t);return e};e.align=function(t){if(!arguments.length)return u;u=t;return e};e.rightAlign=function(t){if(!arguments.length)return a;a=t;return e};e.updateState=function(t){if(!arguments.length)return f;f=t;return e};e.radioButtonMode=function(t){if(!arguments.length)return l;l=t;return e};return e};n.models.line=function(){"use strict";function e(g){g.each(function(e){var g=i-r.left-r.right,y=s-r.top-r.bottom,b=d3.select(this);h=t.xScale();p=t.yScale();v=v||h;m=m||p;var w=b.selectAll("g.nv-wrap.nv-line").data([e]);var E=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line");var S=E.append("defs");var x=E.append("g");var T=w.select("g");x.append("g").attr("class","nv-groups");x.append("g").attr("class","nv-scatterWrap");w.attr("transform","translate("+r.left+","+r.top+")");t.width(g).height(y);var N=w.select(".nv-scatterWrap");N.transition().call(t);S.append("clipPath").attr("id","nv-edge-clip-"+t.id()).append("rect");w.select("#nv-edge-clip-"+t.id()+" rect").attr("width",g).attr("height",y);T.attr("clip-path",c?"url(#nv-edge-clip-"+t.id()+")":"");N.attr("clip-path",c?"url(#nv-edge-clip-"+t.id()+")":"");var C=w.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});C.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);C.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();C.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return o(e,t)}).style("stroke",function(e,t){return o(e,t)});C.transition().style("stroke-opacity",1).style("fill-opacity",.5);var k=C.selectAll("path.nv-area").data(function(e){return l(e)?[e]:[]});k.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(d).defined(f).x(function(e,t){return n.utils.NaNtoZero(v(u(e,t)))}).y0(function(e,t){return n.utils.NaNtoZero(m(a(e,t)))}).y1(function(e,t){return m(p.domain()[0]<=0?p.domain()[1]>=0?0:p.domain()[1]:p.domain()[0])}).apply(this,[e.values])});C.exit().selectAll("path.nv-area").remove();k.transition().attr("d",function(e){return d3.svg.area().interpolate(d).defined(f).x(function(e,t){return n.utils.NaNtoZero(h(u(e,t)))}).y0(function(e,t){return n.utils.NaNtoZero(p(a(e,t)))}).y1(function(e,t){return p(p.domain()[0]<=0?p.domain()[1]>=0?0:p.domain()[1]:p.domain()[0])}).apply(this,[e.values])});var L=C.selectAll("path.nv-line").data(function(e){return[e.values]});L.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(d).defined(f).x(function(e,t){return n.utils.NaNtoZero(v(u(e,t)))}).y(function(e,t){return n.utils.NaNtoZero(m(a(e,t)))}));C.exit().selectAll("path.nv-line").transition().attr("d",d3.svg.line().interpolate(d).defined(f).x(function(e,t){return n.utils.NaNtoZero(h(u(e,t)))}).y(function(e,t){return n.utils.NaNtoZero(p(a(e,t)))}));L.transition().attr("d",d3.svg.line().interpolate(d).defined(f).x(function(e,t){return n.utils.NaNtoZero(h(u(e,t)))}).y(function(e,t){return n.utils.NaNtoZero(p(a(e,t)))}));v=h.copy();m=p.copy()});return e}var t=n.models.scatter();var r={top:0,right:0,bottom:0,left:0},i=960,s=500,o=n.utils.defaultColor(),u=function(e){return e.x},a=function(e){return e.y},f=function(e,t){return!isNaN(a(e,t))&&a(e,t)!==null},l=function(e){return e.area},c=false,h,p,d="linear";t.size(16).sizeDomain([16,256]);var v,m;e.dispatch=t.dispatch;e.scatter=t;d3.rebind(e,t,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return r;r.top=typeof t.top!="undefined"?t.top:r.top;r.right=typeof t.right!="undefined"?t.right:r.right;r.bottom=typeof t.bottom!="undefined"?t.bottom:r.bottom;r.left=typeof t.left!="undefined"?t.left:r.left;return e};e.width=function(t){if(!arguments.length)return i;i=t;return e};e.height=function(t){if(!arguments.length)return s;s=t;return e};e.x=function(n){if(!arguments.length)return u;u=n;t.x(n);return e};e.y=function(n){if(!arguments.length)return a;a=n;t.y(n);return e};e.clipEdge=function(t){if(!arguments.length)return c;c=t;return e};e.color=function(r){if(!arguments.length)return o;o=n.utils.getColor(r);t.color(o);return e};e.interpolate=function(t){if(!arguments.length)return d;d=t;return e};e.defined=function(t){if(!arguments.length)return f;f=t;return e};e.isArea=function(t){if(!arguments.length)return l;l=d3.functor(t);return e};return e};n.models.lineChart=function(){"use strict";function e(g){g.each(function(g){var C=d3.select(this),k=this;var L=(f||parseInt(C.style("width"))||960)-u.left-u.right,A=(l||parseInt(C.style("height"))||400)-u.top-u.bottom;e.update=function(){C.transition().duration(T).call(e)};e.container=this;w.disabled=g.map(function(e){return!!e.disabled});if(!E){var O;E={};for(O in w){if(w[O]instanceof Array)E[O]=w[O].slice(0);else E[O]=w[O]}}if(!g||!g.length||!g.filter(function(e){return e.values.length}).length){var M=C.selectAll(".nv-noData").data([S]);M.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");M.attr("x",u.left+L/2).attr("y",u.top+A/2).text(function(e){return e});return e}else{C.selectAll(".nv-noData").remove()}y=t.xScale();b=t.yScale();var _=C.selectAll("g.nv-wrap.nv-lineChart").data([g]);var D=_.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g");var P=_.select("g");D.append("rect").style("opacity",0);D.append("g").attr("class","nv-x nv-axis");D.append("g").attr("class","nv-y nv-axis");D.append("g").attr("class","nv-linesWrap");D.append("g").attr("class","nv-legendWrap");D.append("g").attr("class","nv-interactive");P.select("rect").attr("width",L).attr("height",A);if(c){s.width(L);P.select(".nv-legendWrap").datum(g).call(s);if(u.top!=s.height()){u.top=s.height();A=(l||parseInt(C.style("height"))||400)-u.top-u.bottom}_.select(".nv-legendWrap").attr("transform","translate(0,"+ -u.top+")")}_.attr("transform","translate("+u.left+","+u.top+")");if(d){P.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)")}if(v){o.width(L).height(A).margin({left:u.left,top:u.top}).svgContainer(C).xScale(y);_.select(".nv-interactive").call(o)}t.width(L).height(A).color(g.map(function(e,t){return e.color||a(e,t)}).filter(function(e,t){return!g[t].disabled}));var H=P.select(".nv-linesWrap").datum(g.filter(function(e){return!e.disabled}));H.transition().call(t);if(h){r.scale(y).ticks(L/100).tickSize(-A,0);P.select(".nv-x.nv-axis").attr("transform","translate(0,"+b.range()[0]+")");P.select(".nv-x.nv-axis").transition().call(r)}if(p){i.scale(b).ticks(A/36).tickSize(-L,0);P.select(".nv-y.nv-axis").transition().call(i)}s.dispatch.on("stateChange",function(t){w=t;x.stateChange(w);e.update()});o.dispatch.on("elementMousemove",function(s){t.clearHighlights();var f,l,c,h=[];g.filter(function(e,t){e.seriesIndex=t;return!e.disabled}).forEach(function(r,i){l=n.interactiveBisect(r.values,s.pointXValue,e.x());t.highlightPoint(i,l,true);var o=r.values[l];if(typeof o==="undefined")return;if(typeof f==="undefined")f=o;if(typeof c==="undefined")c=e.xScale()(e.x()(o,l));h.push({key:r.key,value:e.y()(o,l),color:a(r,r.seriesIndex)})});if(h.length>2){var p=e.yScale().invert(s.mouseY);var d=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]);var v=.03*d;var y=n.nearestValueIndex(h.map(function(e){return e.value}),p,v);if(y!==null)h[y].highlight=true}var b=r.tickFormat()(e.x()(f,l));o.tooltip.position({left:c+u.left,top:s.mouseY+u.top}).chartContainer(k.parentNode).enabled(m).valueFormatter(function(e,t){return i.tickFormat()(e)}).data({value:b,series:h})();o.renderGuideLine(c)});o.dispatch.on("elementMouseout",function(e){x.tooltipHide();t.clearHighlights()});x.on("tooltipShow",function(e){if(m)N(e,k.parentNode)});x.on("changeState",function(t){if(typeof t.disabled!=="undefined"){g.forEach(function(e,n){e.disabled=t.disabled[n]});w.disabled=t.disabled}e.update()})});return e}var t=n.models.line(),r=n.models.axis(),i=n.models.axis(),s=n.models.legend(),o=n.interactiveGuideline();var u={top:30,right:20,bottom:50,left:60},a=n.utils.defaultColor(),f=null,l=null,c=true,h=true,p=true,d=false,v=false,m=true,g=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" at "+t+"</p>"},y,b,w={},E=null,S="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),T=250;r.orient("bottom").tickPadding(7);i.orient(d?"right":"left");var N=function(s,o){var u=s.pos[0]+(o.offsetLeft||0),a=s.pos[1]+(o.offsetTop||0),f=r.tickFormat()(t.x()(s.point,s.pointIndex)),l=i.tickFormat()(t.y()(s.point,s.pointIndex)),c=g(s.series.key,f,l,s,e);n.tooltip.show([u,a],c,null,null,o)};t.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+u.left,e.pos[1]+u.top];x.tooltipShow(e)});t.dispatch.on("elementMouseout.tooltip",function(e){x.tooltipHide(e)});x.on("tooltipHide",function(){if(m)n.tooltip.cleanup()});e.dispatch=x;e.lines=t;e.legend=s;e.xAxis=r;e.yAxis=i;e.interactiveLayer=o;d3.rebind(e,t,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return u;u.top=typeof t.top!="undefined"?t.top:u.top;u.right=typeof t.right!="undefined"?t.right:u.right;u.bottom=typeof t.bottom!="undefined"?t.bottom:u.bottom;u.left=typeof t.left!="undefined"?t.left:u.left;return e};e.width=function(t){if(!arguments.length)return f;f=t;return e};e.height=function(t){if(!arguments.length)return l;l=t;return e};e.color=function(t){if(!arguments.length)return a;a=n.utils.getColor(t);s.color(a);return e};e.showLegend=function(t){if(!arguments.length)return c;c=t;return e};e.showXAxis=function(t){if(!arguments.length)return h;h=t;return e};e.showYAxis=function(t){if(!arguments.length)return p;p=t;return e};e.rightAlignYAxis=function(t){if(!arguments.length)return d;d=t;i.orient(t?"right":"left");return e};e.useInteractiveGuideline=function(t){if(!arguments.length)return v;v=t;if(t===true){e.interactive(false);e.useVoronoi(false)}return e};e.tooltips=function(t){if(!arguments.length)return m;m=t;return e};e.tooltipContent=function(t){if(!arguments.length)return g;g=t;return e};e.state=function(t){if(!arguments.length)return w;w=t;return e};e.defaultState=function(t){if(!arguments.length)return E;E=t;return e};e.noData=function(t){if(!arguments.length)return S;S=t;return e};e.transitionDuration=function(t){if(!arguments.length)return T;T=t;return e};return e};n.models.linePlusBarChart=function(){"use strict";function e(n){n.each(function(n){var c=d3.select(this),h=this;var m=(f||parseInt(c.style("width"))||960)-a.left-a.right,N=(l||parseInt(c.style("height"))||400)-a.top-a.bottom;e.update=function(){c.transition().call(e)};w.disabled=n.map(function(e){return!!e.disabled});if(!E){var C;E={};for(C in w){if(w[C]instanceof Array)E[C]=w[C].slice(0);else E[C]=w[C]}}if(!n||!n.length||!n.filter(function(e){return e.values.length}).length){var k=c.selectAll(".nv-noData").data([S]);k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");k.attr("x",a.left+m/2).attr("y",a.top+N/2).text(function(e){return e});return e}else{c.selectAll(".nv-noData").remove()}var L=n.filter(function(e){return!e.disabled&&e.bar});var A=n.filter(function(e){return!e.bar});g=A.filter(function(e){return!e.disabled}).length&&A.filter(function(e){return!e.disabled})[0].values.length?t.xScale():r.xScale();y=r.yScale();b=t.yScale();var O=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([n]);var M=O.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g");var _=O.select("g");M.append("g").attr("class","nv-x nv-axis");M.append("g").attr("class","nv-y1 nv-axis");M.append("g").attr("class","nv-y2 nv-axis");M.append("g").attr("class","nv-barsWrap");M.append("g").attr("class","nv-linesWrap");M.append("g").attr("class","nv-legendWrap");if(d){u.width(m/2);_.select(".nv-legendWrap").datum(n.map(function(e){e.originalKey=e.originalKey===undefined?e.key:e.originalKey;e.key=e.originalKey+(e.bar?" (left axis)":" (right axis)");return e})).call(u);if(a.top!=u.height()){a.top=u.height();N=(l||parseInt(c.style("height"))||400)-a.top-a.bottom}_.select(".nv-legendWrap").attr("transform","translate("+m/2+","+ -a.top+")")}O.attr("transform","translate("+a.left+","+a.top+")");t.width(m).height(N).color(n.map(function(e,t){return e.color||p(e,t)}).filter(function(e,t){return!n[t].disabled&&!n[t].bar}));r.width(m).height(N).color(n.map(function(e,t){return e.color||p(e,t)}).filter(function(e,t){return!n[t].disabled&&n[t].bar}));var D=_.select(".nv-barsWrap").datum(L.length?L:[{values:[]}]);var P=_.select(".nv-linesWrap").datum(A[0]&&!A[0].disabled?A:[{values:[]}]);d3.transition(D).call(r);d3.transition(P).call(t);i.scale(g).ticks(m/100).tickSize(-N,0);_.select(".nv-x.nv-axis").attr("transform","translate(0,"+y.range()[0]+")");d3.transition(_.select(".nv-x.nv-axis")).call(i);s.scale(y).ticks(N/36).tickSize(-m,0);d3.transition(_.select(".nv-y1.nv-axis")).style("opacity",L.length?1:0).call(s);o.scale(b).ticks(N/36).tickSize(L.length?0:-m,0);_.select(".nv-y2.nv-axis").style("opacity",A.length?1:0).attr("transform","translate("+m+",0)");d3.transition(_.select(".nv-y2.nv-axis")).call(o);u.dispatch.on("stateChange",function(t){w=t;x.stateChange(w);e.update()});x.on("tooltipShow",function(e){if(v)T(e,h.parentNode)});x.on("changeState",function(t){if(typeof t.disabled!=="undefined"){n.forEach(function(e,n){e.disabled=t.disabled[n]});w.disabled=t.disabled}e.update()})});return e}var t=n.models.line(),r=n.models.historicalBar(),i=n.models.axis(),s=n.models.axis(),o=n.models.axis(),u=n.models.legend();var a={top:30,right:60,bottom:50,left:60},f=null,l=null,c=function(e){return e.x},h=function(e){return e.y},p=n.utils.defaultColor(),d=true,v=true,m=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" at "+t+"</p>"},g,y,b,w={},E=null,S="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");r.padData(true);t.clipEdge(false).padData(true);i.orient("bottom").tickPadding(7).highlightZero(false);s.orient("left");o.orient("right");var T=function(r,u){var a=r.pos[0]+(u.offsetLeft||0),f=r.pos[1]+(u.offsetTop||0),l=i.tickFormat()(t.x()(r.point,r.pointIndex)),c=(r.series.bar?s:o).tickFormat()(t.y()(r.point,r.pointIndex)),h=m(r.series.key,l,c,r,e);n.tooltip.show([a,f],h,r.value<0?"n":"s",null,u)};t.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+a.left,e.pos[1]+a.top];x.tooltipShow(e)});t.dispatch.on("elementMouseout.tooltip",function(e){x.tooltipHide(e)});r.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+a.left,e.pos[1]+a.top];x.tooltipShow(e)});r.dispatch.on("elementMouseout.tooltip",function(e){x.tooltipHide(e)});x.on("tooltipHide",function(){if(v)n.tooltip.cleanup()});e.dispatch=x;e.legend=u;e.lines=t;e.bars=r;e.xAxis=i;e.y1Axis=s;e.y2Axis=o;d3.rebind(e,t,"defined","size","clipVoronoi","interpolate");e.options=n.utils.optionsFunc.bind(e);e.x=function(n){if(!arguments.length)return c;c=n;t.x(n);r.x(n);return e};e.y=function(n){if(!arguments.length)return h;h=n;t.y(n);r.y(n);return e};e.margin=function(t){if(!arguments.length)return a;a.top=typeof t.top!="undefined"?t.top:a.top;a.right=typeof t.right!="undefined"?t.right:a.right;a.bottom=typeof t.bottom!="undefined"?t.bottom:a.bottom;a.left=typeof t.left!="undefined"?t.left:a.left;return e};e.width=function(t){if(!arguments.length)return f;f=t;return e};e.height=function(t){if(!arguments.length)return l;l=t;return e};e.color=function(t){if(!arguments.length)return p;p=n.utils.getColor(t);u.color(p);return e};e.showLegend=function(t){if(!arguments.length)return d;d=t;return e};e.tooltips=function(t){if(!arguments.length)return v;v=t;return e};e.tooltipContent=function(t){if(!arguments.length)return m;m=t;return e};e.state=function(t){if(!arguments.length)return w;w=t;return e};e.defaultState=function(t){if(!arguments.length)return E;E=t;return e};e.noData=function(t){if(!arguments.length)return S;S=t;return e};return e};n.models.lineWithFocusChart=function(){"use strict";function e(n){n.each(function(n){function x(e){var t=+(e=="e"),n=t?1:-1,r=P/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"Z"+"M"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function L(){if(!f.empty())f.extent(E);U.data([f.empty()?y.domain():E]).each(function(e,t){var n=y(e[0])-m.range()[0],r=m.range()[1]-y(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n);d3.select(this).select(".right").attr("x",y(e[1])).attr("width",r<0?0:r)})}function A(){E=f.empty()?null:f.extent();var e=f.empty()?y.domain():f.extent();if(Math.abs(e[0]-e[1])<=1){return}N.brush({extent:e,brush:f});L();var r=F.select(".nv-focus .nv-linesWrap").datum(n.filter(function(e){return!e.disabled}).map(function(n,r){return{key:n.key,values:n.values.filter(function(n,r){return t.x()(n,r)>=e[0]&&t.x()(n,r)<=e[1]})}}));r.transition().duration(C).call(t);F.select(".nv-focus .nv-x.nv-axis").transition().duration(C).call(i);F.select(".nv-focus .nv-y.nv-axis").transition().duration(C).call(s)}var O=d3.select(this),M=this;var _=(p||parseInt(O.style("width"))||960)-l.left-l.right,D=(d||parseInt(O.style("height"))||400)-l.top-l.bottom-v,P=v-c.top-c.bottom;e.update=function(){O.transition().duration(C).call(e)};e.container=this;if(!n||!n.length||!n.filter(function(e){return e.values.length}).length){var H=O.selectAll(".nv-noData").data([T]);H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");H.attr("x",l.left+_/2).attr("y",l.top+D/2).text(function(e){return e});return e}else{O.selectAll(".nv-noData").remove()}m=t.xScale();g=t.yScale();y=r.xScale();b=r.yScale();var B=O.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([n]);var j=B.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g");var F=B.select("g");j.append("g").attr("class","nv-legendWrap");var I=j.append("g").attr("class","nv-focus");I.append("g").attr("class","nv-x nv-axis");I.append("g").attr("class","nv-y nv-axis");I.append("g").attr("class","nv-linesWrap");var q=j.append("g").attr("class","nv-context");q.append("g").attr("class","nv-x nv-axis");q.append("g").attr("class","nv-y nv-axis");q.append("g").attr("class","nv-linesWrap");q.append("g").attr("class","nv-brushBackground");q.append("g").attr("class","nv-x nv-brush");if(w){a.width(_);F.select(".nv-legendWrap").datum(n).call(a);if(l.top!=a.height()){l.top=a.height();D=(d||parseInt(O.style("height"))||400)-l.top-l.bottom-v}F.select(".nv-legendWrap").attr("transform","translate(0,"+ -l.top+")")}B.attr("transform","translate("+l.left+","+l.top+")");t.width(_).height(D).color(n.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!n[t].disabled}));r.defined(t.defined()).width(_).height(P).color(n.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!n[t].disabled}));F.select(".nv-context").attr("transform","translate(0,"+(D+l.bottom+c.top)+")");var R=F.select(".nv-context .nv-linesWrap").datum(n.filter(function(e){return!e.disabled}));d3.transition(R).call(r);i.scale(m).ticks(_/100).tickSize(-D,0);s.scale(g).ticks(D/36).tickSize(-_,0);F.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+D+")");f.x(y).on("brush",function(){var t=e.transitionDuration();e.transitionDuration(0);A();e.transitionDuration(t)});if(E)f.extent(E);var U=F.select(".nv-brushBackground").selectAll("g").data([E||f.extent()]);var z=U.enter().append("g");z.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",P);z.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",P);var W=F.select(".nv-x.nv-brush").call(f);W.selectAll("rect").attr("height",P);W.selectAll(".resize").append("path").attr("d",x);A();o.scale(y).ticks(_/100).tickSize(-P,0);F.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+b.range()[0]+")");d3.transition(F.select(".nv-context .nv-x.nv-axis")).call(o);u.scale(b).ticks(P/36).tickSize(-_,0);d3.transition(F.select(".nv-context .nv-y.nv-axis")).call(u);F.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+b.range()[0]+")");a.dispatch.on("stateChange",function(t){e.update()});N.on("tooltipShow",function(e){if(S)k(e,M.parentNode)})});return e}var t=n.models.line(),r=n.models.line(),i=n.models.axis(),s=n.models.axis(),o=n.models.axis(),u=n.models.axis(),a=n.models.legend(),f=d3.svg.brush();var l={top:30,right:30,bottom:30,left:60},c={top:0,right:30,bottom:20,left:60},h=n.utils.defaultColor(),p=null,d=null,v=100,m,g,y,b,w=true,E=null,S=true,x=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" at "+t+"</p>"},T="No Data Available.",N=d3.dispatch("tooltipShow","tooltipHide","brush"),C=250;t.clipEdge(true);r.interactive(false);i.orient("bottom").tickPadding(5);s.orient("left");o.orient("bottom").tickPadding(5);u.orient("left");var k=function(r,o){var u=r.pos[0]+(o.offsetLeft||0),a=r.pos[1]+(o.offsetTop||0),f=i.tickFormat()(t.x()(r.point,r.pointIndex)),l=s.tickFormat()(t.y()(r.point,r.pointIndex)),c=x(r.series.key,f,l,r,e);n.tooltip.show([u,a],c,null,null,o)};t.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+l.left,e.pos[1]+l.top];N.tooltipShow(e)});t.dispatch.on("elementMouseout.tooltip",function(e){N.tooltipHide(e)});N.on("tooltipHide",function(){if(S)n.tooltip.cleanup()});e.dispatch=N;e.legend=a;e.lines=t;e.lines2=r;e.xAxis=i;e.yAxis=s;e.x2Axis=o;e.y2Axis=u;d3.rebind(e,t,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id");e.options=n.utils.optionsFunc.bind(e);e.x=function(n){if(!arguments.length)return t.x;t.x(n);r.x(n);return e};e.y=function(n){if(!arguments.length)return t.y;t.y(n);r.y(n);return e};e.margin=function(t){if(!arguments.length)return l;l.top=typeof t.top!="undefined"?t.top:l.top;l.right=typeof t.right!="undefined"?t.right:l.right;l.bottom=typeof t.bottom!="undefined"?t.bottom:l.bottom;l.left=typeof t.left!="undefined"?t.left:l.left;return e};e.margin2=function(t){if(!arguments.length)return c;c=t;return e};e.width=function(t){if(!arguments.length)return p;p=t;return e};e.height=function(t){if(!arguments.length)return d;d=t;return e};e.height2=function(t){if(!arguments.length)return v;v=t;return e};e.color=function(t){if(!arguments.length)return h;h=n.utils.getColor(t);a.color(h);return e};e.showLegend=function(t){if(!arguments.length)return w;w=t;return e};e.tooltips=function(t){if(!arguments.length)return S;S=t;return e};e.tooltipContent=function(t){if(!arguments.length)return x;x=t;return e};e.interpolate=function(n){if(!arguments.length)return t.interpolate();t.interpolate(n);r.interpolate(n);return e};e.noData=function(t){if(!arguments.length)return T;T=t;return e};e.xTickFormat=function(t){if(!arguments.length)return i.tickFormat();i.tickFormat(t);o.tickFormat(t);return e};e.yTickFormat=function(t){if(!arguments.length)return s.tickFormat();s.tickFormat(t);u.tickFormat(t);return e};e.brushExtent=function(t){if(!arguments.length)return E;E=t;return e};e.transitionDuration=function(t){if(!arguments.length)return C;C=t;return e};return e};n.models.linePlusBarWithFocusChart=function(){"use strict";function e(n){n.each(function(n){function C(e){var t=+(e=="e"),n=t?1:-1,r=z/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"Z"+"M"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function j(){if(!p.empty())p.extent(T);nt.data([p.empty()?L.domain():T]).each(function(e,t){var n=L(e[0])-L.range()[0],r=L.range()[1]-L(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n);d3.select(this).select(".right").attr("x",L(e[1])).attr("width",r<0?0:r)})}function F(){T=p.empty()?null:p.extent();x=p.empty()?L.domain():p.extent();P.brush({extent:x,brush:p});j();i.width(R).height(U).color(n.map(function(e,t){return e.color||E(e,t)}).filter(function(e,t){return!n[t].disabled&&n[t].bar}));t.width(R).height(U).color(n.map(function(e,t){return e.color||E(e,t)}).filter(function(e,t){return!n[t].disabled&&!n[t].bar}));var e=G.select(".nv-focus .nv-barsWrap").datum(!X.length?[{values:[]}]:X.map(function(e,t){return{key:e.key,values:e.values.filter(function(e,t){return i.x()(e,t)>=x[0]&&i.x()(e,t)<=x[1]})}}));var r=G.select(".nv-focus .nv-linesWrap").datum(V[0].disabled?[{values:[]}]:V.map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return t.x()(e,n)>=x[0]&&t.x()(e,n)<=x[1]})}}));if(X.length){k=i.xScale()}else{k=t.xScale()}o.scale(k).ticks(R/100).tickSize(-U,0);o.domain([Math.ceil(x[0]),Math.floor(x[1])]);G.select(".nv-x.nv-axis").transition().duration(H).call(o);e.transition().duration(H).call(i);r.transition().duration(H).call(t);G.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")");a.scale(A).ticks(U/36).tickSize(-R,0);G.select(".nv-focus .nv-y1.nv-axis").style("opacity",X.length?1:0);f.scale(O).ticks(U/36).tickSize(X.length?0:-R,0);G.select(".nv-focus .nv-y2.nv-axis").style("opacity",V.length?1:0).attr("transform","translate("+k.range()[1]+",0)");G.select(".nv-focus .nv-y1.nv-axis").transition().duration(H).call(a);G.select(".nv-focus .nv-y2.nv-axis").transition().duration(H).call(f)}var I=d3.select(this),q=this;var R=(m||parseInt(I.style("width"))||960)-d.left-d.right,U=(g||parseInt(I.style("height"))||400)-d.top-d.bottom-y,z=y-v.top-v.bottom;e.update=function(){I.transition().duration(H).call(e)};e.container=this;if(!n||!n.length||!n.filter(function(e){return e.values.length}).length){var W=I.selectAll(".nv-noData").data([D]);W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");W.attr("x",d.left+R/2).attr("y",d.top+U/2).text(function(e){return e});return e}else{I.selectAll(".nv-noData").remove()}var X=n.filter(function(e){return!e.disabled&&e.bar});var V=n.filter(function(e){return!e.bar});k=i.xScale();L=u.scale();A=i.yScale();O=t.yScale();M=s.yScale();_=r.yScale();var $=n.filter(function(e){return!e.disabled&&e.bar}).map(function(e){return e.values.map(function(e,t){return{x:b(e,t),y:w(e,t)}})});var J=n.filter(function(e){return!e.disabled&&!e.bar}).map(function(e){return e.values.map(function(e,t){return{x:b(e,t),y:w(e,t)}})});k.range([0,R]);L.domain(d3.extent(d3.merge($.concat(J)),function(e){return e.x})).range([0,R]);var K=I.selectAll("g.nv-wrap.nv-linePlusBar").data([n]);var Q=K.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g");var G=K.select("g");Q.append("g").attr("class","nv-legendWrap");var Y=Q.append("g").attr("class","nv-focus");Y.append("g").attr("class","nv-x nv-axis");Y.append("g").attr("class","nv-y1 nv-axis");Y.append("g").attr("class","nv-y2 nv-axis");Y.append("g").attr("class","nv-barsWrap");Y.append("g").attr("class","nv-linesWrap");var Z=Q.append("g").attr("class","nv-context");Z.append("g").attr("class","nv-x nv-axis");Z.append("g").attr("class","nv-y1 nv-axis");Z.append("g").attr("class","nv-y2 nv-axis");Z.append("g").attr("class","nv-barsWrap");Z.append("g").attr("class","nv-linesWrap");Z.append("g").attr("class","nv-brushBackground");Z.append("g").attr("class","nv-x nv-brush");if(S){h.width(R/2);G.select(".nv-legendWrap").datum(n.map(function(e){e.originalKey=e.originalKey===undefined?e.key:e.originalKey;e.key=e.originalKey+(e.bar?" (left axis)":" (right axis)");return e})).call(h);if(d.top!=h.height()){d.top=h.height();U=(g||parseInt(I.style("height"))||400)-d.top-d.bottom-y}G.select(".nv-legendWrap").attr("transform","translate("+R/2+","+ -d.top+")")}K.attr("transform","translate("+d.left+","+d.top+")");s.width(R).height(z).color(n.map(function(e,t){return e.color||E(e,t)}).filter(function(e,t){return!n[t].disabled&&n[t].bar}));r.width(R).height(z).color(n.map(function(e,t){return e.color||E(e,t)}).filter(function(e,t){return!n[t].disabled&&!n[t].bar}));var et=G.select(".nv-context .nv-barsWrap").datum(X.length?X:[{values:[]}]);var tt=G.select(".nv-context .nv-linesWrap").datum(!V[0].disabled?V:[{values:[]}]);G.select(".nv-context").attr("transform","translate(0,"+(U+d.bottom+v.top)+")");et.transition().call(s);tt.transition().call(r);p.x(L).on("brush",F);if(T)p.extent(T);var nt=G.select(".nv-brushBackground").selectAll("g").data([T||p.extent()]);var rt=nt.enter().append("g");rt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",z);rt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",z);var it=G.select(".nv-x.nv-brush").call(p);it.selectAll("rect").attr("height",z);it.selectAll(".resize").append("path").attr("d",C);u.ticks(R/100).tickSize(-z,0);G.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")");G.select(".nv-context .nv-x.nv-axis").transition().call(u);l.scale(M).ticks(z/36).tickSize(-R,0);G.select(".nv-context .nv-y1.nv-axis").style("opacity",X.length?1:0).attr("transform","translate(0,"+L.range()[0]+")");G.select(".nv-context .nv-y1.nv-axis").transition().call(l);c.scale(_).ticks(z/36).tickSize(X.length?0:-R,0);G.select(".nv-context .nv-y2.nv-axis").style("opacity",V.length?1:0).attr("transform","translate("+L.range()[1]+",0)");G.select(".nv-context .nv-y2.nv-axis").transition().call(c);h.dispatch.on("stateChange",function(t){e.update()});P.on("tooltipShow",function(e){if(N)B(e,q.parentNode)});F()});return e}var t=n.models.line(),r=n.models.line(),i=n.models.historicalBar(),s=n.models.historicalBar(),o=n.models.axis(),u=n.models.axis(),a=n.models.axis(),f=n.models.axis(),l=n.models.axis(),c=n.models.axis(),h=n.models.legend(),p=d3.svg.brush();var d={top:30,right:30,bottom:30,left:60},v={top:0,right:30,bottom:20,left:60},m=null,g=null,y=100,b=function(e){return e.x},w=function(e){return e.y},E=n.utils.defaultColor(),S=true,x,T=null,N=true,C=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" at "+t+"</p>"},k,L,A,O,M,_,D="No Data Available.",P=d3.dispatch("tooltipShow","tooltipHide","brush"),H=0;t.clipEdge(true);r.interactive(false);o.orient("bottom").tickPadding(5);a.orient("left");f.orient("right");u.orient("bottom").tickPadding(5);l.orient("left");c.orient("right");var B=function(r,i){if(x){r.pointIndex+=Math.ceil(x[0])}var s=r.pos[0]+(i.offsetLeft||0),u=r.pos[1]+(i.offsetTop||0),l=o.tickFormat()(t.x()(r.point,r.pointIndex)),c=(r.series.bar?a:f).tickFormat()(t.y()(r.point,r.pointIndex)),h=C(r.series.key,l,c,r,e);n.tooltip.show([s,u],h,r.value<0?"n":"s",null,i)};t.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+d.left,e.pos[1]+d.top];P.tooltipShow(e)});t.dispatch.on("elementMouseout.tooltip",function(e){P.tooltipHide(e)});i.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+d.left,e.pos[1]+d.top];P.tooltipShow(e)});i.dispatch.on("elementMouseout.tooltip",function(e){P.tooltipHide(e)});P.on("tooltipHide",function(){if(N)n.tooltip.cleanup()});e.dispatch=P;e.legend=h;e.lines=t;e.lines2=r;e.bars=i;e.bars2=s;e.xAxis=o;e.x2Axis=u;e.y1Axis=a;e.y2Axis=f;e.y3Axis=l;e.y4Axis=c;d3.rebind(e,t,"defined","size","clipVoronoi","interpolate");e.options=n.utils.optionsFunc.bind(e);e.x=function(n){if(!arguments.length)return b;b=n;t.x(n);i.x(n);return e};e.y=function(n){if(!arguments.length)return w;w=n;t.y(n);i.y(n);return e};e.margin=function(t){if(!arguments.length)return d;d.top=typeof t.top!="undefined"?t.top:d.top;d.right=typeof t.right!="undefined"?t.right:d.right;d.bottom=typeof t.bottom!="undefined"?t.bottom:d.bottom;d.left=typeof t.left!="undefined"?t.left:d.left;return e};e.width=function(t){if(!arguments.length)return m;m=t;return e};e.height=function(t){if(!arguments.length)return g;g=t;return e};e.color=function(t){if(!arguments.length)return E;E=n.utils.getColor(t);h.color(E);return e};e.showLegend=function(t){if(!arguments.length)return S;S=t;return e};e.tooltips=function(t){if(!arguments.length)return N;N=t;return e};e.tooltipContent=function(t){if(!arguments.length)return C;C=t;return e};e.noData=function(t){if(!arguments.length)return D;D=t;return e};e.brushExtent=function(t){if(!arguments.length)return T;T=t;return e};return e};n.models.multiBar=function(){"use strict";function e(n){n.each(function(e){var n=r-t.left-t.right,k=i-t.top-t.bottom,L=d3.select(this);if(v&&e.length)v=[{values:e[0].values.map(function(e){return{x:e.x,y:0,series:e.series,size:.01}})}];if(h)e=d3.layout.stack().offset(p).values(function(e){return e.values}).y(f)(!e.length&&v?v:e);e=e.map(function(e,t){e.values=e.values.map(function(e){e.series=t;return e});return e});if(h)e[0].values.map(function(t,n){var r=0,i=0;e.map(function(e){var t=e.values[n];t.size=Math.abs(t.y);if(t.y<0){t.y1=i;i=i-t.size}else{t.y1=t.size+r;r=r+t.size}})});var A=b&&w?[]:e.map(function(e){return e.values.map(function(e,t){return{x:a(e,t),y:f(e,t),y0:e.y0,y1:e.y1}})});s.domain(b||d3.merge(A).map(function(e){return e.x})).rangeBands(E||[0,n],x);o.domain(w||d3.extent(d3.merge(A).map(function(e){return h?e.y>0?e.y1:e.y1+e.y:e.y}).concat(l))).range(S||[k,0]);if(s.domain()[0]===s.domain()[1])s.domain()[0]?s.domain([s.domain()[0]-s.domain()[0]*.01,s.domain()[1]+s.domain()[1]*.01]):s.domain([-1,1]);if(o.domain()[0]===o.domain()[1])o.domain()[0]?o.domain([o.domain()[0]+o.domain()[0]*.01,o.domain()[1]-o.domain()[1]*.01]):o.domain([-1,1]);N=N||s;C=C||o;var O=L.selectAll("g.nv-wrap.nv-multibar").data([e]);var M=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar");var _=M.append("defs");var D=M.append("g");var P=O.select("g");D.append("g").attr("class","nv-groups");O.attr("transform","translate("+t.left+","+t.top+")");_.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect");O.select("#nv-edge-clip-"+u+" rect").attr("width",n).attr("height",k);P.attr("clip-path",c?"url(#nv-edge-clip-"+u+")":"");var H=O.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t});H.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);H.exit().transition().selectAll("rect.nv-bar").delay(function(t,n){return n*y/e[0].values.length}).attr("y",function(e){return h?C(e.y0):C(0)}).attr("height",0).remove();H.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return d(e,t)}).style("stroke",function(e,t){return d(e,t)});H.transition().style("stroke-opacity",1).style("fill-opacity",.75);var B=H.selectAll("rect.nv-bar").data(function(t){return v&&!e.length?v.values:t.values});B.exit().remove();var j=B.enter().append("rect").attr("class",function(e,t){return f(e,t)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,n,r){return h?0:r*s.rangeBand()/e.length}).attr("y",function(e){return C(h?e.y0:0)}).attr("height",0).attr("width",s.rangeBand()/(h?1:e.length)).attr("transform",function(e,t){return"translate("+s(a(e,t))+",0)"});B.style("fill",function(e,t,n){return d(e,n,t)}).style("stroke",function(e,t,n){return d(e,n,t)}).on("mouseover",function(t,n){d3.select(this).classed("hover",true);T.elementMouseover({value:f(t,n),point:t,series:e[t.series],pos:[s(a(t,n))+s.rangeBand()*(h?e.length/2:t.series+.5)/e.length,o(f(t,n)+(h?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",false);T.elementMouseout({value:f(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){T.elementClick({value:f(t,n),point:t,series:e[t.series],pos:[s(a(t,n))+s.rangeBand()*(h?e.length/2:t.series+.5)/e.length,o(f(t,n)+(h?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(t,n){T.elementDblClick({value:f(t,n),point:t,series:e[t.series],pos:[s(a(t,n))+s.rangeBand()*(h?e.length/2:t.series+.5)/e.length,o(f(t,n)+(h?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event});d3.event.stopPropagation()});B.attr("class",function(e,t){return f(e,t)<0?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(e,t){return"translate("+s(a(e,t))+",0)"});if(m){if(!g)g=e.map(function(){return true});B.style("fill",function(e,t,n){return d3.rgb(m(e,t)).darker(g.map(function(e,t){return t}).filter(function(e,t){return!g[t]})[n]).toString()}).style("stroke",function(e,t,n){return d3.rgb(m(e,t)).darker(g.map(function(e,t){return t}).filter(function(e,t){return!g[t]})[n]).toString()})}if(h)B.transition().delay(function(t,n){return n*y/e[0].values.length}).attr("y",function(e,t){return o(h?e.y1:0)}).attr("height",function(e,t){return Math.max(Math.abs(o(e.y+(h?e.y0:0))-o(h?e.y0:0)),1)}).attr("x",function(t,n){return h?0:t.series*s.rangeBand()/e.length}).attr("width",s.rangeBand()/(h?1:e.length));else B.transition().delay(function(t,n){return n*y/e[0].values.length}).attr("x",function(t,n){return t.series*s.rangeBand()/e.length}).attr("width",s.rangeBand()/e.length).attr("y",function(e,t){return f(e,t)<0?o(0):o(0)-o(f(e,t))<1?o(0)-1:o(f(e,t))||0}).attr("height",function(e,t){return Math.max(Math.abs(o(f(e,t))-o(0)),1)||0});N=s.copy();C=o.copy()});return e}var t={top:0,right:0,bottom:0,left:0},r=960,i=500,s=d3.scale.ordinal(),o=d3.scale.linear(),u=Math.floor(Math.random()*1e4),a=function(e){return e.x},f=function(e){return e.y},l=[0],c=true,h=false,p="zero",d=n.utils.defaultColor(),v=false,m=null,g,y=1200,b,w,E,S,x=.1,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var N,C;e.dispatch=T;e.options=n.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return a;a=t;return e};e.y=function(t){if(!arguments.length)return f;f=t;return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.xScale=function(t){if(!arguments.length)return s;s=t;return e};e.yScale=function(t){if(!arguments.length)return o;o=t;return e};e.xDomain=function(t){if(!arguments.length)return b;b=t;return e};e.yDomain=function(t){if(!arguments.length)return w;w=t;return e};e.xRange=function(t){if(!arguments.length)return E;E=t;return e};e.yRange=function(t){if(!arguments.length)return S;S=t;return e};e.forceY=function(t){if(!arguments.length)return l;l=t;return e};e.stacked=function(t){if(!arguments.length)return h;h=t;return e};e.stackOffset=function(t){if(!arguments.length)return p;p=t;return e};e.clipEdge=function(t){if(!arguments.length)return c;c=t;return e};e.color=function(t){if(!arguments.length)return d;d=n.utils.getColor(t);return e};e.barColor=function(t){if(!arguments.length)return m;m=n.utils.getColor(t);return e};e.disabled=function(t){if(!arguments.length)return g;g=t;return e};e.id=function(t){if(!arguments.length)return u;u=t;return e};e.hideable=function(t){if(!arguments.length)return v;v=t;return e};e.delay=function(t){if(!arguments.length)return y;y=t;return e};e.groupSpacing=function(t){if(!arguments.length)return x;x=t;return e};return e};n.models.multiBarChart=function(){"use strict";function e(n){n.each(function(n){var w=d3.select(this),O=this;var M=(a||parseInt(w.style("width"))||960)-u.left-u.right,_=(f||parseInt(w.style("height"))||400)-u.top-u.bottom;e.update=function(){w.transition().duration(L).call(e)};e.container=this;x.disabled=n.map(function(e){return!!e.disabled});if(!T){var D;T={};for(D in x){if(x[D]instanceof Array)T[D]=x[D].slice(0);else T[D]=x[D]}}if(!n||!n.length||!n.filter(function(e){return e.values.length}).length){var P=w.selectAll(".nv-noData").data([N]);P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");P.attr("x",u.left+M/2).attr("y",u.top+_/2).text(function(e){return e});return e}else{w.selectAll(".nv-noData").remove()}E=t.xScale();S=t.yScale();var H=w.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([n]);var B=H.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");var j=H.select("g");B.append("g").attr("class","nv-x nv-axis");B.append("g").attr("class","nv-y nv-axis");B.append("g").attr("class","nv-barsWrap");B.append("g").attr("class","nv-legendWrap");B.append("g").attr("class","nv-controlsWrap");if(h){s.width(M-k());if(t.barColor())n.forEach(function(e,t){e.color=d3.rgb("#ccc").darker(t*1.5).toString()});j.select(".nv-legendWrap").datum(n).call(s);if(u.top!=s.height()){u.top=s.height();_=(f||parseInt(w.style("height"))||400)-u.top-u.bottom}j.select(".nv-legendWrap").attr("transform","translate("+k()+","+ -u.top+")")}if(c){var F=[{key:"Grouped",disabled:t.stacked()},{key:"Stacked",disabled:!t.stacked()}];o.width(k()).color(["#444","#444","#444"]);j.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+ -u.top+")").call(o)}H.attr("transform","translate("+u.left+","+u.top+")");if(v){j.select(".nv-y.nv-axis").attr("transform","translate("+M+",0)")}t.disabled(n.map(function(e){return e.disabled})).width(M).height(_).color(n.map(function(e,t){return e.color||l(e,t)}).filter(function(e,t){return!n[t].disabled}));var I=j.select(".nv-barsWrap").datum(n.filter(function(e){return!e.disabled}));I.transition().call(t);if(p){r.scale(E).ticks(M/100).tickSize(-_,0);j.select(".nv-x.nv-axis").attr("transform","translate(0,"+S.range()[0]+")");j.select(".nv-x.nv-axis").transition().call(r);var q=j.select(".nv-x.nv-axis > g").selectAll("g");q.selectAll("line, text").style("opacity",1);if(g){var R=function(e,t){return"translate("+e+","+t+")"};var U=5,z=17;q.selectAll("text").attr("transform",function(e,t,n){return R(0,n%2==0?U:z)});var W=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;j.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(e,t){return R(0,t===0||W%2!==0?z:U)})}if(m)q.filter(function(e,t){return t%Math.ceil(n[0].values.length/(M/100))!==0}).selectAll("text, line").style("opacity",0);if(y)q.selectAll(".tick text").attr("transform","rotate("+y+" 0,0)").style("text-anchor",y>0?"start":"end");j.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}if(d){i.scale(S).ticks(_/36).tickSize(-M,0);j.select(".nv-y.nv-axis").transition().call(i)}s.dispatch.on("stateChange",function(t){x=t;C.stateChange(x);e.update()});o.dispatch.on("legendClick",function(n,r){if(!n.disabled)return;F=F.map(function(e){e.disabled=true;return e});n.disabled=false;switch(n.key){case"Grouped":t.stacked(false);break;case"Stacked":t.stacked(true);break}x.stacked=t.stacked();C.stateChange(x);e.update()});C.on("tooltipShow",function(e){if(b)A(e,O.parentNode)});C.on("changeState",function(r){if(typeof r.disabled!=="undefined"){n.forEach(function(e,t){e.disabled=r.disabled[t]});x.disabled=r.disabled}if(typeof r.stacked!=="undefined"){t.stacked(r.stacked);x.stacked=r.stacked}e.update()})});return e}var t=n.models.multiBar(),r=n.models.axis(),i=n.models.axis(),s=n.models.legend(),o=n.models.legend();var u={top:30,right:20,bottom:50,left:60},a=null,f=null,l=n.utils.defaultColor(),c=true,h=true,p=true,d=true,v=false,m=true,g=false,y=0,b=true,w=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" on "+t+"</p>"},E,S,x={stacked:false},T=null,N="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),k=function(){return c?180:0},L=250;t.stacked(false);r.orient("bottom").tickPadding(7).highlightZero(true).showMaxMin(false).tickFormat(function(e){return e});i.orient(v?"right":"left").tickFormat(d3.format(",.1f"));o.updateState(false);var A=function(s,o){var u=s.pos[0]+(o.offsetLeft||0),a=s.pos[1]+(o.offsetTop||0),f=r.tickFormat()(t.x()(s.point,s.pointIndex)),l=i.tickFormat()(t.y()(s.point,s.pointIndex)),c=w(s.series.key,f,l,s,e);n.tooltip.show([u,a],c,s.value<0?"n":"s",null,o)};t.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+u.left,e.pos[1]+u.top];C.tooltipShow(e)});t.dispatch.on("elementMouseout.tooltip",function(e){C.tooltipHide(e)});C.on("tooltipHide",function(){if(b)n.tooltip.cleanup()});e.dispatch=C;e.multibar=t;e.legend=s;e.xAxis=r;e.yAxis=i;d3.rebind(e,t,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return u;u.top=typeof t.top!="undefined"?t.top:u.top;u.right=typeof t.right!="undefined"?t.right:u.right;u.bottom=typeof t.bottom!="undefined"?t.bottom:u.bottom;u.left=typeof t.left!="undefined"?t.left:u.left;return e};e.width=function(t){if(!arguments.length)return a;a=t;return e};e.height=function(t){if(!arguments.length)return f;f=t;return e};e.color=function(t){if(!arguments.length)return l;l=n.utils.getColor(t);s.color(l);return e};e.showControls=function(t){if(!arguments.length)return c;c=t;return e};e.showLegend=function(t){if(!arguments.length)return h;h=t;return e};e.showXAxis=function(t){if(!arguments.length)return p;p=t;return e};e.showYAxis=function(t){if(!arguments.length)return d;d=t;return e};e.rightAlignYAxis=function(t){if(!arguments.length)return v;v=t;i.orient(t?"right":"left");return e};e.reduceXTicks=function(t){if(!arguments.length)return m;m=t;return e};e.rotateLabels=function(t){if(!arguments.length)return y;y=t;return e};e.staggerLabels=function(t){if(!arguments.length)return g;g=t;return e};e.tooltip=function(t){if(!arguments.length)return w;w=t;return e};e.tooltips=function(t){if(!arguments.length)return b;b=t;return e};e.tooltipContent=function(t){if(!arguments.length)return w;w=t;return e};e.state=function(t){if(!arguments.length)return x;x=t;return e};e.defaultState=function(t){if(!arguments.length)return T;T=t;return e};e.noData=function(t){if(!arguments.length)return N;N=t;return e};e.transitionDuration=function(t){if(!arguments.length)return L;L=t;return e};return e};n.models.multiBarHorizontal=function(){"use strict";function e(n){n.each(function(e){var n=r-t.left-t.right,s=i-t.top-t.bottom,y=d3.select(this);if(d)e=d3.layout.stack().offset("zero").values(function(e){return e.values}).y(f)(e);e=e.map(function(e,t){e.values=e.values.map(function(e){e.series=t;return e});return e});if(d)e[0].values.map(function(t,n){var r=0,i=0;e.map(function(e){var t=e.values[n];t.size=Math.abs(t.y);if(t.y<0){t.y1=i-t.size;i=i-t.size}else{t.y1=r;r=r+t.size}})});var C=b&&w?[]:e.map(function(e){return e.values.map(function(e,t){return{x:a(e,t),y:f(e,t),y0:e.y0,y1:e.y1}})});o.domain(b||d3.merge(C).map(function(e){return e.x})).rangeBands(E||[0,s],.1);u.domain(w||d3.extent(d3.merge(C).map(function(e){return d?e.y>0?e.y1+e.y:e.y1:e.y}).concat(l)));if(v&&!d)u.range(S||[u.domain()[0]<0?m:0,n-(u.domain()[1]>0?m:0)]);else u.range(S||[0,n]);T=T||o;N=N||d3.scale.linear().domain(u.domain()).range([u(0),u(0)]);var k=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]);var L=k.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");var A=L.append("defs");var O=L.append("g");var M=k.select("g");O.append("g").attr("class","nv-groups");k.attr("transform","translate("+t.left+","+t.top+")");var _=k.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t});_.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);_.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();_.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return c(e,t)}).style("stroke",function(e,t){return c(e,t)});_.transition().style("stroke-opacity",1).style("fill-opacity",.75);var D=_.selectAll("g.nv-bar").data(function(e){return e.values});D.exit().remove();var P=D.enter().append("g").attr("transform",function(t,n,r){return"translate("+N(d?t.y0:0)+","+(d?0:r*o.rangeBand()/e.length+o(a(t,n)))+")"});P.append("rect").attr("width",0).attr("height",o.rangeBand()/(d?1:e.length));D.on("mouseover",function(t,n){d3.select(this).classed("hover",true);x.elementMouseover({value:f(t,n),point:t,series:e[t.series],pos:[u(f(t,n)+(d?t.y0:0)),o(a(t,n))+o.rangeBand()*(d?e.length/2:t.series+.5)/e.length],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",false);x.elementMouseout({value:f(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){x.elementClick({value:f(t,n),point:t,series:e[t.series],pos:[o(a(t,n))+o.rangeBand()*(d?e.length/2:t.series+.5)/e.length,u(f(t,n)+(d?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(t,n){x.elementDblClick({value:f(t,n),point:t,series:e[t.series],pos:[o(a(t,n))+o.rangeBand()*(d?e.length/2:t.series+.5)/e.length,u(f(t,n)+(d?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event});d3.event.stopPropagation()});P.append("text");if(v&&!d){D.select("text").attr("text-anchor",function(e,t){return f(e,t)<0?"end":"start"}).attr("y",o.rangeBand()/(e.length*2)).attr("dy",".32em").text(function(e,t){return g(f(e,t))});D.transition().select("text").attr("x",function(e,t){return f(e,t)<0?-4:u(f(e,t))-u(0)+4})}else{D.selectAll("text").text("")}D.attr("class",function(e,t){return f(e,t)<0?"nv-bar negative":"nv-bar positive"});if(h){if(!p)p=e.map(function(){return true});D.style("fill",function(e,t,n){return d3.rgb(h(e,t)).darker(p.map(function(e,t){return t}).filter(function(e,t){return!p[t]})[n]).toString()}).style("stroke",function(e,t,n){return d3.rgb(h(e,t)).darker(p.map(function(e,t){return t}).filter(function(e,t){return!p[t]})[n]).toString()})}if(d)D.transition().attr("transform",function(e,t){return"translate("+u(e.y1)+","+o(a(e,t))+")"}).select("rect").attr("width",function(e,t){return Math.abs(u(f(e,t)+e.y0)-u(e.y0))}).attr("height",o.rangeBand());else D.transition().attr("transform",function(t,n){return"translate("+(f(t,n)<0?u(f(t,n)):u(0))+","+(t.series*o.rangeBand()/e.length+o(a(t,n)))+")"}).select("rect").attr("height",o.rangeBand()/e.length).attr("width",function(e,t){return Math.max(Math.abs(u(f(e,t))-u(0)),1)});T=o.copy();N=u.copy()});return e}var t={top:0,right:0,bottom:0,left:0},r=960,i=500,s=Math.floor(Math.random()*1e4),o=d3.scale.ordinal(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=[0],c=n.utils.defaultColor(),h=null,p,d=false,v=false,m=60,g=d3.format(",.2f"),y=1200,b,w,E,S,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var T,N;e.dispatch=x;e.options=n.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return a;a=t;return e};e.y=function(t){if(!arguments.length)return f;f=t;return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.xScale=function(t){if(!arguments.length)return o;o=t;return e};e.yScale=function(t){if(!arguments.length)return u;u=t;return e};e.xDomain=function(t){if(!arguments.length)return b;b=t;return e};e.yDomain=function(t){if(!arguments.length)return w;w=t;return e};e.xRange=function(t){if(!arguments.length)return E;E=t;return e};e.yRange=function(t){if(!arguments.length)return S;S=t;return e};e.forceY=function(t){if(!arguments.length)return l;l=t;return e};e.stacked=function(t){if(!arguments.length)return d;d=t;return e};e.color=function(t){if(!arguments.length)return c;c=n.utils.getColor(t);return e};e.barColor=function(t){if(!arguments.length)return h;h=n.utils.getColor(t);return e};e.disabled=function(t){if(!arguments.length)return p;p=t;return e};e.id=function(t){if(!arguments.length)return s;s=t;return e};e.delay=function(t){if(!arguments.length)return y;y=t;return e};e.showValues=function(t){if(!arguments.length)return v;v=t;return e};e.valueFormat=function(t){if(!arguments.length)return g;g=t;return e};e.valuePadding=function(t){if(!arguments.length)return m;m=t;return e};return e};n.models.multiBarHorizontalChart=function(){"use strict";function e(n){n.each(function(p){var v=d3.select(this),N=this;var C=(a||parseInt(v.style("width"))||960)-u.left-u.right,k=(f||parseInt(v.style("height"))||400)-u.top-u.bottom;e.update=function(){v.transition().duration(x).call(e)};e.container=this;y.disabled=p.map(function(e){return!!e.disabled});if(!b){var L;b={};for(L in y){if(y[L]instanceof Array)b[L]=y[L].slice(0);else b[L]=y[L]}}if(!p||!p.length||!p.filter(function(e){return e.values.length}).length){var A=v.selectAll(".nv-noData").data([w]);A.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");A.attr("x",u.left+C/2).attr("y",u.top+k/2).text(function(e){return e});return e}else{v.selectAll(".nv-noData").remove()}m=t.xScale();g=t.yScale();var O=v.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([p]);var M=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g");var _=O.select("g");M.append("g").attr("class","nv-x nv-axis");M.append("g").attr("class","nv-y nv-axis");M.append("g").attr("class","nv-barsWrap");M.append("g").attr("class","nv-legendWrap");M.append("g").attr("class","nv-controlsWrap");if(h){s.width(C-S());if(t.barColor())p.forEach(function(e,t){e.color=d3.rgb("#ccc").darker(t*1.5).toString()});_.select(".nv-legendWrap").datum(p).call(s);if(u.top!=s.height()){u.top=s.height();k=(f||parseInt(v.style("height"))||400)-u.top-u.bottom}_.select(".nv-legendWrap").attr("transform","translate("+S()+","+ -u.top+")")}if(c){var D=[{key:"Grouped",disabled:t.stacked()},{key:"Stacked",disabled:!t.stacked()}];o.width(S()).color(["#444","#444","#444"]);_.select(".nv-controlsWrap").datum(D).attr("transform","translate(0,"+ -u.top+")").call(o)}O.attr("transform","translate("+u.left+","+u.top+")");t.disabled(p.map(function(e){return e.disabled})).width(C).height(k).color(p.map(function(e,t){return e.color||l(e,t)}).filter(function(e,t){return!p[t].disabled}));var P=_.select(".nv-barsWrap").datum(p.filter(function(e){return!e.disabled}));P.transition().call(t);r.scale(m).ticks(k/24).tickSize(-C,0);_.select(".nv-x.nv-axis").transition().call(r);var H=_.select(".nv-x.nv-axis").selectAll("g");H.selectAll("line, text").style("opacity",1);i.scale(g).ticks(C/100).tickSize(-k,0);_.select(".nv-y.nv-axis").attr("transform","translate(0,"+k+")");_.select(".nv-y.nv-axis").transition().call(i);s.dispatch.on("stateChange",function(t){y=t;E.stateChange(y);e.update()});o.dispatch.on("legendClick",function(n,r){if(!n.disabled)return;D=D.map(function(e){e.disabled=true;return e});n.disabled=false;switch(n.key){case"Grouped":t.stacked(false);break;case"Stacked":t.stacked(true);break}y.stacked=t.stacked();E.stateChange(y);e.update()});E.on("tooltipShow",function(e){if(d)T(e,N.parentNode)});E.on("changeState",function(r){if(typeof r.disabled!=="undefined"){p.forEach(function(e,t){e.disabled=r.disabled[t]});y.disabled=r.disabled}if(typeof r.stacked!=="undefined"){t.stacked(r.stacked);y.stacked=r.stacked}n.call(e)})});return e}var t=n.models.multiBarHorizontal(),r=n.models.axis(),i=n.models.axis(),s=n.models.legend().height(30),o=n.models.legend().height(30);var u={top:30,right:20,bottom:50,left:60},a=null,f=null,l=n.utils.defaultColor(),c=true,h=true,p=false,d=true,v=function(e,t,n,r,i){return"<h3>"+e+" - "+t+"</h3>"+"<p>"+n+"</p>"},m,g,y={stacked:p},b=null,w="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),S=function(){return c?180:0},x=250;t.stacked(p);r.orient("left").tickPadding(5).highlightZero(false).showMaxMin(false).tickFormat(function(e){return e});i.orient("bottom").tickFormat(d3.format(",.1f"));o.updateState(false);var T=function(s,o){var u=s.pos[0]+(o.offsetLeft||0),a=s.pos[1]+(o.offsetTop||0),f=r.tickFormat()(t.x()(s.point,s.pointIndex)),l=i.tickFormat()(t.y()(s.point,s.pointIndex)),c=v(s.series.key,f,l,s,e);n.tooltip.show([u,a],c,s.value<0?"e":"w",null,o)};t.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+u.left,e.pos[1]+u.top];E.tooltipShow(e)});t.dispatch.on("elementMouseout.tooltip",function(e){E.tooltipHide(e)});E.on("tooltipHide",function(){if(d)n.tooltip.cleanup()});e.dispatch=E;e.multibar=t;e.legend=s;e.xAxis=r;e.yAxis=i;d3.rebind(e,t,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","valueFormat","stacked","barColor");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return u;u.top=typeof t.top!="undefined"?t.top:u.top;u.right=typeof t.right!="undefined"?t.right:u.right;u.bottom=typeof t.bottom!="undefined"?t.bottom:u.bottom;u.left=typeof t.left!="undefined"?t.left:u.left;return e};e.width=function(t){if(!arguments.length)return a;a=t;return e};e.height=function(t){if(!arguments.length)return f;f=t;return e};e.color=function(t){if(!arguments.length)return l;l=n.utils.getColor(t);s.color(l);return e};e.showControls=function(t){if(!arguments.length)return c;c=t;return e};e.showLegend=function(t){if(!arguments.length)return h;h=t;return e};e.tooltip=function(t){if(!arguments.length)return v;v=t;return e};e.tooltips=function(t){if(!arguments.length)return d;d=t;return e};e.tooltipContent=function(t){if(!arguments.length)return v;v=t;return e};e.state=function(t){if(!arguments.length)return y;y=t;return e};e.defaultState=function(t){if(!arguments.length)return b;b=t;return e};e.noData=function(t){if(!arguments.length)return w;w=t;return e};e.transitionDuration=function(t){if(!arguments.length)return x;x=t;return e};return e};n.models.multiChart=function(){"use strict";function e(n){n.each(function(n){var a=d3.select(this),l=this;e.update=function(){a.transition().call(e)};e.container=this;var k=(i||parseInt(a.style("width"))||960)-t.left-t.right,L=(s||parseInt(a.style("height"))||400)-t.top-t.bottom;var A=n.filter(function(e){return!e.disabled&&e.type=="line"&&e.yAxis==1});var O=n.filter(function(e){return!e.disabled&&e.type=="line"&&e.yAxis==2});var M=n.filter(function(e){return!e.disabled&&e.type=="bar"&&e.yAxis==1});var _=n.filter(function(e){return!e.disabled&&e.type=="bar"&&e.yAxis==2});var D=n.filter(function(e){return!e.disabled&&e.type=="area"&&e.yAxis==1});var P=n.filter(function(e){return!e.disabled&&e.type=="area"&&e.yAxis==2});var H=n.filter(function(e){return!e.disabled&&e.yAxis==1}).map(function(e){return e.values.map(function(e,t){return{x:e.x,y:e.y}})});var B=n.filter(function(e){return!e.disabled&&e.yAxis==2}).map(function(e){return e.values.map(function(e,t){return{x:e.x,y:e.y}})});f.domain(d3.extent(d3.merge(H.concat(B)),function(e){return e.x})).range([0,k]);var j=a.selectAll("g.wrap.multiChart").data([n]);var F=j.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");F.append("g").attr("class","x axis");F.append("g").attr("class","y1 axis");F.append("g").attr("class","y2 axis");F.append("g").attr("class","lines1Wrap");F.append("g").attr("class","lines2Wrap");F.append("g").attr("class","bars1Wrap");F.append("g").attr("class","bars2Wrap");F.append("g").attr("class","stack1Wrap");F.append("g").attr("class","stack2Wrap");F.append("g").attr("class","legendWrap");var I=j.select("g");if(o){T.width(k/2);I.select(".legendWrap").datum(n.map(function(e){e.originalKey=e.originalKey===undefined?e.key:e.originalKey;e.key=e.originalKey+(e.yAxis==1?"":" (right axis)");return e})).call(T);if(t.top!=T.height()){t.top=T.height();L=(s||parseInt(a.style("height"))||400)-t.top-t.bottom}I.select(".legendWrap").attr("transform","translate("+k/2+","+ -t.top+")")}v.width(k).height(L).interpolate("monotone").color(n.map(function(e,t){return e.color||r[t%r.length]}).filter(function(e,t){return!n[t].disabled&&n[t].yAxis==1&&n[t].type=="line"}));m.width(k).height(L).interpolate("monotone").color(n.map(function(e,t){return e.color||r[t%r.length]}).filter(function(e,t){return!n[t].disabled&&n[t].yAxis==2&&n[t].type=="line"}));g.width(k).height(L).color(n.map(function(e,t){return e.color||r[t%r.length]}).filter(function(e,t){return!n[t].disabled&&n[t].yAxis==1&&n[t].type=="bar"}));y.width(k).height(L).color(n.map(function(e,t){return e.color||r[t%r.length]}).filter(function(e,t){return!n[t].disabled&&n[t].yAxis==2&&n[t].type=="bar"}));b.width(k).height(L).color(n.map(function(e,t){return e.color||r[t%r.length]}).filter(function(e,t){return!n[t].disabled&&n[t].yAxis==1&&n[t].type=="area"}));w.width(k).height(L).color(n.map(function(e,t){return e.color||r[t%r.length]}).filter(function(e,t){return!n[t].disabled&&n[t].yAxis==2&&n[t].type=="area"}));I.attr("transform","translate("+t.left+","+t.top+")");var q=I.select(".lines1Wrap").datum(A);var R=I.select(".bars1Wrap").datum(M);var U=I.select(".stack1Wrap").datum(D);var z=I.select(".lines2Wrap").datum(O);var W=I.select(".bars2Wrap").datum(_);var X=I.select(".stack2Wrap").datum(P);var V=D.length?D.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[];var $=P.length?P.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[];p.domain(c||d3.extent(d3.merge(H).concat(V),function(e){return e.y})).range([0,L]);d.domain(h||d3.extent(d3.merge(B).concat($),function(e){return e.y})).range([0,L]);v.yDomain(p.domain());g.yDomain(p.domain());b.yDomain(p.domain());m.yDomain(d.domain());y.yDomain(d.domain());w.yDomain(d.domain());if(D.length){d3.transition(U).call(b)}if(P.length){d3.transition(X).call(w)}if(M.length){d3.transition(R).call(g)}if(_.length){d3.transition(W).call(y)}if(A.length){d3.transition(q).call(v)}if(O.length){d3.transition(z).call(m)}E.ticks(k/100).tickSize(-L,0);I.select(".x.axis").attr("transform","translate(0,"+L+")");d3.transition(I.select(".x.axis")).call(E);S.ticks(L/36).tickSize(-k,0);d3.transition(I.select(".y1.axis")).call(S);x.ticks(L/36).tickSize(-k,0);d3.transition(I.select(".y2.axis")).call(x);I.select(".y2.axis").style("opacity",B.length?1:0).attr("transform","translate("+f.range()[1]+",0)");T.dispatch.on("stateChange",function(t){e.update()});N.on("tooltipShow",function(e){if(u)C(e,l.parentNode)})});return e}var t={top:30,right:20,bottom:50,left:60},r=d3.scale.category20().range(),i=null,s=null,o=true,u=true,a=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" at "+t+"</p>"},f,l,c,h;var f=d3.scale.linear(),p=d3.scale.linear(),d=d3.scale.linear(),v=n.models.line().yScale(p),m=n.models.line().yScale(d),g=n.models.multiBar().stacked(false).yScale(p),y=n.models.multiBar().stacked(false).yScale(d),b=n.models.stackedArea().yScale(p),w=n.models.stackedArea().yScale(d),E=n.models.axis().scale(f).orient("bottom").tickPadding(5),S=n.models.axis().scale(p).orient("left"),x=n.models.axis().scale(d).orient("right"),T=n.models.legend().height(30),N=d3.dispatch("tooltipShow","tooltipHide");var C=function(t,r){var i=t.pos[0]+(r.offsetLeft||0),s=t.pos[1]+(r.offsetTop||0),o=E.tickFormat()(v.x()(t.point,t.pointIndex)),u=(t.series.yAxis==2?x:S).tickFormat()(v.y()(t.point,t.pointIndex)),f=a(t.series.key,o,u,t,e);n.tooltip.show([i,s],f,undefined,undefined,r.offsetParent)};v.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top];N.tooltipShow(e)});v.dispatch.on("elementMouseout.tooltip",function(e){N.tooltipHide(e)});m.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top];N.tooltipShow(e)});m.dispatch.on("elementMouseout.tooltip",function(e){N.tooltipHide(e)});g.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top];N.tooltipShow(e)});g.dispatch.on("elementMouseout.tooltip",function(e){N.tooltipHide(e)});y.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top];N.tooltipShow(e)});y.dispatch.on("elementMouseout.tooltip",function(e){N.tooltipHide(e)});b.dispatch.on("tooltipShow",function(e){if(!Math.round(b.y()(e.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],N.tooltipShow(e)});b.dispatch.on("tooltipHide",function(e){N.tooltipHide(e)});w.dispatch.on("tooltipShow",function(e){if(!Math.round(w.y()(e.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],N.tooltipShow(e)});w.dispatch.on("tooltipHide",function(e){N.tooltipHide(e)});v.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top];N.tooltipShow(e)});v.dispatch.on("elementMouseout.tooltip",function(e){N.tooltipHide(e)});m.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top];N.tooltipShow(e)});m.dispatch.on("elementMouseout.tooltip",function(e){N.tooltipHide(e)});N.on("tooltipHide",function(){if(u)n.tooltip.cleanup()});e.dispatch=N;e.lines1=v;e.lines2=m;e.bars1=g;e.bars2=y;e.stack1=b;e.stack2=w;e.xAxis=E;e.yAxis1=S;e.yAxis2=x;e.options=n.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return getX;getX=t;v.x(t);g.x(t);return e};e.y=function(t){if(!arguments.length)return getY;getY=t;v.y(t);g.y(t);return e};e.yDomain1=function(t){if(!arguments.length)return c;c=t;return e};e.yDomain2=function(t){if(!arguments.length)return h;h=t;return e};e.margin=function(n){if(!arguments.length)return t;t=n;return e};e.width=function(t){if(!arguments.length)return i;i=t;return e};e.height=function(t){if(!arguments.length)return s;s=t;return e};e.color=function(t){if(!arguments.length)return r;r=t;T.color(t);return e};e.showLegend=function(t){if(!arguments.length)return o;o=t;return e};e.tooltips=function(t){if(!arguments.length)return u;u=t;return e};e.tooltipContent=function(t){if(!arguments.length)return a;a=t;return e};return e};n.models.ohlcBar=function(){"use strict";function e(n){n.each(function(e){var n=r-t.left-t.right,y=i-t.top-t.bottom,T=d3.select(this);o.domain(b||d3.extent(e[0].values.map(a).concat(d)));if(m)o.range(E||[n*.5/e[0].values.length,n*(e[0].values.length-.5)/e[0].values.length]);else o.range(E||[0,n]);u.domain(w||[d3.min(e[0].values.map(p).concat(v)),d3.max(e[0].values.map(h).concat(v))]).range(S||[y,0]);if(o.domain()[0]===o.domain()[1])o.domain()[0]?o.domain([o.domain()[0]-o.domain()[0]*.01,o.domain()[1]+o.domain()[1]*.01]):o.domain([-1,1]);if(u.domain()[0]===u.domain()[1])u.domain()[0]?u.domain([u.domain()[0]+u.domain()[0]*.01,u.domain()[1]-u.domain()[1]*.01]):u.domain([-1,1]);var N=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]);var C=N.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar");var k=C.append("defs");var L=C.append("g");var A=N.select("g");L.append("g").attr("class","nv-ticks");N.attr("transform","translate("+t.left+","+t.top+")");T.on("click",function(e,t){x.chartClick({data:e,index:t,pos:d3.event,id:s})});k.append("clipPath").attr("id","nv-chart-clip-path-"+s).append("rect");N.select("#nv-chart-clip-path-"+s+" rect").attr("width",n).attr("height",y);A.attr("clip-path",g?"url(#nv-chart-clip-path-"+s+")":"");var O=N.select(".nv-ticks").selectAll(".nv-tick").data(function(e){return e});O.exit().remove();var M=O.enter().append("path").attr("class",function(e,t,n){return(l(e,t)>c(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}).attr("d",function(t,r){var i=n/e[0].values.length*.9;return"m0,0l0,"+(u(l(t,r))-u(h(t,r)))+"l"+ -i/2+",0l"+i/2+",0l0,"+(u(p(t,r))-u(l(t,r)))+"l0,"+(u(c(t,r))-u(p(t,r)))+"l"+i/2+",0l"+ -i/2+",0z"}).attr("transform",function(e,t){return"translate("+o(a(e,t))+","+u(h(e,t))+")"}).on("mouseover",function(t,n){d3.select(this).classed("hover",true);x.elementMouseover({point:t,series:e[0],pos:[o(a(t,n)),u(f(t,n))],pointIndex:n,seriesIndex:0,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",false);x.elementMouseout({point:t,series:e[0],pointIndex:n,seriesIndex:0,e:d3.event})}).on("click",function(e,t){x.elementClick({value:f(e,t),data:e,index:t,pos:[o(a(e,t)),u(f(e,t))],e:d3.event,id:s});d3.event.stopPropagation()}).on("dblclick",function(e,t){x.elementDblClick({value:f(e,t),data:e,index:t,pos:[o(a(e,t)),u(f(e,t))],e:d3.event,id:s});d3.event.stopPropagation()});O.attr("class",function(e,t,n){return(l(e,t)>c(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t});d3.transition(O).attr("transform",function(e,t){return"translate("+o(a(e,t))+","+u(h(e,t))+")"}).attr("d",function(t,r){var i=n/e[0].values.length*.9;return"m0,0l0,"+(u(l(t,r))-u(h(t,r)))+"l"+ -i/2+",0l"+i/2+",0l0,"+(u(p(t,r))-u(l(t,r)))+"l0,"+(u(c(t,r))-u(p(t,r)))+"l"+i/2+",0l"+ -i/2+",0z"})});return e}var t={top:0,right:0,bottom:0,left:0},r=960,i=500,s=Math.floor(Math.random()*1e4),o=d3.scale.linear(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=function(e){return e.open},c=function(e){return e.close},h=function(e){return e.high},p=function(e){return e.low},d=[],v=[],m=false,g=true,y=n.utils.defaultColor(),b,w,E,S,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");e.dispatch=x;e.options=n.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return a;a=t;return e};e.y=function(t){if(!arguments.length)return f;f=t;return e};e.open=function(t){if(!arguments.length)return l;l=t;return e};e.close=function(t){if(!arguments.length)return c;c=t;return e};e.high=function(t){if(!arguments.length)return h;h=t;return e};e.low=function(t){if(!arguments.length)return p;p=t;return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.xScale=function(t){if(!arguments.length)return o;o=t;return e};e.yScale=function(t){if(!arguments.length)return u;u=t;return e};e.xDomain=function(t){if(!arguments.length)return b;b=t;return e};e.yDomain=function(t){if(!arguments.length)return w;w=t;return e};e.xRange=function(t){if(!arguments.length)return E;E=t;return e};e.yRange=function(t){if(!arguments.length)return S;S=t;return e};e.forceX=function(t){if(!arguments.length)return d;d=t;return e};e.forceY=function(t){if(!arguments.length)return v;v=t;return e};e.padData=function(t){if(!arguments.length)return m;m=t;return e};e.clipEdge=function(t){if(!arguments.length)return g;g=t;return e};e.color=function(t){if(!arguments.length)return y;y=n.utils.getColor(t);return e};e.id=function(t){if(!arguments.length)return s;s=t;return e};return e};n.models.pie=function(){"use strict";function e(n){n.each(function(e){function n(e){var t=(e.startAngle+e.endAngle)*90/Math.PI-90;return t>90?t-180:t}function u(e){e.endAngle=isNaN(e.endAngle)?0:e.endAngle;e.startAngle=isNaN(e.startAngle)?0:e.startAngle;if(!m)e.innerRadius=0;var t=d3.interpolate(this._current,e);this._current=t(0);return function(e){return M(t(e))}}function l(e){e.innerRadius=0;var t=d3.interpolate({startAngle:0,endAngle:0},e);return function(e){return M(t(e))}}var S=r-t.left-t.right,x=i-t.top-t.bottom,T=Math.min(S,x)/2,N=T-T/5,C=d3.select(this);var k=C.selectAll(".nv-wrap.nv-pie").data(e);var L=k.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+a);var A=L.append("g");var O=k.select("g");A.append("g").attr("class","nv-pie");k.attr("transform","translate("+t.left+","+t.top+")");O.select(".nv-pie").attr("transform","translate("+S/2+","+x/2+")");C.on("click",function(e,t){E.chartClick({data:e,index:t,pos:d3.event,id:a})});var M=d3.svg.arc().outerRadius(N);if(y)M.startAngle(y);if(b)M.endAngle(b);if(m)M.innerRadius(T*w);var _=d3.layout.pie().sort(null).value(function(e){return e.disabled?0:o(e)});var D=k.select(".nv-pie").selectAll(".nv-slice").data(_);D.exit().remove();var P=D.enter().append("g").attr("class","nv-slice").on("mouseover",function(e,t){d3.select(this).classed("hover",true);E.elementMouseover({label:s(e.data),value:o(e.data),point:e.data,pointIndex:t,pos:[d3.event.pageX,d3.event.pageY],id:a})}).on("mouseout",function(e,t){d3.select(this).classed("hover",false);E.elementMouseout({label:s(e.data),value:o(e.data),point:e.data,index:t,id:a})}).on("click",function(e,t){E.elementClick({label:s(e.data),value:o(e.data),point:e.data,index:t,pos:d3.event,id:a});d3.event.stopPropagation()}).on("dblclick",function(e,t){E.elementDblClick({label:s(e.data),value:o(e.data),point:e.data,index:t,pos:d3.event,id:a});d3.event.stopPropagation()});D.attr("fill",function(e,t){return f(e,t)}).attr("stroke",function(e,t){return f(e,t)});var H=P.append("path").each(function(e){this._current=e});d3.transition(D.select("path")).attr("d",M).attrTween("d",u);if(c){var B=d3.svg.arc().innerRadius(0);if(h){B=M}if(p){B=d3.svg.arc().outerRadius(M.outerRadius())}P.append("g").classed("nv-label",true).each(function(e,t){var n=d3.select(this);n.attr("transform",function(e){if(g){e.outerRadius=N+10;e.innerRadius=N+15;var t=(e.startAngle+e.endAngle)/2*(180/Math.PI);if((e.startAngle+e.endAngle)/2<Math.PI){t-=90}else{t+=90}return"translate("+B.centroid(e)+") rotate("+t+")"}else{e.outerRadius=T+10;e.innerRadius=T+15;return"translate("+B.centroid(e)+")"}});n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);n.append("text").style("text-anchor",g?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});D.select(".nv-label").transition().attr("transform",function(e){if(g){e.outerRadius=N+10;e.innerRadius=N+15;var t=(e.startAngle+e.endAngle)/2*(180/Math.PI);if((e.startAngle+e.endAngle)/2<Math.PI){t-=90}else{t+=90}return"translate("+B.centroid(e)+") rotate("+t+")"}else{e.outerRadius=T+10;e.innerRadius=T+15;return"translate("+B.centroid(e)+")"}});D.each(function(e,t){var n=d3.select(this);n.select(".nv-label text").style("text-anchor",g?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").text(function(e,t){var n=(e.endAngle-e.startAngle)/(2*Math.PI);var r={key:s(e.data),value:o(e.data),percent:d3.format("%")(n)};return e.value&&n>v?r[d]:""});var r=n.select("text").node().getBBox();n.select(".nv-label rect").attr("width",r.width+10).attr("height",r.height+10).attr("transform",function(){return"translate("+[r.x-5,r.y-5]+")"})})}});return e}var t={top:0,right:0,bottom:0,left:0},r=500,i=500,s=function(e){return e.x},o=function(e){return e.y},u=function(e){return e.description},a=Math.floor(Math.random()*1e4),f=n.utils.defaultColor(),l=d3.format(",.2f"),c=true,h=true,p=false,d="key",v=.02,m=false,g=false,y=false,b=false,w=.5,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");e.dispatch=E;e.options=n.utils.optionsFunc.bind(e);e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.values=function(t){n.log("pie.values() is no longer supported.");return e};e.x=function(t){if(!arguments.length)return s;s=t;return e};e.y=function(t){if(!arguments.length)return o;o=d3.functor(t);return e};e.description=function(t){if(!arguments.length)return u;u=t;return e};e.showLabels=function(t){if(!arguments.length)return c;c=t;return e};e.labelSunbeamLayout=function(t){if(!arguments.length)return g;g=t;return e};e.donutLabelsOutside=function(t){if(!arguments.length)return p;p=t;return e};e.pieLabelsOutside=function(t){if(!arguments.length)return h;h=t;return e};e.labelType=function(t){if(!arguments.length)return d;d=t;d=d||"key";return e};e.donut=function(t){if(!arguments.length)return m;m=t;return e};e.donutRatio=function(t){if(!arguments.length)return w;w=t;return e};e.startAngle=function(t){if(!arguments.length)return y;y=t;return e};e.endAngle=function(t){if(!arguments.length)return b;b=t;return e};e.id=function(t){if(!arguments.length)return a;a=t;return e};e.color=function(t){if(!arguments.length)return f;f=n.utils.getColor(t);return e};e.valueFormat=function(t){if(!arguments.length)return l;l=t;return e};e.labelThreshold=function(t){if(!arguments.length)return v;v=t;return e};return e};n.models.pieChart=function(){"use strict";function e(n){n.each(function(n){var a=d3.select(this),f=this;var l=(s||parseInt(a.style("width"))||960)-i.left-i.right,v=(o||parseInt(a.style("height"))||400)-i.top-i.bottom;e.update=function(){a.transition().call(e)};e.container=this;c.disabled=n.map(function(e){return!!e.disabled});if(!h){var m;h={};for(m in c){if(c[m]instanceof Array)h[m]=c[m].slice(0);else h[m]=c[m]}}if(!n||!n.length){var g=a.selectAll(".nv-noData").data([p]);g.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");g.attr("x",i.left+l/2).attr("y",i.top+v/2).text(function(e){return e});return e}else{a.selectAll(".nv-noData").remove()}var y=a.selectAll("g.nv-wrap.nv-pieChart").data([n]);var b=y.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g");var w=y.select("g");b.append("g").attr("class","nv-pieWrap");b.append("g").attr("class","nv-legendWrap");if(u){r.width(l).key(t.x());y.select(".nv-legendWrap").datum(n).call(r);if(i.top!=r.height()){i.top=r.height();v=(o||parseInt(a.style("height"))||400)-i.top-i.bottom}y.select(".nv-legendWrap").attr("transform","translate(0,"+ -i.top+")")}y.attr("transform","translate("+i.left+","+i.top+")");t.width(l).height(v);var E=w.select(".nv-pieWrap").datum([n]);d3.transition(E).call(t);r.dispatch.on("stateChange",function(t){c=t;d.stateChange(c);e.update()});t.dispatch.on("elementMouseout.tooltip",function(e){d.tooltipHide(e)});d.on("changeState",function(t){if(typeof t.disabled!=="undefined"){n.forEach(function(e,n){e.disabled=t.disabled[n]});c.disabled=t.disabled}e.update()})});return e}var t=n.models.pie(),r=n.models.legend();var i={top:30,right:20,bottom:20,left:20},s=null,o=null,u=true,a=n.utils.defaultColor(),f=true,l=function(e,t,n,r){return"<h3>"+e+"</h3>"+"<p>"+t+"</p>"},c={},h=null,p="No Data Available.",d=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");var v=function(r,i){var s=t.description()(r.point)||t.x()(r.point);var o=r.pos[0]+(i&&i.offsetLeft||0),u=r.pos[1]+(i&&i.offsetTop||0),a=t.valueFormat()(t.y()(r.point)),f=l(s,a,r,e);n.tooltip.show([o,u],f,r.value<0?"n":"s",null,i)};t.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+i.left,e.pos[1]+i.top];d.tooltipShow(e)});d.on("tooltipShow",function(e){if(f)v(e)});d.on("tooltipHide",function(){if(f)n.tooltip.cleanup()});e.legend=r;e.dispatch=d;e.pie=t;d3.rebind(e,t,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return i;i.top=typeof t.top!="undefined"?t.top:i.top;i.right=typeof t.right!="undefined"?t.right:i.right;i.bottom=typeof t.bottom!="undefined"?t.bottom:i.bottom;i.left=typeof t.left!="undefined"?t.left:i.left;return e};e.width=function(t){if(!arguments.length)return s;s=t;return e};e.height=function(t){if(!arguments.length)return o;o=t;return e};e.color=function(i){if(!arguments.length)return a;a=n.utils.getColor(i);r.color(a);t.color(a);return e};e.showLegend=function(t){if(!arguments.length)return u;u=t;return e};e.tooltips=function(t){if(!arguments.length)return f;f=t;return e};e.tooltipContent=function(t){if(!arguments.length)return l;l=t;return e};e.state=function(t){if(!arguments.length)return c;c=t;return e};e.defaultState=function(t){if(!arguments.length)return h;h=t;return e};e.noData=function(t){if(!arguments.length)return p;p=t;return e};return e};n.models.scatter=function(){"use strict";function e(q){q.each(function(e){function q(){if(!y)return false;var n;var s=d3.merge(e.map(function(e,t){return e.values.map(function(e,n){var r=l(e,n);var i=c(e,n);return[u(r)+Math.random()*1e-7,a(i)+Math.random()*1e-7,t,n,e]}).filter(function(e,t){return w(e[4],t)})}));if(P===true){if(T){var f=X.select("defs").selectAll(".nv-point-clips").data([o]).enter();f.append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+o);var h=X.select("#nv-points-clip-"+o).selectAll("circle").data(s);h.enter().append("circle").attr("r",N);h.exit().remove();h.attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]});X.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+o+")")}if(s.length){s.push([u.range()[0]-20,a.range()[0]-20,null,null]);s.push([u.range()[1]+20,a.range()[1]+20,null,null]);s.push([u.range()[0]-20,a.range()[0]+20,null,null]);s.push([u.range()[1]+20,a.range()[1]-20,null,null])}var p=d3.geom.polygon([[-10,-10],[-10,i+10],[r+10,i+10],[r+10,-10]]);var d=d3.geom.voronoi(s).map(function(e,t){return{data:p.clip(e),series:s[t][2],point:s[t][3]}});var v=X.select(".nv-point-paths").selectAll("path").data(d);v.enter().append("path").attr("class",function(e,t){return"nv-path-"+t});v.exit().remove();v.attr("d",function(e){if(e.data.length===0)return"M 0 0";else return"M"+e.data.join("L")+"Z"});var m=function(n,r){if(I)return 0;var i=e[n.series];if(typeof i==="undefined")return;var s=i.values[n.point];r({point:s,series:i,pos:[u(l(s,n.point))+t.left,a(c(s,n.point))+t.top],seriesIndex:n.series,pointIndex:n.point})};v.on("click",function(e){m(e,D.elementClick)}).on("mouseover",function(e){m(e,D.elementMouseover)}).on("mouseout",function(e,t){m(e,D.elementMouseout)})}else{X.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(n,r){if(I||!e[n.series])return 0;var i=e[n.series],s=i.values[r];D.elementClick({point:s,series:i,pos:[u(l(s,r))+t.left,a(c(s,r))+t.top],seriesIndex:n.series,pointIndex:r})}).on("mouseover",function(n,r){if(I||!e[n.series])return 0;var i=e[n.series],s=i.values[r];D.elementMouseover({point:s,series:i,pos:[u(l(s,r))+t.left,a(c(s,r))+t.top],seriesIndex:n.series,pointIndex:r})}).on("mouseout",function(t,n){if(I||!e[t.series])return 0;var r=e[t.series],i=r.values[n];D.elementMouseout({point:i,series:r,seriesIndex:t.series,pointIndex:n})})}I=false}var R=r-t.left-t.right,U=i-t.top-t.bottom,z=d3.select(this);e.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var W=C&&k&&O?[]:d3.merge(e.map(function(e){return e.values.map(function(e,t){return{x:l(e,t),y:c(e,t),size:h(e,t)}})}));u.domain(C||d3.extent(W.map(function(e){return e.x}).concat(v)));if(E&&e[0])u.range(L||[(R*S+R)/(2*e[0].values.length),R-R*(1+S)/(2*e[0].values.length)]);else u.range(L||[0,R]);a.domain(k||d3.extent(W.map(function(e){return e.y}).concat(m))).range(A||[U,0]);f.domain(O||d3.extent(W.map(function(e){return e.size}).concat(g))).range(M||[16,256]);if(u.domain()[0]===u.domain()[1]||a.domain()[0]===a.domain()[1])_=true;if(u.domain()[0]===u.domain()[1])u.domain()[0]?u.domain([u.domain()[0]-u.domain()[0]*.01,u.domain()[1]+u.domain()[1]*.01]):u.domain([-1,1]);if(a.domain()[0]===a.domain()[1])a.domain()[0]?a.domain([a.domain()[0]-a.domain()[0]*.01,a.domain()[1]+a.domain()[1]*.01]):a.domain([-1,1]);if(isNaN(u.domain()[0])){u.domain([-1,1])}if(isNaN(a.domain()[0])){a.domain([-1,1])}H=H||u;B=B||a;j=j||f;var X=z.selectAll("g.nv-wrap.nv-scatter").data([e]);var V=X.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+o+(_?" nv-single-point":""));var $=V.append("defs");var J=V.append("g");var K=X.select("g");J.append("g").attr("class","nv-groups");J.append("g").attr("class","nv-point-paths");X.attr("transform","translate("+t.left+","+t.top+")");$.append("clipPath").attr("id","nv-edge-clip-"+o).append("rect");X.select("#nv-edge-clip-"+o+" rect").attr("width",R).attr("height",U);K.attr("clip-path",x?"url(#nv-edge-clip-"+o+")":"");I=true;var Q=X.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});Q.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);Q.exit().remove();Q.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover});Q.transition().style("fill",function(e,t){return s(e,t)}).style("stroke",function(e,t){return s(e,t)}).style("stroke-opacity",1).style("fill-opacity",.5);if(d){var G=Q.selectAll("circle.nv-point").data(function(e){return e.values},b);G.enter().append("circle").style("fill",function(e,t){return e.color}).style("stroke",function(e,t){return e.color}).attr("cx",function(e,t){return n.utils.NaNtoZero(H(l(e,t)))}).attr("cy",function(e,t){return n.utils.NaNtoZero(B(c(e,t)))}).attr("r",function(e,t){return Math.sqrt(f(h(e,t))/Math.PI)});G.exit().remove();Q.exit().selectAll("path.nv-point").transition().attr("cx",function(e,t){return n.utils.NaNtoZero(u(l(e,t)))}).attr("cy",function(e,t){return n.utils.NaNtoZero(a(c(e,t)))}).remove();G.each(function(e,t){d3.select(this).classed("nv-point",true).classed("nv-point-"+t,true).classed("hover",false)});G.transition().attr("cx",function(e,t){return n.utils.NaNtoZero(u(l(e,t)))}).attr("cy",function(e,t){return n.utils.NaNtoZero(a(c(e,t)))}).attr("r",function(e,t){return Math.sqrt(f(h(e,t))/Math.PI)})}else{var G=Q.selectAll("path.nv-point").data(function(e){return e.values});G.enter().append("path").style("fill",function(e,t){return e.color}).style("stroke",function(e,t){return e.color}).attr("transform",function(e,t){return"translate("+H(l(e,t))+","+B(c(e,t))+")"}).attr("d",d3.svg.symbol().type(p).size(function(e,t){return f(h(e,t))}));G.exit().remove();Q.exit().selectAll("path.nv-point").transition().attr("transform",function(e,t){return"translate("+u(l(e,t))+","+a(c(e,t))+")"}).remove();G.each(function(e,t){d3.select(this).classed("nv-point",true).classed("nv-point-"+t,true).classed("hover",false)});G.transition().attr("transform",function(e,t){return"translate("+u(l(e,t))+","+a(c(e,t))+")"}).attr("d",d3.svg.symbol().type(p).size(function(e,t){return f(h(e,t))}))}clearTimeout(F);F=setTimeout(q,300);H=u.copy();B=a.copy();j=f.copy()});return e}var t={top:0,right:0,bottom:0,left:0},r=960,i=500,s=n.utils.defaultColor(),o=Math.floor(Math.random()*1e5),u=d3.scale.linear(),a=d3.scale.linear(),f=d3.scale.linear(),l=function(e){return e.x},c=function(e){return e.y},h=function(e){return e.size||1},p=function(e){return e.shape||"circle"},d=true,v=[],m=[],g=[],y=true,b=null,w=function(e){return!e.notActive},E=false,S=.1,x=false,T=true,N=function(){return 25},C=null,k=null,L=null,A=null,O=null,M=null,_=false,D=d3.dispatch("elementClick","elementMouseover","elementMouseout"),P=true;var H,B,j,F,I=false;e.clearHighlights=function(){d3.selectAll(".nv-chart-"+o+" .nv-point.hover").classed("hover",false)};e.highlightPoint=function(e,t,n){d3.select(".nv-chart-"+o+" .nv-series-"+e+" .nv-point-"+t).classed("hover",n)};D.on("elementMouseover.point",function(t){if(y)e.highlightPoint(t.seriesIndex,t.pointIndex,true)});D.on("elementMouseout.point",function(t){if(y)e.highlightPoint(t.seriesIndex,t.pointIndex,false)});e.dispatch=D;e.options=n.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return l;l=d3.functor(t);return e};e.y=function(t){if(!arguments.length)return c;c=d3.functor(t);return e};e.size=function(t){if(!arguments.length)return h;h=d3.functor(t);return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.xScale=function(t){if(!arguments.length)return u;u=t;return e};e.yScale=function(t){if(!arguments.length)return a;a=t;return e};e.zScale=function(t){if(!arguments.length)return f;f=t;return e};e.xDomain=function(t){if(!arguments.length)return C;C=t;return e};e.yDomain=function(t){if(!arguments.length)return k;k=t;return e};e.sizeDomain=function(t){if(!arguments.length)return O;O=t;return e};e.xRange=function(t){if(!arguments.length)return L;L=t;return e};e.yRange=function(t){if(!arguments.length)return A;A=t;return e};e.sizeRange=function(t){if(!arguments.length)return M;M=t;return e};e.forceX=function(t){if(!arguments.length)return v;v=t;return e};e.forceY=function(t){if(!arguments.length)return m;m=t;return e};e.forceSize=function(t){if(!arguments.length)return g;g=t;return e};e.interactive=function(t){if(!arguments.length)return y;y=t;return e};e.pointKey=function(t){if(!arguments.length)return b;b=t;return e};e.pointActive=function(t){if(!arguments.length)return w;w=t;return e};e.padData=function(t){if(!arguments.length)return E;E=t;return e};e.padDataOuter=function(t){if(!arguments.length)return S;S=t;return e};e.clipEdge=function(t){if(!arguments.length)return x;x=t;return e};e.clipVoronoi=function(t){if(!arguments.length)return T;T=t;return e};e.useVoronoi=function(t){if(!arguments.length)return P;P=t;if(P===false){T=false}return e};e.clipRadius=function(t){if(!arguments.length)return N;N=t;return e};e.color=function(t){if(!arguments.length)return s;s=n.utils.getColor(t);return e};e.shape=function(t){if(!arguments.length)return p;p=t;return e};e.onlyCircles=function(t){if(!arguments.length)return d;d=t;return e};e.id=function(t){if(!arguments.length)return o;o=t;return e};e.singlePoint=function(t){if(!arguments.length)return _;_=t;return e};return e};n.models.scatterChart=function(){"use strict";function e(n){n.each(function(n){function k(){if(N){V.select(".nv-point-paths").style("pointer-events","all");return false}V.select(".nv-point-paths").style("pointer-events","none");var e=d3.mouse(this);p.distortion(T).focus(e[0]);d.distortion(T).focus(e[1]);V.select(".nv-scatterWrap").call(t);if(w)V.select(".nv-x.nv-axis").call(r);if(E)V.select(".nv-y.nv-axis").call(i);V.select(".nv-distributionX").datum(n.filter(function(e){return!e.disabled})).call(u);V.select(".nv-distributionY").datum(n.filter(function(e){return!e.disabled})).call(a)}var L=d3.select(this),A=this;var I=(l||parseInt(L.style("width"))||960)-f.left-f.right,q=(c||parseInt(L.style("height"))||400)-f.top-f.bottom;e.update=function(){L.transition().duration(P).call(e)};e.container=this;O.disabled=n.map(function(e){return!!e.disabled});if(!M){var R;M={};for(R in O){if(O[R]instanceof Array)M[R]=O[R].slice(0);else M[R]=O[R]}}if(!n||!n.length||!n.filter(function(e){return e.values.length}).length){var U=L.selectAll(".nv-noData").data([D]);U.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");U.attr("x",f.left+I/2).attr("y",f.top+q/2).text(function(e){return e});return e}else{L.selectAll(".nv-noData").remove()}H=H||p;B=B||d;var z=L.selectAll("g.nv-wrap.nv-scatterChart").data([n]);var W=z.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id());var X=W.append("g");var V=z.select("g");X.append("rect").attr("class","nvd3 nv-background");X.append("g").attr("class","nv-x nv-axis");X.append("g").attr("class","nv-y nv-axis");X.append("g").attr("class","nv-scatterWrap");X.append("g").attr("class","nv-distWrap");X.append("g").attr("class","nv-legendWrap");X.append("g").attr("class","nv-controlsWrap");if(b){var $=x?I/2:I;s.width($);z.select(".nv-legendWrap").datum(n).call(s);if(f.top!=s.height()){f.top=s.height();q=(c||parseInt(L.style("height"))||400)-f.top-f.bottom}z.select(".nv-legendWrap").attr("transform","translate("+(I-$)+","+ -f.top+")")}if(x){o.width(180).color(["#444"]);V.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+ -f.top+")").call(o)}z.attr("transform","translate("+f.left+","+f.top+")");if(S){V.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)")}t.width(I).height(q).color(n.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!n[t].disabled}));if(v!==0)t.xDomain(null);if(m!==0)t.yDomain(null);z.select(".nv-scatterWrap").datum(n.filter(function(e){return!e.disabled})).call(t);if(v!==0){var J=p.domain()[1]-p.domain()[0];t.xDomain([p.domain()[0]-v*J,p.domain()[1]+v*J])}if(m!==0){var K=d.domain()[1]-d.domain()[0];t.yDomain([d.domain()[0]-m*K,d.domain()[1]+m*K])}if(m!==0||v!==0){z.select(".nv-scatterWrap").datum(n.filter(function(e){return!e.disabled})).call(t)}if(w){r.scale(p).ticks(r.ticks()&&r.ticks().length?r.ticks():I/100).tickSize(-q,0);V.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")").call(r)}if(E){i.scale(d).ticks(i.ticks()&&i.ticks().length?i.ticks():q/36).tickSize(-I,0);V.select(".nv-y.nv-axis").call(i)}if(g){u.getData(t.x()).scale(p).width(I).color(n.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!n[t].disabled}));X.select(".nv-distWrap").append("g").attr("class","nv-distributionX");V.select(".nv-distributionX").attr("transform","translate(0,"+d.range()[0]+")").datum(n.filter(function(e){return!e.disabled})).call(u)}if(y){a.getData(t.y()).scale(d).width(q).color(n.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!n[t].disabled}));X.select(".nv-distWrap").append("g").attr("class","nv-distributionY");V.select(".nv-distributionY").attr("transform","translate("+(S?I:-a.size())+",0)").datum(n.filter(function(e){return!e.disabled})).call(a)}if(d3.fisheye){V.select(".nv-background").attr("width",I).attr("height",q);V.select(".nv-background").on("mousemove",k);V.select(".nv-background").on("click",function(){N=!N});t.dispatch.on("elementClick.freezeFisheye",function(){N=!N})}o.dispatch.on("legendClick",function(n,s){n.disabled=!n.disabled;T=n.disabled?0:2.5;V.select(".nv-background").style("pointer-events",n.disabled?"none":"all");V.select(".nv-point-paths").style("pointer-events",n.disabled?"all":"none");if(n.disabled){p.distortion(T).focus(0);d.distortion(T).focus(0);V.select(".nv-scatterWrap").call(t);V.select(".nv-x.nv-axis").call(r);V.select(".nv-y.nv-axis").call(i)}else{N=false}e.update()});s.dispatch.on("stateChange",function(t){O.disabled=t.disabled;_.stateChange(O);e.update()});t.dispatch.on("elementMouseover.tooltip",function(e){d3.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",function(t,n){return e.pos[1]-q});d3.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.pos[0]+u.size());e.pos=[e.pos[0]+f.left,e.pos[1]+f.top];_.tooltipShow(e)});_.on("tooltipShow",function(e){if(C)j(e,A.parentNode)});_.on("changeState",function(t){if(typeof t.disabled!=="undefined"){n.forEach(function(e,n){e.disabled=t.disabled[n]});O.disabled=t.disabled}e.update()});H=p.copy();B=d.copy()});return e}var t=n.models.scatter(),r=n.models.axis(),i=n.models.axis(),s=n.models.legend(),o=n.models.legend(),u=n.models.distribution(),a=n.models.distribution();var f={top:30,right:20,bottom:50,left:75},l=null,c=null,h=n.utils.defaultColor(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.xScale(),d=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.yScale(),v=0,m=0,g=false,y=false,b=true,w=true,E=true,S=false,x=!!d3.fisheye,T=0,N=false,C=true,k=function(e,t,n){return"<strong>"+t+"</strong>"},L=function(e,t,n){return"<strong>"+n+"</strong>"},A=null,O={},M=null,_=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),D="No Data Available.",P=250;t.xScale(p).yScale(d);r.orient("bottom").tickPadding(10);i.orient(S?"right":"left").tickPadding(10);u.axis("x");a.axis("y");o.updateState(false);var H,B;var j=function(s,o){var u=s.pos[0]+(o.offsetLeft||0),a=s.pos[1]+(o.offsetTop||0),l=s.pos[0]+(o.offsetLeft||0),c=d.range()[0]+f.top+(o.offsetTop||0),h=p.range()[0]+f.left+(o.offsetLeft||0),v=s.pos[1]+(o.offsetTop||0),m=r.tickFormat()(t.x()(s.point,s.pointIndex)),g=i.tickFormat()(t.y()(s.point,s.pointIndex));if(k!=null)n.tooltip.show([l,c],k(s.series.key,m,g,s,e),"n",1,o,"x-nvtooltip");if(L!=null)n.tooltip.show([h,v],L(s.series.key,m,g,s,e),"e",1,o,"y-nvtooltip");if(A!=null)n.tooltip.show([u,a],A(s.series.key,m,g,s,e),s.value<0?"n":"s",null,o)};var F=[{key:"Magnify",disabled:true}];t.dispatch.on("elementMouseout.tooltip",function(e){_.tooltipHide(e);d3.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0);d3.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",a.size())});_.on("tooltipHide",function(){if(C)n.tooltip.cleanup()});e.dispatch=_;e.scatter=t;e.legend=s;e.controls=o;e.xAxis=r;e.yAxis=i;e.distX=u;e.distY=a;d3.rebind(e,t,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return f;f.top=typeof t.top!="undefined"?t.top:f.top;f.right=typeof t.right!="undefined"?t.right:f.right;f.bottom=typeof t.bottom!="undefined"?t.bottom:f.bottom;f.left=typeof t.left!="undefined"?t.left:f.left;return e};e.width=function(t){if(!arguments.length)return l;l=t;return e};e.height=function(t){if(!arguments.length)return c;c=t;return e};e.color=function(t){if(!arguments.length)return h;h=n.utils.getColor(t);s.color(h);u.color(h);a.color(h);return e};e.showDistX=function(t){if(!arguments.length)return g;g=t;return e};e.showDistY=function(t){if(!arguments.length)return y;y=t;return e};e.showControls=function(t){if(!arguments.length)return x;x=t;return e};e.showLegend=function(t){if(!arguments.length)return b;b=t;return e};e.showXAxis=function(t){if(!arguments.length)return w;w=t;return e};e.showYAxis=function(t){if(!arguments.length)return E;E=t;return e};e.rightAlignYAxis=function(t){if(!arguments.length)return S;S=t;i.orient(t?"right":"left");return e};e.fisheye=function(t){if(!arguments.length)return T;T=t;return e};e.xPadding=function(t){if(!arguments.length)return v;v=t;return e};e.yPadding=function(t){if(!arguments.length)return m;m=t;return e};e.tooltips=function(t){if(!arguments.length)return C;C=t;return e};e.tooltipContent=function(t){if(!arguments.length)return A;A=t;return e};e.tooltipXContent=function(t){if(!arguments.length)return k;k=t;return e};e.tooltipYContent=function(t){if(!arguments.length)return L;L=t;return e};e.state=function(t){if(!arguments.length)return O;O=t;return e};e.defaultState=function(t){if(!arguments.length)return M;M=t;return e};e.noData=function(t){if(!arguments.length)return D;D=t;return e};e.transitionDuration=function(t){if(!arguments.length)return P;P=t;return e};return e};n.models.scatterPlusLineChart=function(){"use strict";function e(n){n.each(function(n){function N(){if(x){W.select(".nv-point-paths").style("pointer-events","all");return false}W.select(".nv-point-paths").style("pointer-events","none");var e=d3.mouse(this);p.distortion(S).focus(e[0]);d.distortion(S).focus(e[1]);W.select(".nv-scatterWrap").datum(n.filter(function(e){return!e.disabled})).call(t);if(y)W.select(".nv-x.nv-axis").call(r);if(b)W.select(".nv-y.nv-axis").call(i);W.select(".nv-distributionX").datum(n.filter(function(e){return!e.disabled})).call(u);W.select(".nv-distributionY").datum(n.filter(function(e){return!e.disabled})).call(a)}var C=d3.select(this),k=this;var j=(l||parseInt(C.style("width"))||960)-f.left-f.right,F=(c||parseInt(C.style("height"))||400)-f.top-f.bottom;e.update=function(){C.transition().duration(_).call(e)};e.container=this;L.disabled=n.map(function(e){return!!e.disabled});if(!A){var I;A={};for(I in L){if(L[I]instanceof Array)A[I]=L[I].slice(0);else A[I]=L[I]}}if(!n||!n.length||!n.filter(function(e){return e.values.length}).length){var q=C.selectAll(".nv-noData").data([M]);q.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");q.attr("x",f.left+j/2).attr("y",f.top+F/2).text(function(e){return e});return e}else{C.selectAll(".nv-noData").remove()}p=t.xScale();d=t.yScale();D=D||p;P=P||d;var R=C.selectAll("g.nv-wrap.nv-scatterChart").data([n]);var U=R.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id());var z=U.append("g");var W=R.select("g");z.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");z.append("g").attr("class","nv-x nv-axis");z.append("g").attr("class","nv-y nv-axis");z.append("g").attr("class","nv-scatterWrap");z.append("g").attr("class","nv-regressionLinesWrap");z.append("g").attr("class","nv-distWrap");z.append("g").attr("class","nv-legendWrap");z.append("g").attr("class","nv-controlsWrap");R.attr("transform","translate("+f.left+","+f.top+")");if(w){W.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)")}if(g){s.width(j/2);R.select(".nv-legendWrap").datum(n).call(s);if(f.top!=s.height()){f.top=s.height();F=(c||parseInt(C.style("height"))||400)-f.top-f.bottom}R.select(".nv-legendWrap").attr("transform","translate("+j/2+","+ -f.top+")")}if(E){o.width(180).color(["#444"]);W.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+ -f.top+")").call(o)}t.width(j).height(F).color(n.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!n[t].disabled}));R.select(".nv-scatterWrap").datum(n.filter(function(e){return!e.disabled})).call(t);R.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var X=R.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(e){return e});X.enter().append("g").attr("class","nv-regLines");var V=X.selectAll(".nv-regLine").data(function(e){return[e]});var $=V.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);V.transition().attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(e,t){return d(p.domain()[0]*e.slope+e.intercept)}).attr("y2",function(e,t){return d(p.domain()[1]*e.slope+e.intercept)}).style("stroke",function(e,t,n){return h(e,n)}).style("stroke-opacity",function(e,t){return e.disabled||typeof e.slope==="undefined"||typeof e.intercept==="undefined"?0:1});if(y){r.scale(p).ticks(r.ticks()?r.ticks():j/100).tickSize(-F,0);W.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")").call(r)}if(b){i.scale(d).ticks(i.ticks()?i.ticks():F/36).tickSize(-j,0);W.select(".nv-y.nv-axis").call(i)}if(v){u.getData(t.x()).scale(p).width(j).color(n.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!n[t].disabled}));z.select(".nv-distWrap").append("g").attr("class","nv-distributionX");W.select(".nv-distributionX").attr("transform","translate(0,"+d.range()[0]+")").datum(n.filter(function(e){return!e.disabled})).call(u)}if(m){a.getData(t.y()).scale(d).width(F).color(n.map(function(e,t){return e.color||h(e,t)}).filter(function(e,t){return!n[t].disabled}));z.select(".nv-distWrap").append("g").attr("class","nv-distributionY");W.select(".nv-distributionY").attr("transform","translate("+(w?j:-a.size())+",0)").datum(n.filter(function(e){return!e.disabled})).call(a)}if(d3.fisheye){W.select(".nv-background").attr("width",j).attr("height",F);W.select(".nv-background").on("mousemove",N);W.select(".nv-background").on("click",function(){x=!x});t.dispatch.on("elementClick.freezeFisheye",function(){x=!x})}o.dispatch.on("legendClick",function(n,s){n.disabled=!n.disabled;S=n.disabled?0:2.5;W.select(".nv-background").style("pointer-events",n.disabled?"none":"all");W.select(".nv-point-paths").style("pointer-events",n.disabled?"all":"none");if(n.disabled){p.distortion(S).focus(0);d.distortion(S).focus(0);W.select(".nv-scatterWrap").call(t);W.select(".nv-x.nv-axis").call(r);W.select(".nv-y.nv-axis").call(i)}else{x=false}e.update()});s.dispatch.on("stateChange",function(t){L=t;O.stateChange(L);e.update()});t.dispatch.on("elementMouseover.tooltip",function(e){d3.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.pos[1]-F);d3.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.pos[0]+u.size());e.pos=[e.pos[0]+f.left,e.pos[1]+f.top];O.tooltipShow(e)});O.on("tooltipShow",function(e){if(T)H(e,k.parentNode)});O.on("changeState",function(t){if(typeof t.disabled!=="undefined"){n.forEach(function(e,n){e.disabled=t.disabled[n]});L.disabled=t.disabled}e.update()});D=p.copy();P=d.copy()});return e}var t=n.models.scatter(),r=n.models.axis(),i=n.models.axis(),s=n.models.legend(),o=n.models.legend(),u=n.models.distribution(),a=n.models.distribution();var f={top:30,right:20,bottom:50,left:75},l=null,c=null,h=n.utils.defaultColor(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.xScale(),d=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.yScale(),v=false,m=false,g=true,y=true,b=true,w=false,E=!!d3.fisheye,S=0,x=false,T=true,N=function(e,t,n){return"<strong>"+t+"</strong>"},C=function(e,t,n){return"<strong>"+n+"</strong>"},k=function(e,t,n,r){return"<h3>"+e+"</h3>"+"<p>"+r+"</p>"},L={},A=null,O=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),M="No Data Available.",_=250;t.xScale(p).yScale(d);r.orient("bottom").tickPadding(10);i.orient(w?"right":"left").tickPadding(10);u.axis("x");a.axis("y");o.updateState(false);var D,P;var H=function(s,o){var u=s.pos[0]+(o.offsetLeft||0),a=s.pos[1]+(o.offsetTop||0),l=s.pos[0]+(o.offsetLeft||0),c=d.range()[0]+f.top+(o.offsetTop||0),h=p.range()[0]+f.left+(o.offsetLeft||0),v=s.pos[1]+(o.offsetTop||0),m=r.tickFormat()(t.x()(s.point,s.pointIndex)),g=i.tickFormat()(t.y()(s.point,s.pointIndex));if(N!=null)n.tooltip.show([l,c],N(s.series.key,m,g,s,e),"n",1,o,"x-nvtooltip");if(C!=null)n.tooltip.show([h,v],C(s.series.key,m,g,s,e),"e",1,o,"y-nvtooltip");if(k!=null)n.tooltip.show([u,a],k(s.series.key,m,g,s.point.tooltip,s,e),s.value<0?"n":"s",null,o)};var B=[{key:"Magnify",disabled:true}];t.dispatch.on("elementMouseout.tooltip",function(e){O.tooltipHide(e);d3.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0);d3.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",a.size())});O.on("tooltipHide",function(){if(T)n.tooltip.cleanup()});e.dispatch=O;e.scatter=t;e.legend=s;e.controls=o;e.xAxis=r;e.yAxis=i;e.distX=u;e.distY=a;d3.rebind(e,t,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return f;f.top=typeof t.top!="undefined"?t.top:f.top;f.right=typeof t.right!="undefined"?t.right:f.right;f.bottom=typeof t.bottom!="undefined"?t.bottom:f.bottom;f.left=typeof t.left!="undefined"?t.left:f.left;return e};e.width=function(t){if(!arguments.length)return l;l=t;return e};e.height=function(t){if(!arguments.length)return c;c=t;return e};e.color=function(t){if(!arguments.length)return h;h=n.utils.getColor(t);s.color(h);u.color(h);a.color(h);return e};e.showDistX=function(t){if(!arguments.length)return v;v=t;return e};e.showDistY=function(t){if(!arguments.length)return m;m=t;return e};e.showControls=function(t){if(!arguments.length)return E;E=t;return e};e.showLegend=function(t){if(!arguments.length)return g;g=t;return e};e.showXAxis=function(t){if(!arguments.length)return y;y=t;return e};e.showYAxis=function(t){if(!arguments.length)return b;b=t;return e};e.rightAlignYAxis=function(t){if(!arguments.length)return w;w=t;i.orient(t?"right":"left");return e};e.fisheye=function(t){if(!arguments.length)return S;S=t;return e};e.tooltips=function(t){if(!arguments.length)return T;T=t;return e};e.tooltipContent=function(t){if(!arguments.length)return k;k=t;return e};e.tooltipXContent=function(t){if(!arguments.length)return N;N=t;return e};e.tooltipYContent=function(t){if(!arguments.length)return C;C=t;return e};e.state=function(t){if(!arguments.length)return L;L=t;return e};e.defaultState=function(t){if(!arguments.length)return A;A=t;return e};e.noData=function(t){if(!arguments.length)return M;M=t;return e};e.transitionDuration=function(t){if(!arguments.length)return _;_=t;return e};return e};n.models.sparkline=function(){"use strict";function e(n){n.each(function(e){var n=r-t.left-t.right,s=i-t.top-t.bottom,v=d3.select(this);o.domain(c||d3.extent(e,a)).range(p||[0,n]);u.domain(h||d3.extent(e,f)).range(d||[s,0]);var m=v.selectAll("g.nv-wrap.nv-sparkline").data([e]);var g=m.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");var y=g.append("g");var b=m.select("g");m.attr("transform","translate("+t.left+","+t.top+")");var w=m.selectAll("path").data(function(e){return[e]});w.enter().append("path");w.exit().remove();w.style("stroke",function(e,t){return e.color||l(e,t)}).attr("d",d3.svg.line().x(function(e,t){return o(a(e,t))}).y(function(e,t){return u(f(e,t))}));var E=m.selectAll("circle.nv-point").data(function(e){function t(t){if(t!=-1){var n=e[t];n.pointIndex=t;return n}else{return null}}var n=e.map(function(e,t){return f(e,t)});var r=t(n.lastIndexOf(u.domain()[1])),i=t(n.indexOf(u.domain()[0])),s=t(n.length-1);return[i,r,s].filter(function(e){return e!=null})});E.enter().append("circle");E.exit().remove();E.attr("cx",function(e,t){return o(a(e,e.pointIndex))}).attr("cy",function(e,t){return u(f(e,e.pointIndex))}).attr("r",2).attr("class",function(e,t){return a(e,e.pointIndex)==o.domain()[1]?"nv-point nv-currentValue":f(e,e.pointIndex)==u.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return e}var t={top:2,right:0,bottom:2,left:0},r=400,i=32,s=true,o=d3.scale.linear(),u=d3.scale.linear(),a=function(e){return e.x},f=function(e){return e.y},l=n.utils.getColor(["#000"]),c,h,p,d;e.options=n.utils.optionsFunc.bind(e);e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.x=function(t){if(!arguments.length)return a;a=d3.functor(t);return e};e.y=function(t){if(!arguments.length)return f;f=d3.functor(t);return e};e.xScale=function(t){if(!arguments.length)return o;o=t;return e};e.yScale=function(t){if(!arguments.length)return u;u=t;return e};e.xDomain=function(t){if(!arguments.length)return c;c=t;return e};e.yDomain=function(t){if(!arguments.length)return h;h=t;return e};e.xRange=function(t){if(!arguments.length)return p;p=t;return e};e.yRange=function(t){if(!arguments.length)return d;d=t;return e};e.animate=function(t){if(!arguments.length)return s;s=t;return e};e.color=function(t){if(!arguments.length)return l;l=n.utils.getColor(t);return e};return e};n.models.sparklinePlus=function(){"use strict";function e(n){n.each(function(h){function m(){if(f)return;var e=C.selectAll(".nv-hoverValue").data(a);var n=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();e.attr("transform",function(e){return"translate("+o(t.x()(h[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(!a.length)return;n.append("line").attr("x1",0).attr("y1",-r.top).attr("x2",0).attr("y2",w);n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-r.top).attr("text-anchor","end").attr("dy",".9em");C.select(".nv-hoverValue .nv-xValue").text(l(t.x()(h[a[0]],a[0])));n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-r.top).attr("text-anchor","start").attr("dy",".9em");C.select(".nv-hoverValue .nv-yValue").text(c(t.y()(h[a[0]],a[0])))}function g(){function e(e,n){var r=Math.abs(t.x()(e[0],0)-n);var i=0;for(var s=0;s<e.length;s++){if(Math.abs(t.x()(e[s],s)-n)<r){r=Math.abs(t.x()(e[s],s)-n);i=s}}return i}if(f)return;var n=d3.mouse(this)[0]-r.left;a=[e(h,Math.round(o.invert(n)))];m()}var y=d3.select(this);var b=(i||parseInt(y.style("width"))||960)-r.left-r.right,w=(s||parseInt(y.style("height"))||400)-r.top-r.bottom;e.update=function(){e(n)};e.container=this;if(!h||!h.length){var E=y.selectAll(".nv-noData").data([v]);E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");E.attr("x",r.left+b/2).attr("y",r.top+w/2).text(function(e){return e});return e}else{y.selectAll(".nv-noData").remove()}var S=t.y()(h[h.length-1],h.length-1);o=t.xScale();u=t.yScale();var x=y.selectAll("g.nv-wrap.nv-sparklineplus").data([h]);var T=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus");var N=T.append("g");var C=x.select("g");N.append("g").attr("class","nv-sparklineWrap");N.append("g").attr("class","nv-valueWrap");N.append("g").attr("class","nv-hoverArea");x.attr("transform","translate("+r.left+","+r.top+")");var k=C.select(".nv-sparklineWrap");t.width(b).height(w);k.call(t);var L=C.select(".nv-valueWrap");var A=L.selectAll(".nv-currentValue").data([S]);A.enter().append("text").attr("class","nv-currentValue").attr("dx",d?-8:8).attr("dy",".9em").style("text-anchor",d?"end":"start");A.attr("x",b+(d?r.right:0)).attr("y",p?function(e){return u(e)}:0).style("fill",t.color()(h[h.length-1],h.length-1)).text(c(S));N.select(".nv-hoverArea").append("rect").on("mousemove",g).on("click",function(){f=!f}).on("mouseout",function(){a=[];m()});C.select(".nv-hoverArea rect").attr("transform",function(e){return"translate("+ -r.left+","+ -r.top+")"}).attr("width",b+r.left+r.right).attr("height",w+r.top)});return e}var t=n.models.sparkline();var r={top:15,right:100,bottom:10,left:50},i=null,s=null,o,u,a=[],f=false,l=d3.format(",r"),c=d3.format(",.2f"),h=true,p=true,d=false,v="No Data Available.";e.sparkline=t;d3.rebind(e,t,"x","y","xScale","yScale","color");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return r;r.top=typeof t.top!="undefined"?t.top:r.top;r.right=typeof t.right!="undefined"?t.right:r.right;r.bottom=typeof t.bottom!="undefined"?t.bottom:r.bottom;r.left=typeof t.left!="undefined"?t.left:r.left;return e};e.width=function(t){if(!arguments.length)return i;i=t;return e};e.height=function(t){if(!arguments.length)return s;s=t;return e};e.xTickFormat=function(t){if(!arguments.length)return l;l=t;return e};e.yTickFormat=function(t){if(!arguments.length)return c;c=t;return e};e.showValue=function(t){if(!arguments.length)return h;h=t;return e};e.alignValue=function(t){if(!arguments.length)return p;p=t;return e};e.rightAlignValue=function(t){if(!arguments.length)return d;d=t;return e};e.noData=function(t){if(!arguments.length)return v;v=t;return e};return e};n.models.stackedArea=function(){"use strict";function e(n){n.each(function(e){var n=r-t.left-t.right,f=i-t.top-t.bottom,y=d3.select(this);d=m.xScale();v=m.yScale();e=e.map(function(e,t){e.seriesIndex=t;e.values=e.values.map(function(e,n){e.index=n;e.seriesIndex=t;return e});return e});var b=e.filter(function(e){return!e.disabled});e=d3.layout.stack().order(c).offset(l).values(function(e){return e.values}).x(u).y(a).out(function(e,t,n){var r=a(e)===0?0:n;e.display={y:r,y0:t}})(b);var w=y.selectAll("g.nv-wrap.nv-stackedarea").data([e]);var E=w.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea");var S=E.append("defs");var x=E.append("g");var T=w.select("g");x.append("g").attr("class","nv-areaWrap");x.append("g").attr("class","nv-scatterWrap");w.attr("transform","translate("+t.left+","+t.top+")");m.width(n).height(f).x(u).y(function(e){return e.display.y+e.display.y0}).forceY([0]).color(e.map(function(e,t){return e.color||s(e,e.seriesIndex)}));var N=T.select(".nv-scatterWrap").datum(e);N.call(m);S.append("clipPath").attr("id","nv-edge-clip-"+o).append("rect");w.select("#nv-edge-clip-"+o+" rect").attr("width",n).attr("height",f);T.attr("clip-path",p?"url(#nv-edge-clip-"+o+")":"");var C=d3.svg.area().x(function(e,t){return d(u(e,t))}).y0(function(e){return v(e.display.y0)}).y1(function(e){return v(e.display.y+e.display.y0)}).interpolate(h);var k=d3.svg.area().x(function(e,t){return d(u(e,t))}).y0(function(e){return v(e.display.y0)}).y1(function(e){return v(e.display.y0)});var L=T.select(".nv-areaWrap").selectAll("path.nv-area").data(function(e){return e});L.enter().append("path").attr("class",function(e,t){return"nv-area nv-area-"+t}).attr("d",function(e,t){return k(e.values,e.seriesIndex)}).on("mouseover",function(e,t){d3.select(this).classed("hover",true);g.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t})}).on("mouseout",function(e,t){d3.select(this).classed("hover",false);g.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t})}).on("click",function(e,t){d3.select(this).classed("hover",false);g.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t})});L.exit().transition().attr("d",function(e,t){return k(e.values,t)}).remove();L.style("fill",function(e,t){return e.color||s(e,e.seriesIndex)}).style("stroke",function(e,t){return e.color||s(e,e.seriesIndex)});L.transition().attr("d",function(e,t){return C(e.values,t)});m.dispatch.on("elementMouseover.area",function(e){T.select(".nv-chart-"+o+" .nv-area-"+e.seriesIndex).classed("hover",true)});m.dispatch.on("elementMouseout.area",function(e){T.select(".nv-chart-"+o+" .nv-area-"+e.seriesIndex).classed("hover",false)})});return e}var t={top:0,right:0,bottom:0,left:0},r=960,i=500,s=n.utils.defaultColor(),o=Math.floor(Math.random()*1e5),u=function(e){return e.x},a=function(e){return e.y},f="stack",l="zero",c="default",h="linear",p=false,d,v,m=n.models.scatter(),g=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");m.size(2.2).sizeDomain([2.2,2.2]);m.dispatch.on("elementClick.area",function(e){g.areaClick(e)});m.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],g.tooltipShow(e)});m.dispatch.on("elementMouseout.tooltip",function(e){g.tooltipHide(e)});e.dispatch=g;e.scatter=m;d3.rebind(e,m,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights");e.options=n.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return u;u=d3.functor(t);return e};e.y=function(t){if(!arguments.length)return a;a=d3.functor(t);return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.clipEdge=function(t){if(!arguments.length)return p;p=t;return e};e.color=function(t){if(!arguments.length)return s;s=n.utils.getColor(t);return e};e.offset=function(t){if(!arguments.length)return l;l=t;return e};e.order=function(t){if(!arguments.length)return c;c=t;return e};e.style=function(t){if(!arguments.length)return f;f=t;switch(f){case"stack":e.offset("zero");e.order("default");break;case"stream":e.offset("wiggle");e.order("inside-out");break;case"stream-center":e.offset("silhouette");e.order("inside-out");break;case"expand":e.offset("expand");e.order("default");break}return e};e.interpolate=function(t){if(!arguments.length)return h;h=t;return e};return e};n.models.stackedAreaChart=function(){"use strict";function e(b){b.each(function(b){var M=d3.select(this),_=this;var D=(f||parseInt(M.style("width"))||960)-a.left-a.right,P=(l||parseInt(M.style("height"))||400)-a.top-a.bottom;e.update=function(){M.transition().duration(A).call(e)};e.container=this;x.disabled=b.map(function(e){return!!e.disabled});if(!T){var H;T={};for(H in x){if(x[H]instanceof Array)T[H]=x[H].slice(0);else T[H]=x[H]}}if(!b||!b.length||!b.filter(function(e){return e.values.length}).length){var B=M.selectAll(".nv-noData").data([N]);B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");B.attr("x",a.left+D/2).attr("y",a.top+P/2).text(function(e){return e});return e}else{M.selectAll(".nv-noData").remove()}w=t.xScale();E=t.yScale();var j=M.selectAll("g.nv-wrap.nv-stackedAreaChart").data([b]);var F=j.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");var I=j.select("g");F.append("rect").style("opacity",0);F.append("g").attr("class","nv-x nv-axis");F.append("g").attr("class","nv-y nv-axis");F.append("g").attr("class","nv-stackedWrap");F.append("g").attr("class","nv-legendWrap");F.append("g").attr("class","nv-controlsWrap");F.append("g").attr("class","nv-interactive");I.select("rect").attr("width",D).attr("height",P);if(p){var q=h?D-k:D;s.width(q);I.select(".nv-legendWrap").datum(b).call(s);if(a.top!=s.height()){a.top=s.height();P=(l||parseInt(M.style("height"))||400)-a.top-a.bottom}I.select(".nv-legendWrap").attr("transform","translate("+(D-q)+","+ -a.top+")")}if(h){var R=[{key:"Stacked",disabled:t.offset()!="zero"},{key:"Stream",disabled:t.offset()!="wiggle"},{key:"Expanded",disabled:t.offset()!="expand"}];k=L.length/3*260;R=R.filter(function(e){return L.indexOf(e.key)>-1});o.width(k).color(["#444","#444","#444"]);I.select(".nv-controlsWrap").datum(R).call(o);if(a.top!=Math.max(o.height(),s.height())){a.top=Math.max(o.height(),s.height());P=(l||parseInt(M.style("height"))||400)-a.top-a.bottom}I.select(".nv-controlsWrap").attr("transform","translate(0,"+ -a.top+")")}j.attr("transform","translate("+a.left+","+a.top+")");if(m){I.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)")}if(g){u.width(D).height(P).margin({left:a.left,top:a.top}).svgContainer(M).xScale(w);j.select(".nv-interactive").call(u)}t.width(D).height(P);var U=I.select(".nv-stackedWrap").datum(b);U.transition().call(t);if(d){r.scale(w).ticks(D/100).tickSize(-P,0);I.select(".nv-x.nv-axis").attr("transform","translate(0,"+P+")");I.select(".nv-x.nv-axis").transition().duration(0).call(r)}if(v){i.scale(E).ticks(t.offset()=="wiggle"?0:P/36).tickSize(-D,0).setTickFormat(t.offset()=="expand"?d3.format("%"):S);I.select(".nv-y.nv-axis").transition().duration(0).call(i)}t.dispatch.on("areaClick.toggle",function(t){if(b.filter(function(e){return!e.disabled}).length===1)b=b.map(function(e){e.disabled=false;return e});else b=b.map(function(e,n){e.disabled=n!=t.seriesIndex;return e});x.disabled=b.map(function(e){return!!e.disabled});C.stateChange(x);e.update()});s.dispatch.on("stateChange",function(t){x.disabled=t.disabled;C.stateChange(x);e.update()});o.dispatch.on("legendClick",function(n,r){if(!n.disabled)return;R=R.map(function(e){e.disabled=true;return e});n.disabled=false;switch(n.key){case"Stacked":t.style("stack");break;case"Stream":t.style("stream");break;case"Expanded":t.style("expand");break}x.style=t.style();C.stateChange(x);e.update()});u.dispatch.on("elementMousemove",function(s){t.clearHighlights();var o,f,l,h=[];b.filter(function(e,t){e.seriesIndex=t;return!e.disabled}).forEach(function(r,i){f=n.interactiveBisect(r.values,s.pointXValue,e.x());t.highlightPoint(i,f,true);var u=r.values[f];if(typeof u==="undefined")return;if(typeof o==="undefined")o=u;if(typeof l==="undefined")l=e.xScale()(e.x()(u,f));h.push({key:r.key,value:e.y()(u,f),color:c(r,r.seriesIndex),stackedValue:u.display})});h.reverse();if(h.length>2){var p=e.yScale().invert(s.mouseY);var d=Infinity,v=null;h.forEach(function(e,t){if(p>=e.stackedValue.y0&&p<=e.stackedValue.y0+e.stackedValue.y){v=t;return}});if(v!=null)h[v].highlight=true}var m=r.tickFormat()(e.x()(o,f));u.tooltip.position({left:l+a.left,top:s.mouseY+a.top}).chartContainer(_.parentNode).enabled(y).valueFormatter(function(e,t){return i.tickFormat()(e)}).data({value:m,series:h})();u.renderGuideLine(l)});u.dispatch.on("elementMouseout",function(e){C.tooltipHide();t.clearHighlights()});C.on("tooltipShow",function(e){if(y)O(e,_.parentNode)});C.on("changeState",function(n){if(typeof n.disabled!=="undefined"){b.forEach(function(e,t){e.disabled=n.disabled[t]});x.disabled=n.disabled}if(typeof n.style!=="undefined"){t.style(n.style)}e.update()})});return e}var t=n.models.stackedArea(),r=n.models.axis(),i=n.models.axis(),s=n.models.legend(),o=n.models.legend(),u=n.interactiveGuideline();var a={top:30,right:25,bottom:50,left:60},f=null,l=null,c=n.utils.defaultColor(),h=true,p=true,d=true,v=true,m=false,g=false,y=true,b=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" on "+t+"</p>"},w,E,S=d3.format(",.2f"),x={style:t.style()},T=null,N="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),k=250,L=["Stacked","Stream","Expanded"],A=250;r.orient("bottom").tickPadding(7);i.orient(m?"right":"left");o.updateState(false);var O=function(s,o){var u=s.pos[0]+(o.offsetLeft||0),a=s.pos[1]+(o.offsetTop||0),f=r.tickFormat()(t.x()(s.point,s.pointIndex)),l=i.tickFormat()(t.y()(s.point,s.pointIndex)),c=b(s.series.key,f,l,s,e);n.tooltip.show([u,a],c,s.value<0?"n":"s",null,o)};t.dispatch.on("tooltipShow",function(e){e.pos=[e.pos[0]+a.left,e.pos[1]+a.top],C.tooltipShow(e)});t.dispatch.on("tooltipHide",function(e){C.tooltipHide(e)});C.on("tooltipHide",function(){if(y)n.tooltip.cleanup()});e.dispatch=C;e.stacked=t;e.legend=s;e.controls=o;e.xAxis=r;e.yAxis=i;e.interactiveLayer=u;d3.rebind(e,t,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");e.options=n.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return a;a.top=typeof t.top!="undefined"?t.top:a.top;a.right=typeof t.right!="undefined"?t.right:a.right;a.bottom=typeof t.bottom!="undefined"?t.bottom:a.bottom;a.left=typeof t.left!="undefined"?t.left:a.left;return e};e.width=function(t){if(!arguments.length)return f;f=t;return e};e.height=function(t){if(!arguments.length)return l;l=t;return e};e.color=function(r){if(!arguments.length)return c;c=n.utils.getColor(r);s.color(c);t.color(c);return e};e.showControls=function(t){if(!arguments.length)return h;h=t;return e};e.showLegend=function(t){if(!arguments.length)return p;p=t;return e};e.showXAxis=function(t){if(!arguments.length)return d;d=t;return e};e.showYAxis=function(t){if(!arguments.length)return v;v=t;return e};e.rightAlignYAxis=function(t){if(!arguments.length)return m;m=t;i.orient(t?"right":"left");return e};e.useInteractiveGuideline=function(t){if(!arguments.length)return g;g=t;if(t===true){e.interactive(false);e.useVoronoi(false)}return e};e.tooltip=function(t){if(!arguments.length)return b;b=t;return e};e.tooltips=function(t){if(!arguments.length)return y;y=t;return e};e.tooltipContent=function(t){if(!arguments.length)return b;b=t;return e};e.state=function(t){if(!arguments.length)return x;x=t;return e};e.defaultState=function(t){if(!arguments.length)return T;T=t;return e};e.noData=function(t){if(!arguments.length)return N;N=t;return e};e.transitionDuration=function(t){if(!arguments.length)return A;A=t;return e};e.controlsData=function(t){if(!arguments.length)return L;L=t;return e};i.setTickFormat=i.tickFormat;i.tickFormat=function(e){if(!arguments.length)return S;S=e;return i};return e}})();nv.utils.windowSize=function(){var e={width:640,height:480};if(document.body&&document.body.offsetWidth){e.width=document.body.offsetWidth;e.height=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){e.width=document.documentElement.offsetWidth;e.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){e.width=window.innerWidth;e.height=window.innerHeight}return e};nv.utils.windowResize=function(e){if(e===undefined)return;var t=window.onresize;window.onresize=function(n){if(typeof t=="function")t(n);e(n)}};nv.utils.getColor=function(e){if(!arguments.length)return nv.utils.defaultColor();if(Object.prototype.toString.call(e)==="[object Array]")return function(t,n){return t.color||e[n%e.length]};else return e};nv.utils.defaultColor=function(){var e=d3.scale.category20().range();return function(t,n){return t.color||e[n%e.length]}};nv.utils.customTheme=function(e,t,n){t=t||function(e){return e.key};n=n||d3.scale.category20().range();var r=n.length;return function(i,s){var o=t(i);if(!r)r=n.length;if(typeof e[o]!=="undefined")return typeof e[o]==="function"?e[o]():e[o];else return n[--r]}};nv.utils.pjax=function(e,t){function n(n){d3.html(n,function(n){var r=d3.select(t).node();r.parentNode.replaceChild(d3.select(n).select(t).node(),r);nv.utils.pjax(e,t)})}d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href);n(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){if(d3.event.state)n(d3.event.state)})};nv.utils.calcApproxTextWidth=function(e){if(e instanceof d3.selection){var t=parseInt(e.style("font-size").replace("px",""));var n=e.text().length;return n*t*.5}return 0};nv.utils.NaNtoZero=function(e){if(typeof e!=="number"||isNaN(e)||e===null||e===Infinity)return 0;return e};nv.utils.optionsFunc=function(e){if(e){d3.map(e).forEach(function(e,t){if(typeof this[e]==="function"){this[e](t)}}.bind(this))}return this};nv.models.axis=function(){"use strict";function e(i){i.each(function(e){var i=d3.select(this);var m=i.selectAll("g.nv-wrap.nv-axis").data([e]);var g=m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis");var y=g.append("g");var b=m.select("g");if(p!==null)t.ticks(p);else if(t.orient()=="top"||t.orient()=="bottom")t.ticks(Math.abs(s.range()[1]-s.range()[0])/100);b.transition().call(t);v=v||t.scale();var w=t.tickFormat();if(w==null){w=v.tickFormat()}var E=b.selectAll("text.nv-axislabel").data([o||null]);E.exit().remove();switch(t.orient()){case"top":E.enter().append("text").attr("class","nv-axislabel");var S=s.range().length==2?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);E.attr("text-anchor","middle").attr("y",0).attr("x",S/2);if(u){var x=m.selectAll("g.nv-axisMaxMin").data(s.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text");x.exit().remove();x.attr("transform",function(e,t){return"translate("+s(e)+",0)"}).select("text").attr("dy","0em").attr("y",-t.tickPadding()).attr("text-anchor","middle").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate("+s.range()[t]+",0)"})}break;case"bottom":var T=36;var N=30;var C=b.selectAll("g").select("text");if(f%360){C.each(function(e,t){var n=this.getBBox().width;if(n>N)N=n});var k=Math.abs(Math.sin(f*Math.PI/180));var T=(k?k*N:N)+30;C.attr("transform",function(e,t,n){return"rotate("+f+" 0,0)"}).style("text-anchor",f%360>0?"start":"end")}E.enter().append("text").attr("class","nv-axislabel");var S=s.range().length==2?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);E.attr("text-anchor","middle").attr("y",T).attr("x",S/2);if(u){var x=m.selectAll("g.nv-axisMaxMin").data([s.domain()[0],s.domain()[s.domain().length-1]]);x.enter().append("g").attr("class","nv-axisMaxMin").append("text");x.exit().remove();x.attr("transform",function(e,t){return"translate("+(s(e)+(h?s.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",t.tickPadding()).attr("transform",function(e,t,n){return"rotate("+f+" 0,0)"}).style("text-anchor",f?f%360>0?"start":"end":"middle").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate("+(s(e)+(h?s.rangeBand()/2:0))+",0)"})}if(c)C.attr("transform",function(e,t){return"translate(0,"+(t%2==0?"0":"12")+")"});break;case"right":E.enter().append("text").attr("class","nv-axislabel");E.style("text-anchor",l?"middle":"begin").attr("transform",l?"rotate(90)":"").attr("y",l?-Math.max(n.right,r)+12:-10).attr("x",l?s.range()[0]/2:t.tickPadding());if(u){var x=m.selectAll("g.nv-axisMaxMin").data(s.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);x.exit().remove();x.attr("transform",function(e,t){return"translate(0,"+s(e)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",t.tickPadding()).style("text-anchor","start").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate(0,"+s.range()[t]+")"}).select("text").style("opacity",1)}break;case"left":E.enter().append("text").attr("class","nv-axislabel");E.style("text-anchor",l?"middle":"end").attr("transform",l?"rotate(-90)":"").attr("y",l?-Math.max(n.left,r)+d:-10).attr("x",l?-s.range()[0]/2:-t.tickPadding());if(u){var x=m.selectAll("g.nv-axisMaxMin").data(s.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);x.exit().remove();x.attr("transform",function(e,t){return"translate(0,"+v(e)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-t.tickPadding()).attr("text-anchor","end").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate(0,"+s.range()[t]+")"}).select("text").style("opacity",1)}break}E.text(function(e){return e});if(u&&(t.orient()==="left"||t.orient()==="right")){b.selectAll("g").each(function(e,t){d3.select(this).select("text").attr("opacity",1);if(s(e)<s.range()[1]+10||s(e)>s.range()[0]-10){if(e>1e-10||e<-1e-10)d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});if(s.domain()[0]==s.domain()[1]&&s.domain()[0]==0)m.selectAll("g.nv-axisMaxMin").style("opacity",function(e,t){return!t?1:0})}if(u&&(t.orient()==="top"||t.orient()==="bottom")){var L=[];m.selectAll("g.nv-axisMaxMin").each(function(e,t){try{if(t)L.push(s(e)-this.getBBox().width-4);else L.push(s(e)+this.getBBox().width+4)}catch(n){if(t)L.push(s(e)-4);else L.push(s(e)+4)}});b.selectAll("g").each(function(e,t){if(s(e)<L[0]||s(e)>L[1]){if(e>1e-10||e<-1e-10)d3.select(this).remove();else d3.select(this).select("text").remove()}})}if(a)b.selectAll(".tick").filter(function(e){return!parseFloat(Math.round(e.__data__*1e5)/1e6)&&e.__data__!==undefined}).classed("zero",true);v=s.copy()});return e}var t=d3.svg.axis();var n={top:0,right:0,bottom:0,left:0},r=75,i=60,s=d3.scale.linear(),o=null,u=true,a=true,f=0,l=true,c=false,h=false,p=null,d=12;t.scale(s).orient("bottom").tickFormat(function(e){return e});var v;e.axis=t;d3.rebind(e,t,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(e,s,"domain","range","rangeBand","rangeBands");e.options=nv.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return n;n.top=typeof t.top!="undefined"?t.top:n.top;n.right=typeof t.right!="undefined"?t.right:n.right;n.bottom=typeof t.bottom!="undefined"?t.bottom:n.bottom;n.left=typeof t.left!="undefined"?t.left:n.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.ticks=function(t){if(!arguments.length)return p;p=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.axisLabel=function(t){if(!arguments.length)return o;o=t;return e};e.showMaxMin=function(t){if(!arguments.length)return u;u=t;return e};e.highlightZero=function(t){if(!arguments.length)return a;a=t;return e};e.scale=function(n){if(!arguments.length)return s;s=n;t.scale(s);h=typeof s.rangeBands==="function";d3.rebind(e,s,"domain","range","rangeBand","rangeBands");return e};e.rotateYLabel=function(t){if(!arguments.length)return l;l=t;return e};e.rotateLabels=function(t){if(!arguments.length)return f;f=t;return e};e.staggerLabels=function(t){if(!arguments.length)return c;c=t;return e};e.axisLabelDistance=function(t){if(!arguments.length)return d;d=t;return e};return e}(function(){"use strict";window.nv.tooltip={};window.nv.models.tooltip=function(){function e(){if(l){var e=d3.select(l);if(e.node().tagName!=="svg"){e=e.select("svg")}var t=e.node()?e.attr("viewBox"):null;if(t){t=t.split(" ");var n=parseInt(e.style("width"))/t[2];h.left=h.left*n;h.top=h.top*n}}}function t(e){var t;if(l)t=d3.select(l);else t=d3.select("body");var n=t.select(".nvtooltip");if(n.node()===null){n=t.append("div").attr("class","nvtooltip "+(f?f:"xy-tooltip")).attr("id",d)}n.node().innerHTML=e;n.style("top",0).style("left",0).style("opacity",0);n.selectAll("div, table, td, tr").classed(v,true);n.classed(v,true);return n.node()}function n(){if(!p)return;if(!b(i))return;e();var r=h.left;var f=a!=null?a:h.top;var d=t(y(i));c=d;if(l){var v=l.getElementsByTagName("svg")[0];var m=v?v.getBoundingClientRect():l.getBoundingClientRect();var g={left:0,top:0};if(v){var w=v.getBoundingClientRect();var E=l.getBoundingClientRect();var S=w.top;if(S<0){var x=l.getBoundingClientRect();S=Math.abs(S)>x.height?0:S}g.top=Math.abs(S-E.top);g.left=Math.abs(w.left-E.left)}r+=l.offsetLeft+g.left-2*l.scrollLeft;f+=l.offsetTop+g.top-2*l.scrollTop}if(u&&u>0){f=Math.floor(f/u)*u}nv.tooltip.calcTooltipPosition([r,f],s,o,d);return n}var r=null,i=null,s="w",o=50,u=25,a=null,f=null,l=null,c=null,h={left:null,top:null},p=true,d="nvtooltip-"+Math.floor(Math.random()*1e5);var v="nv-pointer-events-none";var m=function(e,t){return e};var g=function(e){return e};var y=function(e){if(r!=null)return r;if(e==null)return"";var t=d3.select(document.createElement("table"));var n=t.selectAll("thead").data([e]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",true).html(g(e.value));var i=t.selectAll("tbody").data([e]).enter().append("tbody");var s=i.selectAll("tr").data(function(e){return e.series}).enter().append("tr").classed("highlight",function(e){return e.highlight});s.append("td").classed("legend-color-guide",true).append("div").style("background-color",function(e){return e.color});s.append("td").classed("key",true).html(function(e){return e.key});s.append("td").classed("value",true).html(function(e,t){return m(e.value,t)});s.selectAll("td").each(function(e){if(e.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",e.color]);var n=.6;d3.select(this).style("border-bottom-color",t(n)).style("border-top-color",t(n))}});var o=t.node().outerHTML;if(e.footer!==undefined)o+="<div class='footer'>"+e.footer+"</div>";return o};var b=function(e){if(e&&e.series&&e.series.length>0)return true;return false};n.nvPointerEventsClass=v;n.content=function(e){if(!arguments.length)return r;r=e;return n};n.tooltipElem=function(){return c};n.contentGenerator=function(e){if(!arguments.length)return y;if(typeof e==="function"){y=e}return n};n.data=function(e){if(!arguments.length)return i;i=e;return n};n.gravity=function(e){if(!arguments.length)return s;s=e;return n};n.distance=function(e){if(!arguments.length)return o;o=e;return n};n.snapDistance=function(e){if(!arguments.length)return u;u=e;return n};n.classes=function(e){if(!arguments.length)return f;f=e;return n};n.chartContainer=function(e){if(!arguments.length)return l;l=e;return n};n.position=function(e){if(!arguments.length)return h;h.left=typeof e.left!=="undefined"?e.left:h.left;h.top=typeof e.top!=="undefined"?e.top:h.top;return n};n.fixedTop=function(e){if(!arguments.length)return a;a=e;return n};n.enabled=function(e){if(!arguments.length)return p;p=e;return n};n.valueFormatter=function(e){if(!arguments.length)return m;if(typeof e==="function"){m=e}return n};n.headerFormatter=function(e){if(!arguments.length)return g;if(typeof e==="function"){g=e}return n};n.id=function(){return d};return n};nv.tooltip.show=function(e,t,n,r,i,s){var o=document.createElement("div");o.className="nvtooltip "+(s?s:"xy-tooltip");var u=i;if(!i||i.tagName.match(/g|svg/i)){u=document.getElementsByTagName("body")[0]}o.style.left=0;o.style.top=0;o.style.opacity=0;o.innerHTML=t;u.appendChild(o);if(i){e[0]=e[0]-i.scrollLeft;e[1]=e[1]-i.scrollTop}nv.tooltip.calcTooltipPosition(e,n,r,o)};nv.tooltip.findFirstNonSVGParent=function(e){while(e.tagName.match(/^g|svg$/i)!==null){e=e.parentNode}return e};nv.tooltip.findTotalOffsetTop=function(e,t){var n=t;do{if(!isNaN(e.offsetTop)){n+=e.offsetTop}}while(e=e.offsetParent);return n};nv.tooltip.findTotalOffsetLeft=function(e,t){var n=t;do{if(!isNaN(e.offsetLeft)){n+=e.offsetLeft}}while(e=e.offsetParent);return n};nv.tooltip.calcTooltipPosition=function(e,t,n,r){var i=parseInt(r.offsetHeight),s=parseInt(r.offsetWidth),o=nv.utils.windowSize().width,u=nv.utils.windowSize().height,a=window.pageYOffset,f=window.pageXOffset,l,c;u=window.innerWidth>=document.body.scrollWidth?u:u-16;o=window.innerHeight>=document.body.scrollHeight?o:o-16;t=t||"s";n=n||20;var h=function(e){return nv.tooltip.findTotalOffsetTop(e,c)};var p=function(e){return nv.tooltip.findTotalOffsetLeft(e,l)};switch(t){case"e":l=e[0]-s-n;c=e[1]-i/2;var d=p(r);var v=h(r);if(d<f)l=e[0]+n>f?e[0]+n:f-d+l;if(v<a)c=a-v+c;if(v+i>a+u)c=a+u-v+c-i;break;case"w":l=e[0]+n;c=e[1]-i/2;var d=p(r);var v=h(r);if(d+s>o)l=e[0]-s-n;if(v<a)c=a+5;if(v+i>a+u)c=a+u-v+c-i;break;case"n":l=e[0]-s/2-5;c=e[1]+n;var d=p(r);var v=h(r);if(d<f)l=f+5;if(d+s>o)l=l-s/2+5;if(v+i>a+u)c=a+u-v+c-i;break;case"s":l=e[0]-s/2;c=e[1]-i-n;var d=p(r);var v=h(r);if(d<f)l=f+5;if(d+s>o)l=l-s/2+5;if(a>v)c=a;break;case"none":l=e[0];c=e[1]-n;var d=p(r);var v=h(r);break}r.style.left=l+"px";r.style.top=c+"px";r.style.opacity=1;r.style.position="absolute";return r};nv.tooltip.cleanup=function(){var e=document.getElementsByClassName("nvtooltip");var t=[];while(e.length){t.push(e[0]);e[0].style.transitionDelay="0 !important";e[0].style.opacity=0;e[0].className="nvtooltip-pending-removal"}setTimeout(function(){while(t.length){var e=t.pop();e.parentNode.removeChild(e)}},500)}})();nv.interactiveGuideline=function(){"use strict";function e(o){o.each(function(o){function c(){var n=d3.mouse(this);var r=n[0];var o=n[1];var a=true;var f=false;if(l){r=d3.event.offsetX;o=d3.event.offsetY;if(d3.event.target.tagName!=="svg")a=false;if(d3.event.target.className.baseVal.match("nv-legend"))f=true}if(a){r-=i.left;o-=i.top}if(r<0||o<0||r>p||o>d||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||f){if(l){if(d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&d3.event.relatedTarget.className.match(t.nvPointerEventsClass)){return}}u.elementMouseout({mouseX:r,mouseY:o});e.renderGuideLine(null);return}var c=s.invert(r);u.elementMousemove({mouseX:r,mouseY:o,pointXValue:c});if(d3.event.type==="dblclick"){u.elementDblclick({mouseX:r,mouseY:o,pointXValue:c})}}var h=d3.select(this);var p=n||960,d=r||400;var v=h.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([o]);var m=v.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");m.append("g").attr("class","nv-interactiveGuideLine");if(!f){return}f.on("mousemove",c,true).on("mouseout",c,true).on("dblclick",c);e.renderGuideLine=function(e){if(!a)return;var t=v.select(".nv-interactiveGuideLine").selectAll("line").data(e!=null?[nv.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(e){return e}).attr("x2",function(e){return e}).attr("y1",d).attr("y2",0);t.exit().remove()}})}var t=nv.models.tooltip();var n=null,r=null,i={left:0,top:0},s=d3.scale.linear(),o=d3.scale.linear(),u=d3.dispatch("elementMousemove","elementMouseout","elementDblclick"),a=true,f=null;var l=navigator.userAgent.indexOf("MSIE")!==-1;e.dispatch=u;e.tooltip=t;e.margin=function(t){if(!arguments.length)return i;i.top=typeof t.top!="undefined"?t.top:i.top;i.left=typeof t.left!="undefined"?t.left:i.left;return e};e.width=function(t){if(!arguments.length)return n;n=t;return e};e.height=function(t){if(!arguments.length)return r;r=t;return e};e.xScale=function(t){if(!arguments.length)return s;s=t;return e};e.showGuideLine=function(t){if(!arguments.length)return a;a=t;return e};e.svgContainer=function(t){if(!arguments.length)return f;f=t;return e};return e};nv.interactiveBisect=function(e,t,n){"use strict";if(!e instanceof Array)return null;if(typeof n!=="function")n=function(e,t){return e.x};var r=d3.bisector(n).left;var i=d3.max([0,r(e,t)-1]);var s=n(e[i],i);if(typeof s==="undefined")s=i;if(s===t)return i;var o=d3.min([i+1,e.length-1]);var u=n(e[o],o);if(typeof u==="undefined")u=o;if(Math.abs(u-t)>=Math.abs(s-t))return i;else return o};nv.nearestValueIndex=function(e,t,n){"use strict";var r=Infinity,i=null;e.forEach(function(e,s){var o=Math.abs(t-e);if(o<=r&&o<n){r=o;i=s}});return i};nv.models.legend=function(){"use strict";function e(c){c.each(function(e){var c=n-t.left-t.right,h=d3.select(this);var p=h.selectAll("g.nv-legend").data([e]);var d=p.enter().append("g").attr("class","nvd3 nv-legend").append("g");var v=p.select("g");p.attr("transform","translate("+t.left+","+t.top+")");var m=v.selectAll(".nv-series").data(function(e){return e});var g=m.enter().append("g").attr("class","nv-series").on("mouseover",function(e,t){l.legendMouseover(e,t)}).on("mouseout",function(e,t){l.legendMouseout(e,t)}).on("click",function(t,n){l.legendClick(t,n);if(a){if(f){e.forEach(function(e){e.disabled=true});t.disabled=false}else{t.disabled=!t.disabled;if(e.every(function(e){return e.disabled})){e.forEach(function(e){e.disabled=false})}}l.stateChange({disabled:e.map(function(e){return!!e.disabled})})}}).on("dblclick",function(t,n){l.legendDblclick(t,n);if(a){e.forEach(function(e){e.disabled=true});t.disabled=false;l.stateChange({disabled:e.map(function(e){return!!e.disabled})})}});g.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);g.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");m.classed("disabled",function(e){return e.disabled});m.exit().remove();m.select("circle").style("fill",function(e,t){return e.color||s(e,t)}).style("stroke",function(e,t){return e.color||s(e,t)});m.select("text").text(i);if(o){var y=[];m.each(function(e,t){var n=d3.select(this).select("text");var r;try{r=n.node().getComputedTextLength()}catch(i){r=nv.utils.calcApproxTextWidth(n)}y.push(r+28)});var b=0;var w=0;var E=[];while(w<c&&b<y.length){E[b]=y[b];w+=y[b++]}if(b===0)b=1;while(w>c&&b>1){E=[];b--;for(var S=0;S<y.length;S++){if(y[S]>(E[S%b]||0))E[S%b]=y[S]}w=E.reduce(function(e,t,n,r){return e+t})}var x=[];for(var T=0,N=0;T<b;T++){x[T]=N;N+=E[T]}m.attr("transform",function(e,t){return"translate("+x[t%b]+","+(5+Math.floor(t/b)*20)+")"});if(u){v.attr("transform","translate("+(n-t.right-w)+","+t.top+")")}else{v.attr("transform","translate(0"+","+t.top+")")}r=t.top+t.bottom+Math.ceil(y.length/b)*20}else{var C=5,k=5,L=0,A;m.attr("transform",function(e,r){var i=d3.select(this).select("text").node().getComputedTextLength()+28;A=k;if(n<t.left+t.right+A+i){k=A=5;C+=20}k+=i;if(k>L)L=k;return"translate("+A+","+C+")"});v.attr("transform","translate("+(n-t.right-L)+","+t.top+")");r=t.top+t.bottom+C+15}});return e}var t={top:5,right:0,bottom:5,left:0},n=400,r=20,i=function(e){return e.key},s=nv.utils.defaultColor(),o=true,u=true,a=true,f=false,l=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");e.dispatch=l;e.options=nv.utils.optionsFunc.bind(e);e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return n;n=t;return e};e.height=function(t){if(!arguments.length)return r;r=t;return e};e.key=function(t){if(!arguments.length)return i;i=t;return e};e.color=function(t){if(!arguments.length)return s;s=nv.utils.getColor(t);return e};e.align=function(t){if(!arguments.length)return o;o=t;return e};e.rightAlign=function(t){if(!arguments.length)return u;u=t;return e};e.updateState=function(t){if(!arguments.length)return a;a=t;return e};e.radioButtonMode=function(t){if(!arguments.length)return f;f=t;return e};return e};nv.models.axis=function(){"use strict";function e(i){i.each(function(e){var i=d3.select(this);var m=i.selectAll("g.nv-wrap.nv-axis").data([e]);var g=m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis");var y=g.append("g");var b=m.select("g");if(p!==null)t.ticks(p);else if(t.orient()=="top"||t.orient()=="bottom")t.ticks(Math.abs(s.range()[1]-s.range()[0])/100);b.transition().call(t);v=v||t.scale();var w=t.tickFormat();if(w==null){w=v.tickFormat()}var E=b.selectAll("text.nv-axislabel").data([o||null]);E.exit().remove();switch(t.orient()){case"top":E.enter().append("text").attr("class","nv-axislabel");var S=s.range().length==2?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);E.attr("text-anchor","middle").attr("y",0).attr("x",S/2);if(u){var x=m.selectAll("g.nv-axisMaxMin").data(s.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text");x.exit().remove();x.attr("transform",function(e,t){return"translate("+s(e)+",0)"}).select("text").attr("dy","0em").attr("y",-t.tickPadding()).attr("text-anchor","middle").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate("+s.range()[t]+",0)"})}break;case"bottom":var T=36;var N=30;var C=b.selectAll("g").select("text");if(f%360){C.each(function(e,t){var n=this.getBBox().width;if(n>N)N=n});var k=Math.abs(Math.sin(f*Math.PI/180));var T=(k?k*N:N)+30;C.attr("transform",function(e,t,n){return"rotate("+f+" 0,0)"}).style("text-anchor",f%360>0?"start":"end")}E.enter().append("text").attr("class","nv-axislabel");var S=s.range().length==2?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);E.attr("text-anchor","middle").attr("y",T).attr("x",S/2);if(u){var x=m.selectAll("g.nv-axisMaxMin").data([s.domain()[0],s.domain()[s.domain().length-1]]);x.enter().append("g").attr("class","nv-axisMaxMin").append("text");x.exit().remove();x.attr("transform",function(e,t){return"translate("+(s(e)+(h?s.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",t.tickPadding()).attr("transform",function(e,t,n){return"rotate("+f+" 0,0)"}).style("text-anchor",f?f%360>0?"start":"end":"middle").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate("+(s(e)+(h?s.rangeBand()/2:0))+",0)"})}if(c)C.attr("transform",function(e,t){return"translate(0,"+(t%2==0?"0":"12")+")"});break;case"right":E.enter().append("text").attr("class","nv-axislabel");E.style("text-anchor",l?"middle":"begin").attr("transform",l?"rotate(90)":"").attr("y",l?-Math.max(n.right,r)+12:-10).attr("x",l?s.range()[0]/2:t.tickPadding());if(u){var x=m.selectAll("g.nv-axisMaxMin").data(s.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);x.exit().remove();x.attr("transform",function(e,t){return"translate(0,"+s(e)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",t.tickPadding()).style("text-anchor","start").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate(0,"+s.range()[t]+")"}).select("text").style("opacity",1)}break;case"left":E.enter().append("text").attr("class","nv-axislabel");E.style("text-anchor",l?"middle":"end").attr("transform",l?"rotate(-90)":"").attr("y",l?-Math.max(n.left,r)+d:-10).attr("x",l?-s.range()[0]/2:-t.tickPadding());if(u){var x=m.selectAll("g.nv-axisMaxMin").data(s.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);x.exit().remove();x.attr("transform",function(e,t){return"translate(0,"+v(e)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-t.tickPadding()).attr("text-anchor","end").text(function(e,t){var n=w(e);return(""+n).match("NaN")?"":n});x.transition().attr("transform",function(e,t){return"translate(0,"+s.range()[t]+")"}).select("text").style("opacity",1)}break}E.text(function(e){return e});if(u&&(t.orient()==="left"||t.orient()==="right")){b.selectAll("g").each(function(e,t){d3.select(this).select("text").attr("opacity",1);if(s(e)<s.range()[1]+10||s(e)>s.range()[0]-10){if(e>1e-10||e<-1e-10)d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});if(s.domain()[0]==s.domain()[1]&&s.domain()[0]==0)m.selectAll("g.nv-axisMaxMin").style("opacity",function(e,t){return!t?1:0})}if(u&&(t.orient()==="top"||t.orient()==="bottom")){var L=[];m.selectAll("g.nv-axisMaxMin").each(function(e,t){try{if(t)L.push(s(e)-this.getBBox().width-4);else L.push(s(e)+this.getBBox().width+4)}catch(n){if(t)L.push(s(e)-4);else L.push(s(e)+4)}});b.selectAll("g").each(function(e,t){if(s(e)<L[0]||s(e)>L[1]){if(e>1e-10||e<-1e-10)d3.select(this).remove();else d3.select(this).select("text").remove()}})}if(a)b.selectAll(".tick").filter(function(e){return!parseFloat(Math.round(e.__data__*1e5)/1e6)&&e.__data__!==undefined}).classed("zero",true);v=s.copy()});return e}var t=d3.svg.axis();var n={top:0,right:0,bottom:0,left:0},r=75,i=60,s=d3.scale.linear(),o=null,u=true,a=true,f=0,l=true,c=false,h=false,p=null,d=12;t.scale(s).orient("bottom").tickFormat(function(e){return e});var v;e.axis=t;d3.rebind(e,t,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(e,s,"domain","range","rangeBand","rangeBands");e.options=nv.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return n;n.top=typeof t.top!="undefined"?t.top:n.top;n.right=typeof t.right!="undefined"?t.right:n.right;n.bottom=typeof t.bottom!="undefined"?t.bottom:n.bottom;n.left=typeof t.left!="undefined"?t.left:n.left;return e};e.width=function(t){if(!arguments.length)return r;r=t;return e};e.ticks=function(t){if(!arguments.length)return p;p=t;return e};e.height=function(t){if(!arguments.length)return i;i=t;return e};e.axisLabel=function(t){if(!arguments.length)return o;o=t;return e};e.showMaxMin=function(t){if(!arguments.length)return u;u=t;return e};e.highlightZero=function(t){if(!arguments.length)return a;a=t;return e};e.scale=function(n){if(!arguments.length)return s;s=n;t.scale(s);h=typeof s.rangeBands==="function";d3.rebind(e,s,"domain","range","rangeBand","rangeBands");return e};e.rotateYLabel=function(t){if(!arguments.length)return l;l=t;return e};e.rotateLabels=function(t){if(!arguments.length)return f;f=t;return e};e.staggerLabels=function(t){if(!arguments.length)return c;c=t;return e};e.axisLabelDistance=function(t){if(!arguments.length)return d;d=t;return e};return e};nv.models.scatter=function(){"use strict";function e(I){I.each(function(e){function I(){if(!g)return false;var i;var a=d3.merge(e.map(function(e,t){return e.values.map(function(e,n){var r=f(e,n);var i=l(e,n);return[o(r)+Math.random()*1e-7,u(i)+Math.random()*1e-7,t,n,e]}).filter(function(e,t){return b(e[4],t)})}));if(D===true){if(x){var c=W.select("defs").selectAll(".nv-point-clips").data([s]).enter();c.append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+s);var h=W.select("#nv-points-clip-"+s).selectAll("circle").data(a);h.enter().append("circle").attr("r",T);h.exit().remove();h.attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]});W.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+s+")")}if(a.length){a.push([o.range()[0]-20,u.range()[0]-20,null,null]);a.push([o.range()[1]+20,u.range()[1]+20,null,null]);a.push([o.range()[0]-20,u.range()[0]+20,null,null]);a.push([o.range()[1]+20,u.range()[1]-20,null,null])}var p=d3.geom.polygon([[-10,-10],[-10,r+10],[n+10,r+10],[n+10,-10]]);var d=d3.geom.voronoi(a).map(function(e,t){return{data:p.clip(e),series:a[t][2],point:a[t][3]}});var v=W.select(".nv-point-paths").selectAll("path").data(d);v.enter().append("path").attr("class",function(e,t){return"nv-path-"+t});v.exit().remove();v.attr("d",function(e){if(e.data.length===0)return"M 0 0";else return"M"+e.data.join("L")+"Z"});var m=function(n,r){if(F)return 0;var i=e[n.series];if(typeof i==="undefined")return;var s=i.values[n.point];r({point:s,series:i,pos:[o(f(s,n.point))+t.left,u(l(s,n.point))+t.top],seriesIndex:n.series,pointIndex:n.point})};v.on("click",function(e){m(e,_.elementClick)}).on("mouseover",function(e){m(e,_.elementMouseover)}).on("mouseout",function(e,t){m(e,_.elementMouseout)})}else{W.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(n,r){if(F||!e[n.series])return 0;var i=e[n.series],s=i.values[r];_.elementClick({point:s,series:i,pos:[o(f(s,r))+t.left,u(l(s,r))+t.top],seriesIndex:n.series,pointIndex:r})}).on("mouseover",function(n,r){if(F||!e[n.series])return 0;var i=e[n.series],s=i.values[r];_.elementMouseover({point:s,series:i,pos:[o(f(s,r))+t.left,u(l(s,r))+t.top],seriesIndex:n.series,pointIndex:r})}).on("mouseout",function(t,n){if(F||!e[t.series])return 0;var r=e[t.series],i=r.values[n];_.elementMouseout({point:i,series:r,seriesIndex:t.series,pointIndex:n})})}F=false}var q=n-t.left-t.right,R=r-t.top-t.bottom,U=d3.select(this);e.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var z=N&&C&&A?[]:d3.merge(e.map(function(e){return e.values.map(function(e,t){return{x:f(e,t),y:l(e,t),size:c(e,t)}})}));o.domain(N||d3.extent(z.map(function(e){return e.x}).concat(d)));if(w&&e[0])o.range(k||[(q*E+q)/(2*e[0].values.length),q-q*(1+E)/(2*e[0].values.length)]);else o.range(k||[0,q]);u.domain(C||d3.extent(z.map(function(e){return e.y}).concat(v))).range(L||[R,0]);a.domain(A||d3.extent(z.map(function(e){return e.size}).concat(m))).range(O||[16,256]);if(o.domain()[0]===o.domain()[1]||u.domain()[0]===u.domain()[1])M=true;if(o.domain()[0]===o.domain()[1])o.domain()[0]?o.domain([o.domain()[0]-o.domain()[0]*.01,o.domain()[1]+o.domain()[1]*.01]):o.domain([-1,1]);if(u.domain()[0]===u.domain()[1])u.domain()[0]?u.domain([u.domain()[0]-u.domain()[0]*.01,u.domain()[1]+u.domain()[1]*.01]):u.domain([-1,1]);if(isNaN(o.domain()[0])){o.domain([-1,1])}if(isNaN(u.domain()[0])){u.domain([-1,1])}P=P||o;H=H||u;B=B||a;var W=U.selectAll("g.nv-wrap.nv-scatter").data([e]);var X=W.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+s+(M?" nv-single-point":""));var V=X.append("defs");var $=X.append("g");var J=W.select("g");$.append("g").attr("class","nv-groups");$.append("g").attr("class","nv-point-paths");W.attr("transform","translate("+t.left+","+t.top+")");V.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect");W.select("#nv-edge-clip-"+s+" rect").attr("width",q).attr("height",R);J.attr("clip-path",S?"url(#nv-edge-clip-"+s+")":"");F=true;var K=W.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});K.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);K.exit().remove();K.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover});K.transition().style("fill",function(e,t){return i(e,t)}).style("stroke",function(e,t){return i(e,t)}).style("stroke-opacity",1).style("fill-opacity",.5);if(p){var Q=K.selectAll("circle.nv-point").data(function(e){return e.values},y);Q.enter().append("circle").style("fill",function(e,t){return e.color}).style("stroke",function(e,t){return e.color}).attr("cx",function(e,t){return nv.utils.NaNtoZero(P(f(e,t)))}).attr("cy",function(e,t){return nv.utils.NaNtoZero(H(l(e,t)))}).attr("r",function(e,t){return Math.sqrt(a(c(e,t))/Math.PI)});Q.exit().remove();K.exit().selectAll("path.nv-point").transition().attr("cx",function(e,t){return nv.utils.NaNtoZero(o(f(e,t)))}).attr("cy",function(e,t){return nv.utils.NaNtoZero(u(l(e,t)))}).remove();Q.each(function(e,t){d3.select(this).classed("nv-point",true).classed("nv-point-"+t,true).classed("hover",false)});Q.transition().attr("cx",function(e,t){return nv.utils.NaNtoZero(o(f(e,t)))}).attr("cy",function(e,t){return nv.utils.NaNtoZero(u(l(e,t)))}).attr("r",function(e,t){return Math.sqrt(a(c(e,t))/Math.PI)})}else{var Q=K.selectAll("path.nv-point").data(function(e){return e.values});Q.enter().append("path").style("fill",function(e,t){return e.color}).style("stroke",function(e,t){return e.color}).attr("transform",function(e,t){return"translate("+P(f(e,t))+","+H(l(e,t))+")"}).attr("d",d3.svg.symbol().type(h).size(function(e,t){return a(c(e,t))}));Q.exit().remove();K.exit().selectAll("path.nv-point").transition().attr("transform",function(e,t){return"translate("+o(f(e,t))+","+u(l(e,t))+")"}).remove();Q.each(function(e,t){d3.select(this).classed("nv-point",true).classed("nv-point-"+t,true).classed("hover",false)});Q.transition().attr("transform",function(e,t){return"translate("+o(f(e,t))+","+u(l(e,t))+")"}).attr("d",d3.svg.symbol().type(h).size(function(e,t){return a(c(e,t))}))}clearTimeout(j);j=setTimeout(I,300);P=o.copy();H=u.copy();B=a.copy()});return e}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=nv.utils.defaultColor(),s=Math.floor(Math.random()*1e5),o=d3.scale.linear(),u=d3.scale.linear(),a=d3.scale.linear(),f=function(e){return e.x},l=function(e){return e.y},c=function(e){return e.size||1},h=function(e){return e.shape||"circle"},p=true,d=[],v=[],m=[],g=true,y=null,b=function(e){return!e.notActive},w=false,E=.1,S=false,x=true,T=function(){return 25},N=null,C=null,k=null,L=null,A=null,O=null,M=false,_=d3.dispatch("elementClick","elementMouseover","elementMouseout"),D=true;var P,H,B,j,F=false;e.clearHighlights=function(){d3.selectAll(".nv-chart-"+s+" .nv-point.hover").classed("hover",false)};e.highlightPoint=function(e,t,n){d3.select(".nv-chart-"+s+" .nv-series-"+e+" .nv-point-"+t).classed("hover",n)};_.on("elementMouseover.point",function(t){if(g)e.highlightPoint(t.seriesIndex,t.pointIndex,true)});_.on("elementMouseout.point",function(t){if(g)e.highlightPoint(t.seriesIndex,t.pointIndex,false)});e.dispatch=_;e.options=nv.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return f;f=d3.functor(t);return e};e.y=function(t){if(!arguments.length)return l;l=d3.functor(t);return e};e.size=function(t){if(!arguments.length)return c;c=d3.functor(t);return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return n;n=t;return e};e.height=function(t){if(!arguments.length)return r;r=t;return e};e.xScale=function(t){if(!arguments.length)return o;o=t;return e};e.yScale=function(t){if(!arguments.length)return u;u=t;return e};e.zScale=function(t){if(!arguments.length)return a;a=t;return e};e.xDomain=function(t){if(!arguments.length)return N;N=t;return e};e.yDomain=function(t){if(!arguments.length)return C;C=t;return e};e.sizeDomain=function(t){if(!arguments.length)return A;A=t;return e};e.xRange=function(t){if(!arguments.length)return k;k=t;return e};e.yRange=function(t){if(!arguments.length)return L;L=t;return e};e.sizeRange=function(t){if(!arguments.length)return O;O=t;return e};e.forceX=function(t){if(!arguments.length)return d;d=t;return e};e.forceY=function(t){if(!arguments.length)return v;v=t;return e};e.forceSize=function(t){if(!arguments.length)return m;m=t;return e};e.interactive=function(t){if(!arguments.length)return g;g=t;return e};e.pointKey=function(t){if(!arguments.length)return y;y=t;return e};e.pointActive=function(t){if(!arguments.length)return b;b=t;return e};e.padData=function(t){if(!arguments.length)return w;w=t;return e};e.padDataOuter=function(t){if(!arguments.length)return E;E=t;return e};e.clipEdge=function(t){if(!arguments.length)return S;S=t;return e};e.clipVoronoi=function(t){if(!arguments.length)return x;x=t;return e};e.useVoronoi=function(t){if(!arguments.length)return D;D=t;if(D===false){x=false}return e};e.clipRadius=function(t){if(!arguments.length)return T;T=t;return e};e.color=function(t){if(!arguments.length)return i;i=nv.utils.getColor(t);return e};e.shape=function(t){if(!arguments.length)return h;h=t;return e};e.onlyCircles=function(t){if(!arguments.length)return p;p=t;return e};e.id=function(t){if(!arguments.length)return s;s=t;return e};e.singlePoint=function(t){if(!arguments.length)return M;M=t;return e};return e};nv.models.stackedArea=function(){"use strict";function e(a){a.each(function(e){var a=n-t.left-t.right,g=r-t.top-t.bottom,y=d3.select(this);p=v.xScale();d=v.yScale();e=e.map(function(e,t){e.seriesIndex=t;e.values=e.values.map(function(e,n){e.index=n;e.seriesIndex=t;return e});return e});var b=e.filter(function(e){return!e.disabled});e=d3.layout.stack().order(l).offset(f).values(function(e){return e.values}).x(o).y(u).out(function(e,t,n){var r=u(e)===0?0:n;e.display={y:r,y0:t}})(b);var w=y.selectAll("g.nv-wrap.nv-stackedarea").data([e]);var E=w.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea");var S=E.append("defs");var x=E.append("g");var T=w.select("g");x.append("g").attr("class","nv-areaWrap");x.append("g").attr("class","nv-scatterWrap");w.attr("transform","translate("+t.left+","+t.top+")");v.width(a).height(g).x(o).y(function(e){return e.display.y+e.display.y0}).forceY([0]).color(e.map(function(e,t){return e.color||i(e,e.seriesIndex)}));var N=T.select(".nv-scatterWrap").datum(e);N.call(v);S.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect");w.select("#nv-edge-clip-"+s+" rect").attr("width",a).attr("height",g);T.attr("clip-path",h?"url(#nv-edge-clip-"+s+")":"");var C=d3.svg.area().x(function(e,t){return p(o(e,t))}).y0(function(e){return d(e.display.y0)}).y1(function(e){return d(e.display.y+e.display.y0)}).interpolate(c);var k=d3.svg.area().x(function(e,t){return p(o(e,t))}).y0(function(e){return d(e.display.y0)}).y1(function(e){return d(e.display.y0)});var L=T.select(".nv-areaWrap").selectAll("path.nv-area").data(function(e){return e});L.enter().append("path").attr("class",function(e,t){return"nv-area nv-area-"+t}).attr("d",function(e,t){return k(e.values,e.seriesIndex)}).on("mouseover",function(e,t){d3.select(this).classed("hover",true);m.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t})}).on("mouseout",function(e,t){d3.select(this).classed("hover",false);m.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t})}).on("click",function(e,t){d3.select(this).classed("hover",false);m.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t})});L.exit().transition().attr("d",function(e,t){return k(e.values,t)}).remove();L.style("fill",function(e,t){return e.color||i(e,e.seriesIndex)}).style("stroke",function(e,t){return e.color||i(e,e.seriesIndex)});L.transition().attr("d",function(e,t){return C(e.values,t)});v.dispatch.on("elementMouseover.area",function(e){T.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",true)});v.dispatch.on("elementMouseout.area",function(e){T.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",false)})});return e}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=nv.utils.defaultColor(),s=Math.floor(Math.random()*1e5),o=function(e){return e.x},u=function(e){return e.y},a="stack",f="zero",l="default",c="linear",h=false,p,d,v=nv.models.scatter(),m=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");v.size(2.2).sizeDomain([2.2,2.2]);v.dispatch.on("elementClick.area",function(e){m.areaClick(e)});v.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],m.tooltipShow(e)});v.dispatch.on("elementMouseout.tooltip",function(e){m.tooltipHide(e)});e.dispatch=m;e.scatter=v;d3.rebind(e,v,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights");e.options=nv.utils.optionsFunc.bind(e);e.x=function(t){if(!arguments.length)return o;o=d3.functor(t);return e};e.y=function(t){if(!arguments.length)return u;u=d3.functor(t);return e};e.margin=function(n){if(!arguments.length)return t;t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left;return e};e.width=function(t){if(!arguments.length)return n;n=t;return e};e.height=function(t){if(!arguments.length)return r;r=t;return e};e.clipEdge=function(t){if(!arguments.length)return h;h=t;return e};e.color=function(t){if(!arguments.length)return i;i=nv.utils.getColor(t);return e};e.offset=function(t){if(!arguments.length)return f;f=t;return e};e.order=function(t){if(!arguments.length)return l;l=t;return e};e.style=function(t){if(!arguments.length)return a;a=t;switch(a){case"stack":e.offset("zero");e.order("default");break;case"stream":e.offset("wiggle");e.order("inside-out");break;case"stream-center":e.offset("silhouette");e.order("inside-out");break;case"expand":e.offset("expand");e.order("default");break}return e};e.interpolate=function(t){if(!arguments.length)return c;c=t;return e};return e};nv.models.stackedAreaChart=function(){"use strict";function e(y){y.each(function(y){var O=d3.select(this),M=this;var _=(a||parseInt(O.style("width"))||960)-u.left-u.right,D=(f||parseInt(O.style("height"))||400)-u.top-u.bottom;e.update=function(){O.transition().duration(L).call(e)};e.container=this;S.disabled=y.map(function(e){return!!e.disabled});if(!x){var P;x={};for(P in S){if(S[P]instanceof Array)x[P]=S[P].slice(0);else x[P]=S[P]}}if(!y||!y.length||!y.filter(function(e){return e.values.length}).length){var H=O.selectAll(".nv-noData").data([T]);H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");H.attr("x",u.left+_/2).attr("y",u.top+D/2).text(function(e){return e});return e}else{O.selectAll(".nv-noData").remove()}b=t.xScale();w=t.yScale();var B=O.selectAll("g.nv-wrap.nv-stackedAreaChart").data([y]);var j=B.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");var F=B.select("g");j.append("rect").style("opacity",0);j.append("g").attr("class","nv-x nv-axis");j.append("g").attr("class","nv-y nv-axis");j.append("g").attr("class","nv-stackedWrap");j.append("g").attr("class","nv-legendWrap");j.append("g").attr("class","nv-controlsWrap");j.append("g").attr("class","nv-interactive");F.select("rect").attr("width",_).attr("height",D);if(h){var I=c?_-C:_;i.width(I);F.select(".nv-legendWrap").datum(y).call(i);if(u.top!=i.height()){u.top=i.height();D=(f||parseInt(O.style("height"))||400)-u.top-u.bottom}F.select(".nv-legendWrap").attr("transform","translate("+(_-I)+","+ -u.top+")")}if(c){var q=[{key:"Stacked",disabled:t.offset()!="zero"},{key:"Stream",disabled:t.offset()!="wiggle"},{key:"Expanded",disabled:t.offset()!="expand"}];C=k.length/3*260;q=q.filter(function(e){return k.indexOf(e.key)>-1});s.width(C).color(["#444","#444","#444"]);F.select(".nv-controlsWrap").datum(q).call(s);if(u.top!=Math.max(s.height(),i.height())){u.top=Math.max(s.height(),i.height());D=(f||parseInt(O.style("height"))||400)-u.top-u.bottom}F.select(".nv-controlsWrap").attr("transform","translate(0,"+ -u.top+")")}B.attr("transform","translate("+u.left+","+u.top+")");if(v){F.select(".nv-y.nv-axis").attr("transform","translate("+_+",0)")}if(m){o.width(_).height(D).margin({left:u.left,top:u.top}).svgContainer(O).xScale(b);B.select(".nv-interactive").call(o)}t.width(_).height(D);var R=F.select(".nv-stackedWrap").datum(y);R.transition().call(t);if(p){n.scale(b).ticks(_/100).tickSize(-D,0);F.select(".nv-x.nv-axis").attr("transform","translate(0,"+D+")");F.select(".nv-x.nv-axis").transition().duration(0).call(n)}if(d){r.scale(w).ticks(t.offset()=="wiggle"?0:D/36).tickSize(-_,0).setTickFormat(t.offset()=="expand"?d3.format("%"):E);F.select(".nv-y.nv-axis").transition().duration(0).call(r)}t.dispatch.on("areaClick.toggle",function(t){if(y.filter(function(e){return!e.disabled}).length===1)y=y.map(function(e){e.disabled=false;return e});else y=y.map(function(e,n){e.disabled=n!=t.seriesIndex;return e});S.disabled=y.map(function(e){return!!e.disabled});N.stateChange(S);e.update()});i.dispatch.on("stateChange",function(t){S.disabled=t.disabled;N.stateChange(S);e.update()});s.dispatch.on("legendClick",function(n,r){if(!n.disabled)return;q=q.map(function(e){e.disabled=true;return e});n.disabled=false;switch(n.key){case"Stacked":t.style("stack");break;case"Stream":t.style("stream");break;case"Expanded":t.style("expand");break}S.style=t.style();N.stateChange(S);e.update()});o.dispatch.on("elementMousemove",function(i){t.clearHighlights();var s,a,f,c=[];y.filter(function(e,t){e.seriesIndex=t;return!e.disabled}).forEach(function(n,r){a=nv.interactiveBisect(n.values,i.pointXValue,e.x());t.highlightPoint(r,a,true);var o=n.values[a];if(typeof o==="undefined")return;if(typeof s==="undefined")s=o;if(typeof f==="undefined")f=e.xScale()(e.x()(o,a));c.push({key:n.key,value:e.y()(o,a),color:l(n,n.seriesIndex),stackedValue:o.display})});c.reverse();if(c.length>2){var h=e.yScale().invert(i.mouseY);var p=Infinity,d=null;c.forEach(function(e,t){if(h>=e.stackedValue.y0&&h<=e.stackedValue.y0+e.stackedValue.y){d=t;return}});if(d!=null)c[d].highlight=true}var v=n.tickFormat()(e.x()(s,a));o.tooltip.position({left:f+u.left,top:i.mouseY+u.top}).chartContainer(M.parentNode).enabled(g).valueFormatter(function(e,t){return r.tickFormat()(e)}).data({value:v,series:c})();o.renderGuideLine(f)});o.dispatch.on("elementMouseout",function(e){N.tooltipHide();t.clearHighlights()});N.on("tooltipShow",function(e){if(g)A(e,M.parentNode)});N.on("changeState",function(n){if(typeof n.disabled!=="undefined"){y.forEach(function(e,t){e.disabled=n.disabled[t]});S.disabled=n.disabled}if(typeof n.style!=="undefined"){t.style(n.style)}e.update()})});return e}var t=nv.models.stackedArea(),n=nv.models.axis(),r=nv.models.axis(),i=nv.models.legend(),s=nv.models.legend(),o=nv.interactiveGuideline();var u={top:30,right:25,bottom:50,left:60},a=null,f=null,l=nv.utils.defaultColor(),c=true,h=true,p=true,d=true,v=false,m=false,g=true,y=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" on "+t+"</p>"},b,w,E=d3.format(",.2f"),S={style:t.style()},x=null,T="No Data Available.",N=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),C=250,k=["Stacked","Stream","Expanded"],L=250;n.orient("bottom").tickPadding(7);r.orient(v?"right":"left");s.updateState(false);var A=function(i,s){var o=i.pos[0]+(s.offsetLeft||0),u=i.pos[1]+(s.offsetTop||0),a=n.tickFormat()(t.x()(i.point,i.pointIndex)),f=r.tickFormat()(t.y()(i.point,i.pointIndex)),l=y(i.series.key,a,f,i,e);nv.tooltip.show([o,u],l,i.value<0?"n":"s",null,s)};t.dispatch.on("tooltipShow",function(e){e.pos=[e.pos[0]+u.left,e.pos[1]+u.top],N.tooltipShow(e)});t.dispatch.on("tooltipHide",function(e){N.tooltipHide(e)});N.on("tooltipHide",function(){if(g)nv.tooltip.cleanup()});e.dispatch=N;e.stacked=t;e.legend=i;e.controls=s;e.xAxis=n;e.yAxis=r;e.interactiveLayer=o;d3.rebind(e,t,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");e.options=nv.utils.optionsFunc.bind(e);e.margin=function(t){if(!arguments.length)return u;u.top=typeof t.top!="undefined"?t.top:u.top;u.right=typeof t.right!="undefined"?t.right:u.right;u.bottom=typeof t.bottom!="undefined"?t.bottom:u.bottom;u.left=typeof t.left!="undefined"?t.left:u.left;return e};e.width=function(t){if(!arguments.length)return a;a=t;return e};e.height=function(t){if(!arguments.length)return f;f=t;return e};e.color=function(n){if(!arguments.length)return l;l=nv.utils.getColor(n);i.color(l);t.color(l);return e};e.showControls=function(t){if(!arguments.length)return c;c=t;return e};e.showLegend=function(t){if(!arguments.length)return h;h=t;return e};e.showXAxis=function(t){if(!arguments.length)return p;p=t;return e};e.showYAxis=function(t){if(!arguments.length)return d;d=t;return e};e.rightAlignYAxis=function(t){if(!arguments.length)return v;v=t;r.orient(t?"right":"left");return e};e.useInteractiveGuideline=function(t){if(!arguments.length)return m;m=t;if(t===true){e.interactive(false);e.useVoronoi(false)}return e};e.tooltip=function(t){if(!arguments.length)return y;y=t;return e};e.tooltips=function(t){if(!arguments.length)return g;g=t;return e};e.tooltipContent=function(t){if(!arguments.length)return y;y=t;return e};e.state=function(t){if(!arguments.length)return S;S=t;return e};e.defaultState=function(t){if(!arguments.length)return x;x=t;return e};e.noData=function(t){if(!arguments.length)return T;T=t;return e};e.transitionDuration=function(t){if(!arguments.length)return L;L=t;return e};e.controlsData=function(t){if(!arguments.length)return k;k=t;return e};r.setTickFormat=r.tickFormat;r.tickFormat=function(e){if(!arguments.length)return E;E=e;return r};return e};!function(e,t,n){function r(e,n){var r=t.createElement(e||"div"),i;for(i in n)r[i]=n[i];return r}function i(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function s(e,t,n,r){var i=["opacity",t,~~(e*100),n,r].join("-"),s=.01+n/r*100,o=Math.max(1-(1-e)/t*(100-s),e),u=p.substring(0,p.indexOf("Animation")).toLowerCase(),a=u&&"-"+u+"-"||"";if(!h[i]){d.insertRule("@"+a+"keyframes "+i+"{"+"0%{opacity:"+o+"}"+s+"%{opacity:"+e+"}"+(s+.01)+"%{opacity:1}"+(s+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+o+"}"+"}",d.cssRules.length);h[i]=1}return i}function o(e,t){var r=e.style,i,s;if(r[t]!==n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(s=0;s<c.length;s++){i=c[s]+t;if(r[i]!==n)return i}}function u(e,t){for(var n in t)e.style[o(e,n)||n]=t[n];return e}function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)if(e[i]===n)e[i]=r[i]}return e}function f(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function l(e){if(!this.spin)return new l(e);this.opts=a(e||{},l.defaults,v)}var c=["webkit","Moz","ms","O"],h={},p;var d=function(){var e=r("style",{type:"text/css"});i(t.getElementsByTagName("head")[0],e);return e.sheet||e.styleSheet}();var v={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};l.defaults={};a(l.prototype,{spin:function(e){this.stop();var t=this,n=t.opts,i=t.el=u(r(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),s=n.radius+n.length+n.width,o,a;if(e){e.insertBefore(i,e.firstChild||null);a=f(e);o=f(i);u(i,{left:(n.left=="auto"?a.x-o.x+(e.offsetWidth>>1):parseInt(n.left,10)+s)+"px",top:(n.top=="auto"?a.y-o.y+(e.offsetHeight>>1):parseInt(n.top,10)+s)+"px"})}i.setAttribute("aria-role","progressbar");t.lines(i,t.opts);if(!p){var l=0,c=n.fps,h=c/n.speed,d=(1-n.opacity)/(h*n.trail/100),v=h/n.lines;(function m(){l++;for(var e=n.lines;e;e--){var r=Math.max(1-(l+e*v)%h*d,n.opacity);t.opacity(i,n.lines-e,r,n)}t.timeout=t.el&&setTimeout(m,~~(1e3/c))})()}return t},stop:function(){var e=this.el;if(e){clearTimeout(this.timeout);if(e.parentNode)e.parentNode.removeChild(e);this.el=n}return this},lines:function(e,t){function n(e,n){return u(r(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*o+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}var o=0,a;for(;o<t.lines;o++){a=u(r(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:p&&s(t.opacity,t.trail,o,t.lines)+" "+1/t.speed+"s linear infinite"});if(t.shadow)i(a,u(n("#000","0 0 4px "+"#000"),{top:2+"px"}));i(e,i(a,n(t.color,"0 0 1px rgba(0,0,0,.1)")))}return e},opacity:function(e,t,n){if(t<e.childNodes.length)e.childNodes[t].style.opacity=n}});(function(){function e(e,t){return r("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=u(r("group"),{behavior:"url(#default#VML)"});if(!o(t,"transform")&&t.adj){d.addRule(".spin-vml","behavior:url(#default#VML)");l.prototype.lines=function(t,n){function r(){return u(e("group",{coordsize:a+" "+a,coordorigin:-o+" "+ -o}),{width:a,height:a})}function s(t,s,a){i(l,i(u(r(),{rotation:360/n.lines*t+"deg",left:~~s}),i(u(e("roundrect",{arcsize:n.corners}),{width:o,height:n.width,left:n.radius,top:-n.width>>1,filter:a}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var o=n.length+n.width,a=2*o;var f=-(n.width+n.length)*2+"px",l=u(r(),{position:"absolute",top:f,left:f}),c;if(n.shadow)for(c=1;c<=n.lines;c++)s(c,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(c=1;c<=n.lines;c++)s(c);return i(t,l)};l.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0;if(i&&t+r<i.childNodes.length){i=i.childNodes[t+r];i=i&&i.firstChild;i=i&&i.firstChild;if(i)i.opacity=n}}}else p=o(t,"animation")})();if(typeof define=="function"&&define.amd)define(function(){return l});else e.Spinner=l}(window,document);var Gitgraph=function(e){var t=function(e){var t=document.createElement("div");var n=e.domNode||document.body,r=e.height||40,i=e.width||416,s=e.background||"white",o=e.userColor||"rgb(51, 102, 153)",u=e.allColor||"rgb(202, 202, 202)",a=e.hasOwnProperty("showName")?e.showName:true;var f=(new Spinner).spin(t);f.el.style.left="50%";f.el.style.top="50%";var l=t.style;l.padding="4px",l.borderRadius="4px",l.background=s,l.position="relative",l.height=r+"px",l.textAlign="center",l.width=i+"px";n.appendChild(t);var c="http://cdn.bitpshr.net/simple-proxy/simple-proxy.php",h="?url=https://github.com/"+e.user+"/"+e.repo+"/graphs/owner_participation";var p=new XMLHttpRequest;p.open("GET",c+h,true);p.onreadystatechange=function(){if(p.readyState==4&&p.status==200){var n=JSON.parse(p.responseText);if(n&&n.all){var s=n.all,f="https://github.com/"+e.user+"/"+e.repo+"/";t.innerHTML="";var l=document.createElement("canvas");l.width=i;l.height=r;l.style.position="relative";var c=document.createElement("a");c.href=f;c.appendChild(l);t.appendChild(c);if(a){var h=document.createElement("div");h.innerHTML=e.user+"/"+e.repo;var d=h.style;d.fontSize="12px",d.borderRadius="3px",d.color="#EEE",d.backgroundColor="rgba(0,0,0,0.5)",d.display="inline-block",d.padding="5px",d.position="absolute",d.top=d.right="5px";c.appendChild(h)}var v=l.getContext("2d"),m=i/s.length,g=Math.max.apply(Math,s),y=parseFloat(r-1)/g;var b=function(e,t){e*=y;v.fillRect(t*m,r-e,m-1,e)};v.fillStyle=u;var w,E;for(w=0,E=s.length;w<E;w++){b(s[w],w)}v.fillStyle=o;for(w=0,E=n.owner.length;w<E;w++){b(n.owner[w],w)}}}};p.send(null)};t.prototype={constructor:t};return t}();nv.models.line=function(){"use strict";function v(m){m.each(function(v){var m=n-t.left-t.right,g=r-t.top-t.bottom,b=d3.select(this);l=e.xScale();c=e.yScale();p=p||l;d=d||c;var w=b.selectAll("g.nv-wrap.nv-line").data([v]);var E=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line");var S=E.append("defs");var T=E.append("g");var N=w.select("g");T.append("g").attr("class","nv-groups");T.append("g").attr("class","nv-scatterWrap");w.attr("transform","translate("+t.left+","+t.top+")");e.width(m).height(g);var C=w.select(".nv-scatterWrap");C.transition().call(e);S.append("clipPath").attr("id","nv-edge-clip-"+e.id()).append("rect");w.select("#nv-edge-clip-"+e.id()+" rect").attr("width",m).attr("height",g);N.attr("clip-path",f?"url(#nv-edge-clip-"+e.id()+")":"");C.attr("clip-path",f?"url(#nv-edge-clip-"+e.id()+")":"");var k=w.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});k.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);k.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();k.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return i(e,t)}).style("stroke",function(e,t){return i(e,t)});k.transition().style("stroke-opacity",1).style("fill-opacity",.5);var L=k.selectAll("path.nv-area").data(function(e){return a(e)?[e]:[]});L.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(h).defined(u).x(function(e,t){return nv.utils.NaNtoZero(p(s(e,t)))}).y0(function(e,t){return nv.utils.NaNtoZero(d(o(e,t)))}).y1(function(e,t){return d(c.domain()[0]<=0?c.domain()[1]>=0?0:c.domain()[1]:c.domain()[0])}).apply(this,[e.values])});k.exit().selectAll("path.nv-area").remove();L.transition().attr("d",function(e){return d3.svg.area().interpolate(h).defined(u).x(function(e,t){return nv.utils.NaNtoZero(l(s(e,t)))}).y0(function(e,t){return nv.utils.NaNtoZero(c(o(e,t)))}).y1(function(e,t){return c(c.domain()[0]<=0?c.domain()[1]>=0?0:c.domain()[1]:c.domain()[0])}).apply(this,[e.values])});var A=k.selectAll("path.nv-line").data(function(e){return[e.values]});A.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(h).defined(u).x(function(e,t){return nv.utils.NaNtoZero(p(s(e,t)))}).y(function(e,t){return nv.utils.NaNtoZero(d(o(e,t)))}));k.exit().selectAll("path.nv-line").transition().attr("d",d3.svg.line().interpolate(h).defined(u).x(function(e,t){return nv.utils.NaNtoZero(l(s(e,t)))}).y(function(e,t){return nv.utils.NaNtoZero(c(o(e,t)))}));A.transition().attr("d",d3.svg.line().interpolate(h).defined(u).x(function(e,t){return nv.utils.NaNtoZero(l(s(e,t)))}).y(function(e,t){return nv.utils.NaNtoZero(c(o(e,t)))}));p=l.copy();d=c.copy()});return v}var e=nv.models.scatter();var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=nv.utils.defaultColor(),s=function(e){return e.x},o=function(e){return e.y},u=function(e,t){return!isNaN(o(e,t))&&o(e,t)!==null},a=function(e){return e.area},f=false,l,c,h="linear";e.size(16).sizeDomain([16,256]);var p,d;v.dispatch=e.dispatch;v.scatter=e;d3.rebind(v,e,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");v.options=nv.utils.optionsFunc.bind(v);v.margin=function(e){if(!arguments.length)return t;t.top=typeof e.top!="undefined"?e.top:t.top;t.right=typeof e.right!="undefined"?e.right:t.right;t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom;t.left=typeof e.left!="undefined"?e.left:t.left;return v};v.width=function(e){if(!arguments.length)return n;n=e;return v};v.height=function(e){if(!arguments.length)return r;r=e;return v};v.x=function(t){if(!arguments.length)return s;s=t;e.x(t);return v};v.y=function(t){if(!arguments.length)return o;o=t;e.y(t);return v};v.clipEdge=function(e){if(!arguments.length)return f;f=e;return v};v.color=function(t){if(!arguments.length)return i;i=nv.utils.getColor(t);e.color(i);return v};v.interpolate=function(e){if(!arguments.length)return h;h=e;return v};v.defined=function(e){if(!arguments.length)return u;u=e;return v};v.isArea=function(e){if(!arguments.length)return a;a=d3.functor(e);return v};return v};nv.models.lineChart=function(){"use strict";function T(v){v.each(function(v){var N=d3.select(this),C=this;var k=(u||parseInt(N.style("width"))||960)-s.left-s.right,L=(a||parseInt(N.style("height"))||400)-s.top-s.bottom;T.update=function(){N.transition().duration(S).call(T)};T.container=this;y.disabled=v.map(function(e){return!!e.disabled});if(!b){var A;b={};for(A in y){if(y[A]instanceof Array)b[A]=y[A].slice(0);else b[A]=y[A]}}if(!v||!v.length||!v.filter(function(e){return e.values.length}).length){var O=N.selectAll(".nv-noData").data([w]);O.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");O.attr("x",s.left+k/2).attr("y",s.top+L/2).text(function(e){return e});return T}else{N.selectAll(".nv-noData").remove()}m=e.xScale();g=e.yScale();var M=N.selectAll("g.nv-wrap.nv-lineChart").data([v]);var _=M.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g");var D=M.select("g");_.append("rect").style("opacity",0);_.append("g").attr("class","nv-x nv-axis");_.append("g").attr("class","nv-y nv-axis");_.append("g").attr("class","nv-linesWrap");_.append("g").attr("class","nv-legendWrap");_.append("g").attr("class","nv-interactive");D.select("rect").attr("width",k).attr("height",L);if(f){r.width(k);D.select(".nv-legendWrap").datum(v).call(r);if(s.top!=r.height()){s.top=r.height();L=(a||parseInt(N.style("height"))||400)-s.top-s.bottom}M.select(".nv-legendWrap").attr("transform","translate(0,"+ -s.top+")")}M.attr("transform","translate("+s.left+","+s.top+")");if(h){D.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)")}if(p){i.width(k).height(L).margin({left:s.left,top:s.top}).svgContainer(N).xScale(m);M.select(".nv-interactive").call(i)}e.width(k).height(L).color(v.map(function(e,t){return e.color||o(e,t)}).filter(function(e,t){return!v[t].disabled}));var P=D.select(".nv-linesWrap").datum(v.filter(function(e){return!e.disabled}));P.transition().call(e);if(l){t.scale(m).ticks(k/100).tickSize(-L,0);D.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")");D.select(".nv-x.nv-axis").transition().call(t)}if(c){n.scale(g).ticks(L/36).tickSize(-k,0);D.select(".nv-y.nv-axis").transition().call(n)}r.dispatch.on("stateChange",function(e){y=e;E.stateChange(y);T.update()});i.dispatch.on("elementMousemove",function(r){e.clearHighlights();var u,a,f,l=[];v.filter(function(e,t){e.seriesIndex=t;return!e.disabled}).forEach(function(t,n){a=nv.interactiveBisect(t.values,r.pointXValue,T.x());e.highlightPoint(n,a,true);var i=t.values[a];if(typeof i==="undefined")return;if(typeof u==="undefined")u=i;if(typeof f==="undefined")f=T.xScale()(T.x()(i,a));l.push({key:t.key,value:T.y()(i,a),color:o(t,t.seriesIndex)})});if(l.length>2){var c=T.yScale().invert(r.mouseY);var h=Math.abs(T.yScale().domain()[0]-T.yScale().domain()[1]);var p=.03*h;var m=nv.nearestValueIndex(l.map(function(e){return e.value}),c,p);if(m!==null)l[m].highlight=true}var g=t.tickFormat()(T.x()(u,a));i.tooltip.position({left:f+s.left,top:r.mouseY+s.top}).chartContainer(C.parentNode).enabled(d).valueFormatter(function(e,t){return n.tickFormat()(e)}).data({value:g,series:l})();i.renderGuideLine(f)});i.dispatch.on("elementMouseout",function(t){E.tooltipHide();e.clearHighlights()});E.on("tooltipShow",function(e){if(d)x(e,C.parentNode)});E.on("changeState",function(e){if(typeof e.disabled!=="undefined"){v.forEach(function(t,n){t.disabled=e.disabled[n]});y.disabled=e.disabled}T.update()})});return T}var e=nv.models.line(),t=nv.models.axis(),n=nv.models.axis(),r=nv.models.legend(),i=nv.interactiveGuideline();var s={top:30,right:20,bottom:50,left:60},o=nv.utils.defaultColor(),u=null,a=null,f=true,l=true,c=true,h=false,p=false,d=true,v=function(e,t,n,r,i){return"<h3>"+e+"</h3>"+"<p>"+n+" at "+t+"</p>"},m,g,y={},b=null,w="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),S=250;t.orient("bottom").tickPadding(7);n.orient(h?"right":"left");var x=function(r,i){var s=r.pos[0]+(i.offsetLeft||0),o=r.pos[1]+(i.offsetTop||0),u=t.tickFormat()(e.x()(r.point,r.pointIndex)),a=n.tickFormat()(e.y()(r.point,r.pointIndex)),f=v(r.series.key,u,a,r,T);nv.tooltip.show([s,o],f,null,null,i)};e.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+s.left,e.pos[1]+s.top];E.tooltipShow(e)});e.dispatch.on("elementMouseout.tooltip",function(e){E.tooltipHide(e)});E.on("tooltipHide",function(){if(d)nv.tooltip.cleanup()});T.dispatch=E;T.lines=e;T.legend=r;T.xAxis=t;T.yAxis=n;T.interactiveLayer=i;d3.rebind(T,e,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate");T.options=nv.utils.optionsFunc.bind(T);T.margin=function(e){if(!arguments.length)return s;s.top=typeof e.top!="undefined"?e.top:s.top;s.right=typeof e.right!="undefined"?e.right:s.right;s.bottom=typeof e.bottom!="undefined"?e.bottom:s.bottom;s.left=typeof e.left!="undefined"?e.left:s.left;return T};T.width=function(e){if(!arguments.length)return u;u=e;return T};T.height=function(e){if(!arguments.length)return a;a=e;return T};T.color=function(e){if(!arguments.length)return o;o=nv.utils.getColor(e);r.color(o);return T};T.showLegend=function(e){if(!arguments.length)return f;f=e;return T};T.showXAxis=function(e){if(!arguments.length)return l;l=e;return T};T.showYAxis=function(e){if(!arguments.length)return c;c=e;return T};T.rightAlignYAxis=function(e){if(!arguments.length)return h;h=e;n.orient(e?"right":"left");return T};T.useInteractiveGuideline=function(e){if(!arguments.length)return p;p=e;if(e===true){T.interactive(false);T.useVoronoi(false)}return T};T.tooltips=function(e){if(!arguments.length)return d;d=e;return T};T.tooltipContent=function(e){if(!arguments.length)return v;v=e;return T};T.state=function(e){if(!arguments.length)return y;y=e;return T};T.defaultState=function(e){if(!arguments.length)return b;b=e;return T};T.noData=function(e){if(!arguments.length)return w;w=e;return T};T.transitionDuration=function(e){if(!arguments.length)return S;S=e;return T};return T}